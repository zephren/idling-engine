(this.webpackJsonpcraftjs=this.webpackJsonpcraftjs||[]).push([[0],{15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return setUpdateUIFunction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return game})),__webpack_require__.d(__webpack_exports__,"a",(function(){return executeCode}));var _home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),_lib_dataStorage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29),_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17);function setUpdateUIFunction(e){game.update=e}var game={settings:{tickInterval:1e3},data:{},actions:{},conditionals:{},dataSources:{},visibilitySources:{},configure:function(e){console.log("game.configure not defined")},isInitialized:!1,isGameDataInitialized:!1,_initialize:function(e){console.log("game.initialize not defined")},_initializeGameData:function(){console.log("game.initializeGameData not defined")},get initialize(){return this._initialize},set initialize(e){var t=this;this._initialize=function(n){console.log("Initializing Game"),t.isInitialized=!0,e(n)}},get initializeGameData(){return this._initializeGameData},set initializeGameData(e){var t=this;this._initializeGameData=function(){console.log("Initializing Game Data"),t.isInitialized=!0,e()}},tick:function(){console.log("game.tick not defined")},update:function(){console.log("game.update not defined")}},currentTimeout=null;function tick(){currentTimeout=setTimeout((function(){try{game.tick()}catch(e){console.error(e)}tick()}),game.settings.tickInterval)}function executeCode(){var files=_data__WEBPACK_IMPORTED_MODULE_2__.a.gameData.codeFiles,finalCode="",_iterator=Object(_home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;finalCode+=file.code+"\n\n"}}catch(err){_iterator.e(err)}finally{_iterator.f()}var lines=finalCode.split("\n"),numberWidth=Math.floor(Math.log(lines.length));console.log(lines.map((function(e,t){return"".concat((t+1).toString().padEnd(numberWidth)," ").concat(e)})).join("\n"));try{currentTimeout&&clearTimeout(currentTimeout),eval(finalCode);var loadedGameData=_lib_dataStorage__WEBPACK_IMPORTED_MODULE_1__.a.get("savedGameData",{});console.log("loadedGameData",loadedGameData),game.isInitialized||game.initialize(loadedGameData),game.configure(game.settings),tick()}catch(err){err.message="GAME SCRIPT ERROR: "+err.message,console.error(err)}}setInterval((function(){_lib_dataStorage__WEBPACK_IMPORTED_MODULE_1__.a.set("savedGameData",game.data)}),5e3),window.game=game},162:function(e){e.exports=JSON.parse('{"name":"craftjs","version":"1.0.7","private":true,"dependencies":{"@craftjs/core":"0.1.0-beta.13","@material-ui/core":"^4.11.2","@material-ui/icons":"^4.11.2","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.6.0","@types/jest":"^26.0.19","@types/node":"^12.19.11","@types/react":"^16.14.2","@types/react-dom":"^16.9.10","ace-builds":"^1.4.12","axios":"^0.21.1","material-ui-color-picker":"^3.5.1","react":"^17.0.1","react-ace":"^9.2.1","react-contenteditable":"^3.3.5","react-dom":"^17.0.1","react-markdown":"^5.0.3","react-router-dom":"^5.2.0","react-scripts":"4.0.1","typescript":"^4.1.3","uuid":"^8.3.2","web-vitals":"^0.2.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm version patch && git push && npm run build","deploy":"gh-pages -d build","sync":"git add . && git commit -m \'Sync\' && git push"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-router-dom":"^5.1.6","@types/uuid":"^8.3.0","gh-pages":"^3.1.0"},"homepage":"https://zephren.github.io/idling-engine"}')},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={gameData:null,customComponents:[]}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(69),r=n(70),o=new(function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"get",value:function(e,t){return localStorage[e]?JSON.parse(localStorage[e]):t}},{key:"set",value:function(e,t){localStorage[e]=JSON.stringify(t)}},{key:"delete",value:function(e){delete localStorage[e]}}]),e}())},717:function(e,t,n){},718:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),c=n(16),i=n.n(c),s=n(58),l=n.n(s),u=n(38),p=n(81),d=n(69),j=n(70),m=n(172),b=n(171),f=n(25),O={DEBUG:1,INFO:2,WARN:3,ERROR:4},h=console,x=Object(f.a)({},console);h.logLevels=O,h.logLevel=O.DEBUG,h.debug=function(){if(h.logLevel<=O.DEBUG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.debug.apply(x,["DEBUG"].concat(t))}},h.info=function(){if(h.logLevel<=O.INFO){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.info.apply(x,["INFO"].concat(t))}},h.warn=function(){if(h.logLevel<=O.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.warn.apply(x,["WARN"].concat(t))}},h.error=function(){if(h.logLevel<=O.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.error.apply(x,["ERROR"].concat(t))}};console;var g=n(18),v=n(149),y=n.n(v),C=(n(199),n(614),n(615),n(150)),_=n.n(C),S=n(21),N=n(751),k=n(753),w=n(755),D=n(721),I=n(756),P=n(757),E=n(791),G=n(761),z=n(794),F=n(157),T=n.n(F),A=n(156),R=n.n(A),B=n(17),U={state:{localSettings:{highlightComponents:!0,previousHighlightComponents:!0,styleDrawerOpen:!1,styleDrawerComponentName:"",styleDrawerStyleId:"",lastCodeFile:""},optionsDrawerOpen:!1},editorQuery:null,update:function(){console.log("Update function not defined")}},M=o.a.createContext(U);window.store=U;var W=n(15),L=n(789),V="\n\n// You may wish to move each of the following to its own file\n\ngame.configure = (settings) => {\n  // Update any game settings here\n  // settings.tickInterval = 5000\n}\n\ngame.initialize = (loadedGameData) => {\n  // Code executed when the application starts up\n  game.data = new GameData(loadedGameData);\n}\n\ngame.initializeGameData = () => {\n  // Code executed when the resetting the game data\n  game.data = new GameData({});\n  game.update();\n}\n\ngame.tick = () => {\n  // The main function to handle game logic\n};\n\n// Define actions using game.actions ...\n// Define conditionals using game.conditionals ...\n\ngame.actions.buttonClick = () => {\n  game.data.counter++;\n  game.update();\n}\n",H="\n\nclass GameData {\n  constructor(data) {\n    this._updateData(data);\n\n    // Set the data\n    for (const property in data) {\n      this[property] = data[property];\n    }\n  }\n\n  _updateData() {\n    // Use this to update game data as changes are made\n    if (!this.counter) {\n      this.counter = 0;\n    }\n  }\n\n  // Can use getters as well for use with variableText\n}\n",q=n(29);function J(){q.a.set("localSettings",U.state.localSettings)}var K={},Q=n(72),Y=n(9),$=Object(N.a)((function(e){return{componentEditing:{boxShadow:"inset 0em 0em 0em 2px rgba(255, 50, 50, 1)",minHeight:"5px",minWidth:"5px",padding:"10px!important"},componentSelected:{boxShadow:"inset 0em 0em 0em 2px green"}}}));function X(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return[].concat(Object(Q.a)(a),[e&&U.state.localSettings.highlightComponents?n.componentEditing:"",t?n.componentSelected:""]).join(" ")}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.additionalClasses,n=void 0===t?[]:t,a=Object(r.useContext)(M),o=Object(Y.e)((function(e){return{selected:e.events.selected}})),c=o.connectors,i=c.connect,s=c.drag,l=o.selected,u=Object(Y.d)((function(e){return{enabled:e.options.enabled}})),p=u.enabled,d=$(),j=X(p,l,d,n),m=function(e){return i(s(e))};return{refFn:m,selected:l,enabled:p,componentClassName:j,store:a}}var ee=new(function(){function e(){Object(d.a)(this,e),this.components={}}return Object(j.a)(e,[{key:"addComponent",value:function(e){this.components[e.componentName]={name:e.componentName,component:e}}}]),e}()),te={};function ne(e){console.log("Registering custom component ".concat(e.componentName)),te[e.componentName]=e,ee.addComponent(e)}function ae(){var e=U.editorQuery;if(e){console.debug("Saving game data");var t={};for(var n in te){var a=te[n];t[n]=a.baseStyle}var r=e.serialize();"{}"===r&&(r=null),B.a.gameData={id:Math.random(),layout:r,baseStyles:t,customStyles:K,customComponents:B.a.customComponents,codeFiles:B.a.gameData.codeFiles},q.a.set("gameData",B.a.gameData)}else console.error("store.editorQuery not set")}window.registerCustomComponent=ne,window.useSetupComponent=Z;var re=Object(N.a)((function(e){return{fileName:{fontSize:e.typography.fontSize}}}));function oe(){var e=Object(S.g)(),t=re(),n=Object(r.useState)(!1),o=Object(g.a)(n,2),c=o[0],i=o[1],s=Object(r.useState)(!1),l=Object(g.a)(s,2),u=l[0],p=l[1],d=Object(r.useState)({}),j=Object(g.a)(d,2),m=j[0],b=j[1];Object(r.useContext)(M);var O=B.a.gameData.codeFiles;function h(){ae()}function x(){!function(e){O=e,B.a.gameData.codeFiles=e}(O.filter((function(e,t){return!m[t]}))),b({})}function v(e,t){O.push({id:Object(L.a)(),name:e,code:t})}return Object(r.useEffect)((function(){var e=setInterval((function(){h()}),1e3);return function(){clearInterval(e),h(),Object(W.a)(),W.b.initialize(W.b.data)}}),[]),0===O.length&&(v("main","//main\n"+V),v("gameData","//gameData\n"+H)),Object(a.jsxs)(k.a,{container:!0,style:{position:"absolute",top:"37px",bottom:"0px",width:"100%"},children:[Object(a.jsx)(k.a,{item:!0,sm:2,style:{position:"relative"},children:Object(a.jsxs)(w.a,{dense:!0,style:{overflowY:"auto",position:"absolute",width:"100%",top:"0px",bottom:"0px"},children:[O.map((function(n,r){var o=e.location.pathname.includes(n.id);return Object(a.jsxs)(D.a,{style:{cursor:"pointer"},selected:o,onClick:function(){!function(t,n){if(u){var a=Object(f.a)({},m);a[n]=!a[n],b(a)}else U.state.localSettings.lastCodeFile=t,J(),e.push("/code/".concat(t))}(n.id,r)},children:[u&&Object(a.jsx)(I.a,{children:m[r]?Object(a.jsx)(R.a,{}):Object(a.jsx)(T.a,{})}),o?Object(a.jsx)(P.a,{primary:Object(a.jsx)(E.a,{value:n.name,onChange:function(e){n.name=e.target.value,i(!c)},size:"small",inputProps:{className:t.fileName}})}):Object(a.jsx)(P.a,{primary:n.name})]},n.id)})),Object(a.jsx)(G.a,{}),Object(a.jsx)(D.a,{button:!0,onClick:function(){var e="New File ".concat(O.length);v(e,"//".concat(e)),i(!c)},children:Object(a.jsx)(P.a,{primary:"+ New File"})}),Object(a.jsx)(G.a,{}),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(P.a,{primary:"Delete Files"}),Object(a.jsx)(z.a,{onChange:function(e){u&&x(),p(e.target.checked)},checked:u})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(P.a,{primary:"Beautify",secondary:"Ctrl + Shift + B"})})]})}),Object(a.jsx)(k.a,{item:!0,sm:10,style:{background:"red",position:"relative"},children:Object(a.jsxs)(S.d,{children:[O.map((function(e){return Object(a.jsx)(S.b,{path:"/code/".concat(e.id),render:function(){return Object(a.jsx)("div",{style:{position:"absolute",width:"100%",top:"0px",bottom:"0px"},children:Object(a.jsx)(y.a,{mode:"javascript",theme:"monokai",onChange:function(t){e.code=t},name:"Code Editor",editorProps:{$blockScrolling:!0},style:{width:"100%",height:"100%",fontSize:"1.1em"},value:e.code,tabSize:2,commands:_.a.commands,focus:!0})})}},e.id)})),Object(a.jsx)(S.b,{path:"/code",children:Object(a.jsx)(S.a,{to:"/code/".concat(O[0].id)})})]})})]})}var ce=n(763),ie=n(119),se=n(101),le=n.n(se),ue=n(26),pe=n(790);function de(e){var t=e.parts,n=[];return Object(a.jsx)(pe.a,{"aria-label":"breadcrumb",children:t.map((function(e,t){var r=Object(g.a)(e,2),o=r[0],c=r[1];return c&&n.push(c),Object(a.jsx)(ue.c,{to:"/".concat(n.join("/")),children:o},n.join(""))}))})}function je(){return Object.keys(ee.components).map((function(e){var t=ee.components[e];return"[".concat(t.componentName,"](/components/").concat(t.componentName,")")}))}var me={link:function(e){return Object(a.jsx)(ue.c,{to:e.href,children:e.children})}},be=Object(N.a)((function(){return{paper:{padding:"1em"}}}));function fe(){var e=be();return console.log("Documentation render"),Object(a.jsx)(ce.a,{children:Object(a.jsx)(ie.a,{className:e.paper,children:Object(a.jsx)(ue.a,{basename:"/idling-engine/documentation",children:Object(a.jsx)("div",{className:"markdown-container",children:Object(a.jsxs)(S.d,{children:[Object(a.jsx)(S.b,{path:"/components/:componentName",render:function(e){var t=ee.components[e.match.params.componentName].component;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(de,{parts:[["Documentation",""],["Components","components"],[t.componentName,t.componentName]]}),Object(a.jsx)(le.a,{plugins:[],children:t.documentation.md,renderers:me})]})}}),Object(a.jsx)(S.b,{path:"/components",render:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(de,{parts:[["Documentation",""],["Components","components"]]}),Object(a.jsx)(le.a,{plugins:[],children:"\n# Components\n".concat(je().join("\n\n"),"\n"),renderers:me})]})}}),Object(a.jsx)(S.b,{path:"/",render:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(de,{parts:[["Documentation",""]]}),Object(a.jsx)(le.a,{plugins:[],children:"\n# Idling Engine\n\n## Components\n".concat(je().join("\n\n"),"\n  "),renderers:me})]})}})]})})})})})}var Oe=n(786),he=n(76),xe=n(765),ge=n(796),ve=n(173),ye=n(766),Ce=n(767),_e=n(768),Se=n(769),Ne=n(770),ke=function(e){var t=e.component;return e.items.map((function(e,n){return t(e,n)}))},we=n(762),De=n(764),Ie=n(793),Pe=n(760),Ee=n(787),Ge=function(e){var t,n=e.value,r=e.items,o=e.label,c=e.onChange,i=[],s=Object(u.a)(r);try{for(s.s();!(t=s.n()).done;){var l=t.value,p="",d=null;"string"===typeof l?(p=l,d=l):(p=l.name,d=l.value),i.push(Object(a.jsx)(De.a,{value:d,children:p},p))}}catch(m){s.e(m)}finally{s.f()}var j=null;return o&&(j=Object(a.jsx)(Ie.a,{shrink:!0,children:o})),Object(a.jsxs)(Pe.a,{fullWidth:!0,children:[j,Object(a.jsx)(Ee.a,{value:n||"",onChange:c,children:i})]})},ze=n(99),Fe=n.n(ze),Te=function(e){var t=e.property,n=e.value,r=e.itemsFn,o=e.setProp;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ge,{value:n||"",items:r(),onChange:function(e){o((function(n){return n[t]=e.target.value}))}}),Object(a.jsx)(we.a,{onClick:function(){o((function(e){return e[t]=null}))},children:Object(a.jsx)(Fe.a,{})})]})},Ae=(n(795),function(e){var t=e.property,n=e.value,r=e.setProp;return Object(a.jsx)(E.a,{fullWidth:!0,value:n||"",onChange:function(e){r((function(n){n[t]=e.target.value}))}})}),Re=n(158),Be=n.n(Re);function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U.state.localSettings.styleDrawerOpen=!0,U.state.localSettings.previousHighlightComponents=U.state.localSettings.highlightComponents,U.state.localSettings.highlightComponents=!1,e.componentName&&(U.state.localSettings.styleDrawerComponentName=e.componentName,U.state.localSettings.styleDrawerStyleId=e.styleId||"",K[e.componentName]=K[e.componentName]||{}),J(),U.update()}var Me=function(e){var t=e.property,n=e.value,r=e.componentName,o=e.setProp;return K[r]&&0!==Object.keys(K[r]).length?Object(a.jsxs)(Oe.a,{display:"flex",alignItems:"flex-end",children:[Object(a.jsx)(Oe.a,{flexGrow:1,children:Object(a.jsx)(Ge,{value:n||"",items:Object.keys(K[r]).map((function(e){return{value:e,name:K[r][e]._name}})),onChange:function(e){o((function(n){return n[t]=e.target.value}))}})}),Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)(we.a,{onClick:function(){o((function(e){return e[t]=null}))},children:Object(a.jsx)(Fe.a,{})}),Object(a.jsx)(we.a,{onClick:function(){Ue({componentName:r,styleId:n})},children:Object(a.jsx)(Be.a,{})})]})]}):Object(a.jsx)(xe.a,{fullWidth:!0,variant:"contained",onClick:function(){Ue({componentName:r})},children:"Define a Style"})},We=function(e){var t=e.config,n=e.properties,r=e.setProp,o=[];if(!n)return console.error(t,new Error),null;var c,i=Object(u.a)(t);try{for(i.s();!(c=i.n()).done;){var s=c.value,l=s.property,p=Object(ve.a)(s,["property"]),d=n[l];o.push(Object(a.jsxs)(ye.a,{children:[Object(a.jsx)(Ce.a,{component:"td",scope:"row",style:{verticalAlign:"top"},children:l}),Object(a.jsx)(Ce.a,{children:Object(a.jsx)(s.type,Object(f.a)({property:l,value:d,setProp:r},p))})]},l))}}catch(j){i.e(j)}finally{i.f()}return Object(a.jsx)(_e.a,{children:Object(a.jsx)(Se.a,{size:"small",children:Object(a.jsx)(Ne.a,{children:o})})})},Le=function(e){return Object(Q.a)(Object.keys(te).reduce((function(t,n){var a=te[n];return a.toolboxItem&&t.push(a.toolboxItem(e)),t}),[]))},Ve=function(){var e=Object(Y.d)(),t=e.connectors,n=e.actions,o=Object(r.useState)(null),c=Object(g.a)(o,2),i=c[0],s=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Oe.a,{px:2,py:2,children:Object(a.jsxs)(k.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,children:[Object(a.jsxs)(Oe.a,{pb:2,children:[Object(a.jsx)(he.a,{children:"Drag to add"}),"Highlight components",Object(a.jsx)(z.a,{checked:U.state.localSettings.highlightComponents,onChange:function(){U.state.localSettings.highlightComponents=!U.state.localSettings.highlightComponents,J(),U.update()}})]}),Le(t).map((function(e){return Object(a.jsx)(k.a,{container:!0,direction:"column",item:!0,children:Object(a.jsx)(xe.a,{ref:e.ref,variant:"contained",onClick:function(){n.selectNode(),s({component:e.component})},children:e.name})},e.name)}))]})}),i?Object(a.jsx)(qe,{component:i.component}):null]})},He={margin:{property:"margin",type:Ae},padding:{property:"padding",type:Ae},height:{property:"height",type:Ae}},qe=function(e){var t=e.component,n=t.baseStyle;if(!n)return null;var r=[];for(var o in n){var c=He[o];r.push(c)}return Object(a.jsx)(Oe.a,{mt:2,px:2,py:2,children:Object(a.jsxs)(k.a,{container:!0,direction:"column",spacing:0,children:[Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(Oe.a,{pb:2,children:Object(a.jsxs)(k.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:!0,children:Object(a.jsx)(he.a,{variant:"subtitle1",children:"Base Component Config"})}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(ge.a,{size:"small",color:"primary",label:t.componentName})})]})})}),Object(a.jsx)(We,{config:r,properties:n,setProp:function(e){var a=Object.assign({},n);e(a),t.baseStyle=a,U.update()}})]})})},Je=function(){var e=Object(Y.d)((function(e,t){var n,a=e.events.selected;return a&&(n={id:a,name:e.nodes[a].data.name,settings:e.nodes[a].related&&e.nodes[a].related.settings,isDeletable:t.node(a).isDeletable()}),{selected:n}})),t=e.actions,n=e.selected;return n?Object(a.jsx)(Oe.a,{mt:2,px:2,py:2,children:Object(a.jsxs)(k.a,{container:!0,direction:"column",spacing:0,children:[Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(Oe.a,{pb:2,children:Object(a.jsxs)(k.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:!0,children:Object(a.jsx)(he.a,{variant:"subtitle1",children:"Selected"})}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(ge.a,{size:"small",color:"primary",label:n.name})})]})})}),n.settings&&o.a.createElement(n.settings),n.isDeletable?Object(a.jsx)(xe.a,{variant:"contained",color:"default",onClick:function(){t.delete(n.id)},children:"Delete"}):null]})}):null},Ke=n(772),Qe=n(773),Ye=function(e){e.property;var t=e.value,n=e.onChange;return Object(a.jsx)(z.a,{checked:t||!1,onChange:n})},$e={md:"\n# AppBar\n\n## Properties\n\n\n"},Xe=n(788),Ze=n(771);function et(e){var t=e.path,n=e.tabs,r=e.className,o=Object(Y.e)().connectors.connect,c=Object(S.g)(),i=function(e,t){var n=null;for(var a in t){var r=t[a];if(r.default&&(n=r),e.match(r.path))return[parseInt(a),r]}return n?[-1,n]:[-1,null]}(t,n),s=Object(g.a)(i,2),l=s[0],u=s[1];return-1===l?(u&&c.push(u.to),null):Object(a.jsx)(Xe.a,{ref:o,value:l,onChange:function(e,t){var a=n[t];c.push(a.to)},className:r,children:n.map((function(e){return e.visibilitySource&&!W.b.visibilitySources[e.visibilitySource]()?null:Object(a.jsx)(Ze.a,{label:e.name,className:r},e.name)}))})}var tt=Object(N.a)((function(e){return{root:{flexGrow:1},spacer:{flexGrow:1},fullHeight:Object(f.a)({},e.mixins.toolbar)}}));function nt(e){var t=e.tabs,n=tt(),o=Z({additionalClasses:[n.root]}),c=o.refFn,i=o.componentClassName,s=o.store,l=Object(S.g)(),u=Object(r.useState)(!0),p=Object(g.a)(u,2),d=p[0],j=p[1];return Object(a.jsx)("div",{ref:c,className:n.root,onClick:function(){setTimeout((function(){j(!d),s.update()}))},children:Object(a.jsx)(Ke.a,{position:"static",className:i,children:Object(a.jsxs)(Qe.a,{children:[Object(a.jsx)(et,{path:l.location.pathname,tabs:t,className:n.fullHeight}),Object(a.jsx)("div",{className:n.spacer})]})})})}nt.componentName="AppBar",nt.craft={props:{tabs:[{name:"Tab 1",path:"tab1",to:"/tab1",default:!0},{name:"Tab 2",path:"tab2",to:"/tab2"},{name:"Tab 3",path:"tab3",to:"/tab3"}]},related:{settings:function(){var e=Object(Y.e)((function(e){return{props:e.data.props,triggerUpdate:!!e.data.props.triggerUpdate,tabs:e.data.props.tabs}})),t=e.actions.setProp,n=e.triggerUpdate,r=e.tabs,o=Object.keys(W.b.visibilitySources);return Object(a.jsxs)("div",{children:[r.map((function(e,c){return Object(a.jsx)(We,{config:[{type:Ae,property:"name"},{type:Ae,property:"path"},{type:Ae,property:"to"},{type:Te,property:"visibilitySource",itemsFn:function(){return o}},{type:Ye,property:"default",onChange:function(){return function(e){var a,o=Object(u.a)(r);try{for(o.s();!(a=o.n()).done;)a.value.default=!1}catch(c){o.e(c)}finally{o.f()}return e.default=!0,t((function(e){e.triggerUpdate=!n}))}(e)}}],properties:e,setProp:function(a){a(e),t((function(e){e.triggerUpdate=!n}))}})})),Object(a.jsx)(xe.a,{onClick:function(){return r.push({name:"New Tab",path:"",to:""}),t((function(e){return e.triggerUpdate=!n}))},children:"Add Tab"})]})}}},nt.documentation=$e,nt.toolboxItem=function(e){return{name:"AppBar",component:nt,ref:function(t){return e.create(t,Object(a.jsx)(nt,{}))}}},ne(nt);function at(e,t,n){var a=Object(r.useState)(null),o=Object(g.a)(a,2),c=o[0],i=o[1],s=null;return n&&(s=t[n]),(c&&s&&s.customId!==c.customId||!c&&s)&&i(Object(f.a)(Object(f.a)({},e),s)),c&&!s&&i(null),c||e}var rt={md:"\n# Button\n\n## Properties\n\n### onClickAction\nThis is an action made avaiable from `game.actions`. No parameters are passed to the action.\n"},ot=function e(t){var n=t.size,r=t.variant,o=t.color,c=t.text,i=t.onClickAction,s=t.actionContext,l=t.customStyleName,u=Z(),p=u.refFn,d=u.componentClassName,j=at(e.baseStyle,K.Button,l);return Object(a.jsx)(xe.a,{style:j,ref:p,className:d,size:n,variant:r,color:o,onClick:function(){var e=W.b.actions[i];e&&(e(s),U.update())},children:c})};ot.componentName="Button",ot.craft={props:{size:"small",variant:"contained",color:"primary",text:"Button"},related:{settings:function(){var e=Object(Y.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(We,{config:[{type:Me,property:"customStyleName",componentName:n},{type:Te,property:"onClickAction",itemsFn:function(){return Object.keys(W.b.actions)}},{type:Ae,property:"text"}],properties:r,setProp:t})}}},ot.baseStyle={margin:"0em"},ot.styleProperties=[{property:"padding",type:Ae}],ot.documentation=rt,ot.toolboxItem=function(e){return{name:"Button",component:ot,ref:function(t){return e.create(t,Object(a.jsx)(ot,{}))}}},ne(ot);var ct={md:"\n# Text\n\n## Properties\n\n### text\nThe text to show\n\n"},it=function e(t){var n=t.text,r=t.customStyleName,o=Z(),c=o.refFn,i=o.componentClassName,s=at(e.baseStyle,K.Text,r);return Object(a.jsx)("span",{ref:c,className:i,style:s,children:n})};it.componentName="Text",it.craft={props:{text:"Text"},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(Y.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(We,{config:[{type:Me,property:"customStyleName",componentName:n},{type:Ae,property:"text",componentName:n}],properties:r,setProp:t})}}},it.baseStyle={margin:"0em"},it.styleProperties=[{property:"fontSize",type:Ae}],it.documentation=ct,it.toolboxItem=function(e){return{name:"Text",component:it,ref:function(t){return e.create(t,Object(a.jsx)(it,{text:"Some text"}))}}},ne(it);var st=n(774),lt=n(775),ut=(n(776),function(e){var t=e.children,n=Object(Y.e)().connectors.connect;return Object(a.jsx)(st.a,{ref:n,className:"text-only",children:t})});ut.craft={rules:{}};var pt=function(e){var t=e.children,n=Object(Y.e)().connectors.connect;return Object(a.jsx)(lt.a,{ref:n,children:t})};pt.craft={rules:{canMoveIn:function(e){return e.data.type===ot}}};function dt(e,t){if(!e)return{};var n={};if(W.b.visibilitySources[e]&&!W.b.visibilitySources[e]()){if(!t)return null;n.opacity="0.25"}return n}var jt={md:"\n# Container\n\n## Properties\n\n\n"},mt=function e(t){var n=t.children,r=t.visibilitySource,o=Z(),c=o.refFn,i=o.componentClassName,s=dt(r,o.enabled);return s?Object(a.jsx)(ce.a,{ref:c,style:Object(f.a)(Object(f.a)({},e.baseStyle),s),className:i,children:n}):null};mt.componentName="Container",mt.craft={props:{padding:"0px"},related:{settings:function(){var e=Object(Y.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(a.jsx)(We,{config:[{type:Te,property:"visibilitySource",itemsFn:function(){return Object.keys(W.b.visibilitySources)}}],properties:n,setProp:t})}}},mt.baseStyle={padding:"0em"},mt.documentation=jt,mt.toolboxItem=function(e){return{name:"Container",component:mt,ref:function(t){return e.create(t,Object(a.jsx)(Y.b,{is:mt,canvas:!0,children:Object(a.jsx)(it,{text:"Container"})}))}}},ne(mt);var bt=[{name:"3",value:3},{name:"4",value:4},{name:"6",value:6}],ft={md:"\n# GridContainer\n\n## Properties\n\n\n\n"},Ot={md:"\n# GridItem\n\n## Properties\n\n\n\n"},ht=Object(N.a)((function(){return{root:{flexGrow:1}}})),xt=function(e){var t=e.children,n=e.visibilitySource,r=Z({additionalClasses:[ht().root]}),o=r.refFn,c=r.componentClassName,i=dt(n,r.enabled);return i?Object(a.jsx)(k.a,{container:!0,ref:o,className:c,style:i,spacing:2,children:t}):null};xt.componentName="GridContiainer",xt.craft={props:{},related:{settings:function(){var e=Object(Y.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(a.jsx)(We,{config:[{type:Te,property:"visibilitySource",itemsFn:function(){return Object.keys(W.b.visibilitySources)}}],properties:n,setProp:t})}}};var gt=function e(t){var n=t.children,r=t.size,o=t.visibilitySource,c=t.customStyleName,i=Z(),s=i.refFn,l=i.componentClassName,u=i.enabled,p=at(e.baseStyle,K.GridItem,c),d=dt(o,u);return d?Object(a.jsx)(k.a,{item:!0,xs:r,ref:s,className:l,style:d,children:Object(a.jsx)(ie.a,{style:p,children:n})}):null};gt.componentName="GridItem",gt.craft={props:{size:6},related:{settings:function(){var e=Object(Y.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(We,{config:[{type:Me,property:"customStyleName",componentName:n},{type:Te,property:"size",itemsFn:function(){return bt}},{type:Te,property:"visibilitySource",itemsFn:function(){return Object.keys(W.b.visibilitySources)}}],properties:r,setProp:t})}}},gt.baseStyle={padding:"0em",height:"100%"},gt.styleProperties=[{property:"padding",type:Ae}],xt.documentation=ft,gt.documentation=Ot,ee.addComponent(xt),ee.addComponent(gt),xt.toolboxItem=function(e){return{name:"GridContainer",component:xt,ref:function(t){return e.create(t,Object(a.jsxs)(Y.b,{is:xt,canvas:!0,children:[Object(a.jsx)(Y.b,{is:gt,canvas:!0,children:Object(a.jsx)(it,{text:"Grid Item"})}),Object(a.jsx)(Y.b,{is:gt,canvas:!0,children:Object(a.jsx)(it,{text:"Grid Item"})})]}))}}},ne(xt),gt.toolboxItem=function(e){return{name:"GridItem",component:gt,ref:function(t){return e.create(t,Object(a.jsx)(Y.b,{is:gt,canvas:!0,children:Object(a.jsx)(it,{text:"Grid Item"})}))}}},ne(gt);var vt=n(159),yt=n.n(vt),Ct=n(160),_t=n.n(Ct),St={md:"\n# PathContainer\n\n## Properties\n\n\n"},Nt=Object(N.a)((function(e){return{main:{padding:"0em"}}})),kt=function e(t){var n=t.path,r=t.children,o=t.customStyleName,c=Object(S.g)(),i=Z({additionalClasses:[Nt().main]}),s=i.refFn,l=i.enabled,u=i.componentClassName,p=c.location.pathname.includes(n),d=at(e.baseStyle,K.PathContainer,o);return Object(a.jsxs)(ce.a,{ref:s,className:u,style:d,children:[l&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{float:"right",height:"0em"},children:p?Object(a.jsx)(yt.a,{}):Object(a.jsx)(_t.a,{})}),n," : ",c.location.pathname]}),p?r:null]})};kt.styleProperties=[{property:"margin",type:Ae}];kt.componentName="PathContainer",kt.craft={props:{path:"/tab1"},related:{settings:function(){var e=Object(Y.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(We,{config:[{type:Me,property:"customStyleName",componentName:n},{type:Ae,property:"path"}],properties:r,setProp:t})}}},kt.baseStyle={margin:"0em"},kt.documentation=St,kt.toolboxItem=function(e){return{name:"PathContainer",component:kt,ref:function(t){return e.create(t,Object(a.jsx)(Y.b,{is:kt,canvas:!0}))}}},ne(kt);var wt=n(777),Dt={md:"\n# Table\n\n## Properties\n\n"},It=function(e){var t=e.items,n=e.columnNames,r=[],o={item:{},index:"0",column:{}};try{for(var c in t){var i=t[c],s=[];for(var l in o.item=i,n){var u=n[l];o.index=l,o.column=u;var p=u.name,d=i[u.property];switch(u.type){case"string":if("string"!==typeof d)throw new Error("Trying to use a non-string value as a string");s.push(Object(a.jsx)(Ce.a,{children:d},p));break;case"variableString":if(!d.data)throw new Error("No data function for a variableString");s.push(Object(a.jsx)(Ce.a,{children:d.data()},p));break;case"button":if(!d.onClickAction)throw new Error("No onClickAcion function for a button");s.push(Object(a.jsx)(Ce.a,{children:Object(a.jsx)(ot,{text:d.text,variant:"contained",color:"primary",onClickAction:d.onClickAction,actionContext:i})},p))}}r.push(Object(a.jsx)(ye.a,{children:s},c))}}catch(j){return Object(a.jsx)(Ne.a,{children:Object(a.jsxs)(Ce.a,{children:[Object(a.jsxs)("div",{children:["Table Data Error! ",j.message]}),Object(a.jsxs)("div",{children:["Column Index: ",o.index]}),Object(a.jsxs)("div",{children:["Column Type: ",o.column.type]}),Object(a.jsxs)("div",{children:["Item Data: ",JSON.stringify(o.item)]})]})})}return Object(a.jsx)(Ne.a,{children:r})},Pt=function(e){var t,n=e.columnNames,r=void 0===n?[]:n,o=e.itemSource,c=Z(),i=c.refFn,s=c.componentClassName,l=[],p=Object(u.a)(r);try{for(p.s();!(t=p.n()).done;){var d=t.value;l.push(Object(a.jsx)(Ce.a,{children:d.name},d.name))}}catch(b){p.e(b)}finally{p.f()}var j=W.b.dataSources[o],m=j?j():[];return Object(a.jsx)("div",{ref:i,className:s,children:Object(a.jsx)(_e.a,{children:Object(a.jsxs)(Se.a,{size:"small",children:[Object(a.jsx)(wt.a,{children:Object(a.jsx)(ye.a,{children:l})}),Object(a.jsx)(It,{items:m,columnNames:r})]})})})},Et=function(e){var t=e.item,n=e.update;return Object(a.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(a.jsx)(E.a,{fullWidth:!0,value:t.name,label:"Name",onChange:function(e){t.name=e.target.value,n()}}),Object(a.jsx)(E.a,{fullWidth:!0,value:t.property,label:"Property",onChange:function(e){t.property=e.target.value,n()}}),Object(a.jsx)(Ge,{value:t.type||"",items:[{name:"String",value:"string"},{name:"Button",value:"button"},{name:"Variable String",value:"variableString"}],label:"Type",onChange:function(e){t.type=e.target.value,n()}})]})};Pt.componentName="Table",Pt.craft={props:{columnNames:[{name:"Colum 1",property:"col1",type:"string"},{name:"Colum 2",property:"col2",type:"string"},{name:"Colum 3",property:"col3",type:"button"}],itemSource:"",updateVariable:!1},related:{settings:function(){var e=Object(Y.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(a.jsx)(We,{config:[{type:Te,property:"itemSource",itemsFn:function(){return Object.keys(W.b.dataSources)}},{type:ke,property:"columnNames",component:function(e,n){return Object(a.jsx)(Et,{item:e,update:function(){t((function(e){return e.updateVarible=!e.updateVarible}))}},n)},items:n.columnNames}],properties:n,setProp:t})}}},Pt.documentation=Dt,Pt.toolboxItem=function(e){return{name:"Table",component:Pt,ref:function(t){return e.create(t,Object(a.jsx)(Pt,{}))}}},ne(Pt);var Gt={md:"\n# VariableText\n\n## Properties\n\n"},zt=function e(t){var n,r=t.dataProperty,o=t.subProperty,c=t.customStyleName,i=Z(),s=i.refFn,l=i.componentClassName,u=at(e.baseStyle,K.VariableText,c),p=W.b.data[r];return p&&o&&(p=p[o]),"object"===typeof p&&(p=void 0),Object(a.jsx)("span",{ref:s,className:l,style:u,children:null!==(n=p)&&void 0!==n?n:"##NO VALUE##"})};zt.componentName="VariableText",zt.craft={props:{},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(Y.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(We,{config:[{type:Me,property:"customStyleName",componentName:n},{type:Ae,property:"dataProperty"},{type:Ae,property:"subProperty"}],properties:r,setProp:t})}}},zt.baseStyle={margin:"0em"},zt.styleProperties=[{property:"fontSize",type:Ae}],zt.documentation=Gt,zt.toolboxItem=function(e){return{name:"VariableText",component:zt,ref:function(t){return e.create(t,Object(a.jsx)(zt,{}))}}},ne(zt);var Ft=function(){return Object(r.useEffect)((function(){console.debug("Starting autosave");var e=setInterval((function(){ae()}),2e3);return function(){console.debug("Stopping autosave"),clearInterval(e)}}),[]),null},Tt=Object(N.a)((function(e){return{gameArea:{background:"#eee"}}}));function At(){var e=Object(Y.d)().query,t=Tt();return Object(r.useEffect)((function(){return function(){ae()}}),[]),U.editorQuery=e,Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:!0,className:t.gameArea,children:Object(a.jsx)(ue.b,{children:Object(a.jsx)(Y.c,{data:B.a.gameData.layout,children:Object(a.jsx)(Y.b,{is:mt,padding:5,canvas:!0,children:Object(a.jsx)(it,{text:"Start dragging components in (and delete this one)"})})})})}),Object(a.jsx)(k.a,{item:!0,xs:3,children:Object(a.jsxs)(ie.a,{className:void 0,children:[Object(a.jsx)(Ve,{}),Object(a.jsx)(Je,{})]})})]})}function Rt(){return Object(a.jsx)("div",{children:Object(a.jsxs)(Y.a,{resolver:te,children:[Object(a.jsx)(Ft,{}),Object(a.jsx)(At,{})]})})}function Bt(){var e=Object(S.g)(),t=Tt();return Object(r.useEffect)((function(){B.a.gameData||(console.error(new Error("No gameData routing to /edit")),e.push("/edit"))}),[e]),Object(a.jsx)("div",{className:t.gameArea,children:Object(a.jsx)(Y.a,{resolver:te,enabled:!1,children:Object(a.jsx)(ue.b,{children:Object(a.jsx)(Y.c,{data:B.a.gameData.layout})})})})}var Ut=n(784),Mt=n(785),Wt=n(161),Lt=n.n(Wt),Vt=function(){var e=Object(S.g)(),t=e.location.pathname,n=Object(r.useState)(!1),o=Object(g.a)(n,2),c=o[0],i=o[1];function s(t){e.push(t),i(!c)}return Object(r.useContext)(M),Object(a.jsxs)("div",{children:[Object(a.jsx)(xe.a,{onClick:function(){U.state.optionsDrawerOpen=!0,U.update()},children:Object(a.jsx)(Lt.a,{})}),Object(a.jsx)(xe.a,{onClick:function(){s("/edit")},variant:t.includes("/edit")?"contained":void 0,color:"primary",children:"Edit"}),Object(a.jsx)(xe.a,{onClick:function(){var e=U.state.localSettings.lastCodeFile;e&&(e="/".concat(e)),s("/code".concat(e))},variant:t.includes("/code")?"contained":void 0,color:"primary",children:"Code"}),Object(a.jsx)(xe.a,{onClick:function(){Ue()},children:"Styling"}),Object(a.jsx)(xe.a,{onClick:function(){ae(),s("/play")},variant:t.includes("/play")?"contained":void 0,color:"primary",children:"Play"}),Object(a.jsx)(xe.a,{onClick:function(){s("/documentation")},variant:t.includes("/documentation")?"contained":void 0,color:"primary",children:"Documentation"})]})},Ht=n(170),qt=n(778),Jt=Object(Ht.a)({palette:{primary:{main:qt.a[900]},secondary:{main:qt.a[100]}}}),Kt=n(797),Qt=n(118),Yt=n.n(Qt),$t=n(168),Xt=n.n($t),Zt=n(169),en=n.n(Zt),tn=n(162),nn=n(779),an=n(780),rn=n(781),on=n(782),cn=n(783),sn=function(e){var t=e.onClose,n={gameData:q.a.get("gameData")},o=Object(r.useState)(btoa(JSON.stringify(n))),c=Object(g.a)(o,2),i=c[0],s=c[1];return Object(a.jsxs)(nn.a,{open:!0,onClose:t,children:[Object(a.jsx)(an.a,{children:"Import or export game data"}),Object(a.jsxs)(rn.a,{children:[Object(a.jsx)(on.a,{children:"Copy and paste the existing data somewhere to save it. Or paste in data you have and import it."}),Object(a.jsx)(E.a,{fullWidth:!0,label:"Current Game Data",multiline:!0,rows:4,value:i,onChange:function(e){s(e.target.value)},variant:"filled"})]}),Object(a.jsx)(cn.a,{children:Object(a.jsx)(xe.a,{onClick:function(){var e=JSON.parse(atob(i));console.log(e),q.a.set("gameData",e.gameData),window.location.reload()},color:"primary",children:"Import"})})]})},ln=function(e){var t=e.onClose;return Object(a.jsxs)(nn.a,{open:!0,onClose:t,children:[Object(a.jsx)(an.a,{children:"Reset Game Configuration"}),Object(a.jsx)(rn.a,{children:Object(a.jsx)(on.a,{children:"Are you sure you want to reset the curret game data?"})}),Object(a.jsxs)(cn.a,{children:[Object(a.jsx)(xe.a,{onClick:t,color:"primary",variant:"contained",children:"Cancel"}),Object(a.jsx)(xe.a,{onClick:function(){q.a.delete("gameData"),window.location.reload()},color:"primary",children:"Confirm"})]})]})},un=n(167),pn=n.n(un),dn=n(165),jn=n.n(dn),mn=n(164),bn=n.n(mn),fn=n(166),On=n.n(fn),hn=n(163),xn=n.n(hn);function gn(){var e=Object(r.useState)(!1),t=Object(g.a)(e,2),n=t[0],a=t[1];return function(){return a(!n)}}function vn(e){var t=e.component,n=e.components,r=e.update,o=null;return o="Checking"===t.status?Object(a.jsx)(bn.a,{}):t.ok?Object(a.jsx)(jn.a,{style:{color:"green"}}):Object(a.jsx)(On.a,{style:{color:"red"}}),Object(a.jsxs)(ye.a,{children:[Object(a.jsx)(Ce.a,{children:Object(a.jsx)(we.a,{onClick:function(){var e=n.indexOf(t);n.splice(e,1),r()},children:Object(a.jsx)(pn.a,{})})}),Object(a.jsx)(Ce.a,{children:t.url}),Object(a.jsx)(Ce.a,{children:o}),Object(a.jsx)(Ce.a,{children:t.status})]})}var yn,Cn=function(e){var t=e.onClose,n=gn(),o=Object(r.useState)(""),c=Object(g.a)(o,2),i=c[0],s=c[1];function u(e){return e.status="Checking",new Promise(function(){var t=Object(p.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xn.a.get(e.url);case 3:a=t.sent,console.log(a.status),200===a.status&&(e.status="Ok",e.ok=!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.status="Failed (".concat(t.t0.response.status,")"),e.ok=!1;case 12:n();case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}function d(){return(d=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B.a.customComponents.map((function(e){return u(e)})),n(),e.next=4,Promise.all(t);case 4:n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(nn.a,{open:!0,onClose:t,children:[Object(a.jsx)(an.a,{children:"Custom Components"}),Object(a.jsxs)(rn.a,{children:[Object(a.jsx)(on.a,{children:"Add custom components to your game."}),Object(a.jsx)(_e.a,{children:Object(a.jsxs)(Se.a,{size:"small",children:[Object(a.jsx)(wt.a,{children:Object(a.jsxs)(ye.a,{children:[Object(a.jsx)(Ce.a,{}),Object(a.jsx)(Ce.a,{children:"URL"}),Object(a.jsx)(Ce.a,{}),Object(a.jsx)(Ce.a,{children:"Status"})]})}),Object(a.jsx)(Ne.a,{children:B.a.customComponents.map((function(e){return Object(a.jsx)(vn,{component:e,components:B.a.customComponents,update:n})}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(E.a,{value:i,onChange:function(e){s(e.target.value)}}),Object(a.jsx)(xe.a,{onClick:function(){var e={url:i,status:"New"};B.a.customComponents.push(e),u(e),s("")},variant:"contained",color:"primary",children:"Add Component"}),Object(a.jsx)(xe.a,{onClick:function(){return d.apply(this,arguments)},variant:"contained",color:"primary",children:"Check Components"})]}),Object(a.jsxs)(cn.a,{children:[Object(a.jsx)(xe.a,{onClick:function(){t()},color:"primary",children:"Done"}),Object(a.jsx)(xe.a,{onClick:function(){ae(),window.location.reload()},color:"primary",variant:"contained",children:"Save And Reload"})]})]})},_n=function(){var e=Object(r.useState)(!1),t=Object(g.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(g.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(!1),p=Object(g.a)(u,2),d=p[0],j=p[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(Kt.a,{open:U.state.optionsDrawerOpen,onClose:function(){U.state.optionsDrawerOpen=!1,U.update()},children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(D.a,{button:!0,onClick:function(){W.b.initializeGameData()},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Yt.a,{})}),Object(a.jsx)(P.a,{primary:"Initialize Game Data"})]}),Object(a.jsxs)(D.a,{button:!0,onClick:function(){l(!0)},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Yt.a,{})}),Object(a.jsx)(P.a,{primary:"Reset Game Configuration",secondary:"Reset all game configuration"})]}),Object(a.jsxs)(D.a,{button:!0,onClick:function(){o(!0)},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Xt.a,{})}),Object(a.jsx)(P.a,{primary:"Import / Export",secondary:"Import or export your game data"})]}),Object(a.jsxs)(D.a,{button:!0,onClick:function(){j(!0)},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(en.a,{})}),Object(a.jsx)(P.a,{primary:"Custom Components",secondary:"Custom components for your game"})]}),Object(a.jsx)(G.a,{}),Object(a.jsx)(D.a,{onClick:function(){},children:Object(a.jsx)(P.a,{primary:"Idling Engine",secondary:"Version ".concat(tn.version)})})]})}),n&&Object(a.jsx)(sn,{onClose:function(){return o(!1)}}),s&&Object(a.jsx)(ln,{onClose:function(){return l(!1)}}),d&&Object(a.jsx)(Cn,{onClose:function(){return j(!1)}})]})},Sn=n(59),Nn=(yn={},Object(Sn.a)(yn,ot.name,ot),Object(Sn.a)(yn,kt.name,kt),Object(Sn.a)(yn,gt.name,gt),Object(Sn.a)(yn,it.name,it),Object(Sn.a)(yn,zt.name,zt),yn),kn=function(){var e=gn(),t=U.state.localSettings,n=t.styleDrawerComponentName,r=t.styleDrawerStyleId,o=function(t,n){U.state.localSettings.styleDrawerComponentName=t,U.state.localSettings.styleDrawerStyleId=n,e()},c=null;return n&&(c=K[n]),c&&c[r]||(r=""),Object(a.jsx)("div",{children:Object(a.jsx)(Kt.a,{open:U.state.localSettings.styleDrawerOpen,onClose:function(){U.state.localSettings.styleDrawerOpen=!1,U.state.localSettings.highlightComponents=U.state.localSettings.previousHighlightComponents,J(),U.update()},anchor:"right",BackdropProps:{invisible:!0},children:Object(a.jsxs)("div",{style:{padding:"1em"},children:[Object(a.jsx)(he.a,{variant:"h4",children:"Style Components"}),Object(a.jsx)(Ge,{value:n,items:Object.keys(Nn),label:"Component",onChange:function(t){K[t.target.value]=K[t.target.value]||{},o(t.target.value,""),e()}}),c&&Object(a.jsxs)(Oe.a,{display:"flex",alignItems:"flex-end",children:[Object(a.jsx)(Oe.a,{flexGrow:1,children:Object(a.jsx)(Ge,{value:r,items:Object.keys(c).map((function(e){return{value:e,name:c[e]._name}})),label:"Styles",onChange:function(e){o(n,"")}})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(xe.a,{onClick:function(e){var t=Object(L.a)();c[t]={_name:"New Style ".concat(Object.keys(c).length+1)},o(n,t)},variant:"contained",children:"Add Style"})})]}),c&&r&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(We,{config:[{property:"_name",type:Ae}].concat(Object(Q.a)(Nn[n].styleProperties)),properties:c[r],setProp:function(e){var t=Object.assign({},c[r],{customId:Math.random()});e(t),c[r]=t,U.update()}}),Object(a.jsx)(xe.a,{onClick:function(e){var t=Object.keys(c),a=t.indexOf(r),i="";delete c[r],a>0?i=t[a-1]:t.length&&(i=t[1]),o(n,i)},variant:"contained",children:"Delete Style"})]})]})})})},wn={codeFiles:[]};function Dn(){try{var e=q.a.get("gameData");if(e)return e.baseStyles&&function(e){for(var t in e){var n=te[t],a=e[t];n&&a&&(n.baseStyle=Object(f.a)(Object(f.a)({},n.baseStyle),a))}}(e.baseStyles),e.customStyles&&Object.assign(K,e.customStyles),B.a.gameData=e,B.a.customComponents=e.customComponents||[],e;console.warn("No game data loaded")}catch(t){console.error(t)}return B.a.gameData=wn,null}U.state.localSettings=q.a.get("localSettings",void 0);var In=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={customComponentsLoaded:!1},e.update=function(){e.setState({})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.update=this.update,Object(W.c)(U.update),B.a.gameData||Dn(),Object(W.a)(),t=[],n={},a=Object(u.a)(B.a.customComponents),e.prev=7,o=function(){var e=r.value;if(!e.url)return"continue";var a=new Promise((function(t){var a=document.createElement("script");a.type="text/javascript",a.src=e.url,a.onload=function(){t()},a.onerror=function(a){console.log(a),n[e.url]=a,t()},document.head.append(a)}));t.push(a)},a.s();case 10:if((r=a.n()).done){e.next=16;break}if("continue"!==o()){e.next=14;break}return e.abrupt("continue",14);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.next=26,Promise.all(t);case 26:console.log(n),this.setState({customComponentsLoaded:!0});case 28:case"end":return e.stop()}}),e,this,[[7,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.customComponentsLoaded?Object(a.jsxs)(Ut.a,{theme:Jt,children:[Object(a.jsx)(Mt.a,{}),Object(a.jsx)(M.Provider,{value:{state:U.state,update:this.update,editorQuery:U.editorQuery},children:Object(a.jsx)(ue.a,{basename:"/idling-engine",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_n,{}),Object(a.jsx)(kn,{}),Object(a.jsx)(Vt,{}),Object(a.jsxs)(S.d,{children:[Object(a.jsx)(S.b,{path:"/edit",render:function(){return Object(a.jsx)(Rt,{})}}),Object(a.jsx)(S.b,{path:"/code",render:function(){return Object(a.jsx)(oe,{})}}),Object(a.jsx)(S.b,{path:"/play",render:function(){return Object(a.jsx)(Bt,{})}}),Object(a.jsx)(S.b,{path:"/documentation",render:function(){return Object(a.jsx)(fe,{})}}),Object(a.jsx)(S.b,{path:"/",children:Object(a.jsx)(S.a,{to:"/edit"})})]})]})})})]}):null}}]),n}(r.Component);n(717);i.a.render(Object(a.jsx)(In,{}),document.getElementById("root"))}},[[718,1,2]]]);
//# sourceMappingURL=main.5bebda30.chunk.js.map
(this.webpackJsonpcraftjs=this.webpackJsonpcraftjs||[]).push([[0],{26:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return setUpdateUIFunction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return game})),__webpack_require__.d(__webpack_exports__,"a",(function(){return executeCode}));var _home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37);function setUpdateUIFunction(e){game.update=e}var game={settings:{tickInterval:1e3},data:{},actions:{},conditionals:{},dataSources:{},configure:function(e){console.log("game.configure not defined")},isInitialized:!1,_initialize:function(e){console.log("game.initialize not defined")},get initialize(){return this._initialize},set initialize(e){var t=this;this._initialize=function(){console.log("Initializing"),t.isInitialized=!0,e(game.data)}},tick:function(){console.log("game.tick not defined")},update:function(){console.log("game.update not defined")}},currentTimeout=null;function tick(){currentTimeout=setTimeout((function(){try{game.tick()}catch(e){console.error(e)}tick()}),game.settings.tickInterval)}function executeCode(){var files=localStorage.gameCode?JSON.parse(localStorage.gameCode):[],finalCode="",_iterator=Object(_home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;finalCode+=file.code+"\n\n"}}catch(err){_iterator.e(err)}finally{_iterator.f()}var lines=finalCode.split("\n"),numberWidth=Math.floor(Math.log(lines.length));console.log(lines.map((function(e,t){return"".concat((t+1).toString().padEnd(numberWidth)," ").concat(e)})).join("\n"));try{currentTimeout&&clearTimeout(currentTimeout),eval(finalCode),game.isInitialized||game.initialize(game.data),game.configure(game.settings),tick()}catch(err){err.message="GAME SCRIPT ERROR: "+err.message,console.error(err)}}window.game=game},677:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"AppBar",(function(){return ne})),n.d(a,"Button",(function(){return ke})),n.d(a,"Card",(function(){return Ge})),n.d(a,"CardBottom",(function(){return Ae})),n.d(a,"CardTop",(function(){return Fe})),n.d(a,"Container",(function(){return Re})),n.d(a,"GridContainer",(function(){return We})),n.d(a,"GridItem",(function(){return Je})),n.d(a,"PathContainer",(function(){return Qe})),n.d(a,"Table",(function(){return $e})),n.d(a,"Text",(function(){return Pe})),n.d(a,"VariableText",(function(){return Ze}));var r=n(2),c=n(0),o=n.n(c),i=n(14),s=n.n(i),l=n(131),u=n(132),d=n(150),j=n(149),p=n(33),b={DEBUG:1,INFO:2,WARN:3,ERROR:4},m=console,f=Object(p.a)({},console);m.logLevels=b,m.logLevel=b.DEBUG,m.debug=function(){if(m.logLevel<=b.DEBUG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.debug.apply(f,["DEBUG"].concat(t))}},m.info=function(){if(m.logLevel<=b.INFO){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.info.apply(f,["INFO"].concat(t))}},m.warn=function(){if(m.logLevel<=b.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.warn.apply(f,["WARN"].concat(t))}},m.error=function(){if(m.logLevel<=b.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.error.apply(f,["ERROR"].concat(t))}};console;var O=n(21),h=n(133),g=n.n(h),x=(n(175),n(590),n(591),n(134)),v=n.n(x),y=n(18),C=n(711),S={state:{localSettings:{highlightComponents:!0,previousHighlightComponents:!0,styleDrawerOpen:!1,styleDrawerComponentName:"",styleDrawerStyleId:""},optionsDrawerOpen:!1},editorQuery:null,update:function(){console.log("Update function not defined")}},_=o.a.createContext(S);window.store=S;var N=n(26),w=localStorage.gameCode?JSON.parse(localStorage.gameCode):[];function k(){var e=Object(y.g)(),t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],o=n[1];function i(){localStorage.gameCode=JSON.stringify(w)}return Object(c.useContext)(_),Object(c.useEffect)((function(){var e=setInterval((function(){i()}),1e3);return function(){clearInterval(e),i(),Object(N.a)()}}),[]),0===w.length&&w.push({name:"main",code:"//main\n\n\n// You may wish to move each of the following to its own file\n\ngame.configure = (settings) => {\n  // Update any game settings here\n  // settings.tickInterval = 5000\n}\n\ngame.initialize = () => {\n  // Update any initial game data here\n}\n\ngame.tick = () => {\n  // The main function to handle game logic\n};\n\n// Define actions using game.actions ...\n// Define conditionals using game.conditionals ...\n"}),Object(r.jsxs)("div",{children:[w.map((function(t,n){var a=e.location.pathname.includes(t.name)?"contained":"text";return Object(r.jsx)(C.a,{color:"primary",variant:a,onClick:function(){e.push("/code/".concat(t.name))},children:t.name},t.name)})),Object(r.jsx)(C.a,{color:"primary",variant:"outlined",onClick:function(){var e="New File ".concat(w.length);w.push({name:e,code:"//".concat(e)}),o(!a)},children:"+ New File"}),"ctrl+shift+b - beautify",Object(r.jsxs)(y.d,{children:[w.map((function(e){return Object(r.jsx)(y.b,{path:"/code/".concat(e.name),render:function(){return Object(r.jsx)("div",{style:{position:"absolute",width:"100%",top:"73px",bottom:"0px"},children:Object(r.jsx)(g.a,{mode:"javascript",theme:"monokai",onChange:function(t){e.code=t},name:"Code Editor",editorProps:{$blockScrolling:!0},style:{width:"100%",height:"100%",fontSize:"1em"},value:e.code,tabSize:2,commands:v.a.commands})})}},e.name)})),Object(r.jsx)(y.b,{path:"/code",children:Object(r.jsx)(y.a,{to:"/code/".concat(w[0].name)})})]})]})}var D=n(714),I=n(715),P=n(108),E=n(750),T=n(716),z=n(59),F=n(138),A=n.n(F),G=Object(D.a)((function(){return{paper:{padding:"1em"}}}));function R(){var e=G();return Object(r.jsx)(I.a,{children:Object(r.jsxs)(P.a,{className:e.paper,children:[Object(r.jsxs)(E.a,{"aria-label":"breadcrumb",children:[Object(r.jsx)(T.a,{color:"inherit",href:"/",children:"Material-UI"}),Object(r.jsx)(T.a,{color:"inherit",href:"/getting-started/installation/",children:"Core"}),Object(r.jsx)(z.a,{color:"textPrimary",children:"Breadcrumb"})]}),Object(r.jsx)(A.a,{plugins:[],children:"\n# Idling Engine\n"})]})})}var U=n(734),B=n(9),W=n(746),J=n(754),M=n(756),H=n(37),L=n(718),V=n(719),q=n(751),Q=n(93),K=Object(D.a)((function(e){return{componentEditing:{boxShadow:"inset 0em 0em 0em 2px rgba(255, 50, 50, 1)",minHeight:"5px",minWidth:"5px",padding:"10px!important"},componentSelected:{boxShadow:"inset 0em 0em 0em 2px green"}}}));function Y(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return[].concat(Object(Q.a)(a),[e&&S.state.localSettings.highlightComponents?n.componentEditing:"",t?n.componentSelected:""]).join(" ")}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.additionalClasses,n=void 0===t?[]:t,a=Object(c.useContext)(_),r=Object(B.e)((function(e){return{selected:e.events.selected}})),o=r.connectors,i=o.connect,s=o.drag,l=r.selected,u=Object(B.d)((function(e){return{enabled:e.options.enabled}})),d=u.enabled,j=K(),p=Y(d,l,j,n),b=function(e){return i(s(e))};return{refFn:b,selected:l,enabled:d,componentClassName:p,store:a}}var X=n(748),Z=n(717);function ee(e){var t=e.path,n=e.tabs,a=e.className,c=Object(B.e)().connectors.connect,o=Object(y.g)(),i=function(e,t){var n=null;for(var a in t){var r=t[a];if(r.default&&(n=r),e.match(r.path))return[parseInt(a),r]}return n?[-1,n]:[-1,null]}(t,n),s=Object(O.a)(i,2),l=s[0],u=s[1];return-1===l?(u&&o.push(u.to),null):Object(r.jsx)(X.a,{ref:c,value:l,onChange:function(e,t){var a=n[t];o.push(a.to)},className:a,children:n.map((function(e){return Object(r.jsx)(Z.a,{label:e.name,className:a},e.name)}))})}var te=Object(D.a)((function(e){return{root:{flexGrow:1},spacer:{flexGrow:1},fullHeight:Object(p.a)({},e.mixins.toolbar)}}));function ne(e){var t=e.tabs,n=te(),a=$({additionalClasses:[n.root]}),o=a.refFn,i=a.componentClassName,s=a.store,l=Object(y.g)(),u=Object(c.useState)(!0),d=Object(O.a)(u,2),j=d[0],p=d[1];return Object(r.jsx)("div",{ref:o,className:n.root,onClick:function(){setTimeout((function(){p(!j),s.update()}))},children:Object(r.jsx)(L.a,{position:"static",className:i,children:Object(r.jsxs)(V.a,{children:[Object(r.jsx)(ee,{path:l.location.pathname,tabs:t,className:n.fullHeight}),Object(r.jsx)("div",{className:n.spacer})]})})})}ne.craft={props:{tabs:[{name:"Tab 1",path:"tab1",to:"/tab1",default:!0},{name:"Tab 2",path:"tab2",to:"/tab2"},{name:"Tab 3",path:"tab3",to:"/tab3"}]},related:{settings:function(){var e=Object(B.e)((function(e){return{triggerUpdate:!!e.data.props.triggerUpdate,tabs:e.data.props.tabs}})),t=e.actions.setProp,n=e.triggerUpdate,a=e.tabs,c=function(e,a,r){return e[a]=r,t((function(e){e.triggerUpdate=!n}))};return Object(r.jsxs)("div",{children:[a.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)(q.a,{label:"Name",value:e.name,onChange:function(t){return c(e,"name",t.target.value)}}),Object(r.jsx)(q.a,{label:"Path",value:e.path,onChange:function(t){return c(e,"path",t.target.value)}}),Object(r.jsx)(q.a,{label:"To",value:e.to,onChange:function(t){return c(e,"to",t.target.value)}}),Object(r.jsx)(J.a,{checked:e.default||!1,onChange:function(){return function(e){var t,n=Object(H.a)(a);try{for(n.s();!(t=n.n()).done;)t.value.default=!1}catch(r){n.e(r)}finally{n.f()}c(e,"default",!0)}(e)}})]},t)})),Object(r.jsx)(C.a,{onClick:function(){return a.push({name:"New Tab",path:"",to:""}),t((function(e){return e.triggerUpdate=!n}))},children:"Add Tab"})]})}}};var ae=n(151),re=n(726),ce=n(727),oe=n(728),ie=n(729),se=n(730),le=function(e){var t=e.component;return e.items.map((function(e,n){return t(e,n)}))},ue=n(725),de=n(753),je=n(722),pe=n(747),be=function(e){var t,n=e.value,a=e.items,c=e.label,o=e.onChange,i=[],s=Object(H.a)(a);try{for(s.s();!(t=s.n()).done;){var l=t.value,u="",d=null;"string"===typeof l?(u=l,d=l):(u=l.name,d=l.value),i.push(Object(r.jsx)(ue.a,{value:d,children:u},u))}}catch(p){s.e(p)}finally{s.f()}var j=null;return c&&(j=Object(r.jsx)(de.a,{shrink:!0,children:c})),Object(r.jsxs)(je.a,{fullWidth:!0,children:[j,Object(r.jsx)(pe.a,{value:n||"",onChange:o,children:i})]})},me=function(e){var t=e.property,n=e.value,a=e.itemsFn,c=e.setProp;return Object(r.jsx)(be,{value:n||"",items:a(),onChange:function(e){c((function(n){return n[t]=e.target.value}))}})},fe=(n(755),function(e){var t=e.property,n=e.value,a=e.setProp;return Object(r.jsx)(q.a,{fullWidth:!0,value:n||"",onChange:function(e){a((function(n){n[t]=e.target.value}))}})}),Oe=n(724),he={},ge=n(141),xe=n.n(ge),ve=n(142),ye=n.n(ve);function Ce(){localStorage.localSettings=JSON.stringify(S.state.localSettings)}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S.state.localSettings.styleDrawerOpen=!0,S.state.localSettings.previousHighlightComponents=S.state.localSettings.highlightComponents,S.state.localSettings.highlightComponents=!1,e.componentName&&e.styleId&&(S.state.localSettings.styleDrawerComponentName=e.componentName,S.state.localSettings.styleDrawerStyleId=e.styleId),console.log(e),Ce(),S.update()}var _e=function(e){var t=e.property,n=e.value,a=e.componentName,c=e.setProp;return console.log(a),he[a]?Object(r.jsxs)(W.a,{display:"flex",alignItems:"flex-end",children:[Object(r.jsx)(W.a,{flexGrow:1,children:Object(r.jsx)(be,{value:n||"",items:Object.keys(he[a]).map((function(e){return{value:e,name:he[a][e]._name}})),onChange:function(e){c((function(n){return n[t]=e.target.value}))}})}),Object(r.jsxs)(W.a,{children:[Object(r.jsx)(Oe.a,{onClick:function(){c((function(e){return e[t]=null}))},children:Object(r.jsx)(xe.a,{})}),Object(r.jsx)(Oe.a,{onClick:function(){Se({componentName:a,styleId:n})},children:Object(r.jsx)(ye.a,{})})]})]}):"No styles defined..."},Ne=function(e){var t,n=e.config,a=e.properties,c=e.setProp,o=[],i=Object(H.a)(n);try{for(i.s();!(t=i.n()).done;){var s=t.value,l=s.property,u=Object(ae.a)(s,["property"]),d=a[l];o.push(Object(r.jsxs)(re.a,{children:[Object(r.jsx)(ce.a,{component:"td",scope:"row",children:l}),Object(r.jsx)(ce.a,{children:Object(r.jsx)(s.type,Object(p.a)({property:l,value:d,setProp:c},u))})]},l))}}catch(j){i.e(j)}finally{i.f()}return Object(r.jsx)(oe.a,{children:Object(r.jsx)(ie.a,{size:"small",children:Object(r.jsx)(se.a,{children:o})})})};function we(e,t,n){var a=Object(c.useState)(null),r=Object(O.a)(a,2),o=r[0],i=r[1],s=null;return n&&(s=t[n]),(o&&s&&s.customId!==o.customId||!o&&s)&&i(Object(p.a)(Object(p.a)({},e),s)),o&&!s&&i(null),o||e}var ke=function e(t){var n=t.size,a=t.variant,c=t.color,o=t.text,i=t.onClickAction,s=t.actionContext,l=t.customStyleName,u=$(),d=u.refFn,j=u.componentClassName,p=we(e.baseStyle,he.Button,l);return Object(r.jsx)(C.a,{style:p,ref:d,className:j,size:n,variant:a,color:c,onClick:function(){var e=N.b.actions[i];e&&(e(s),S.update())},children:o})};ke.craft={props:{size:"small",variant:"contained",color:"primary",text:"Button"},related:{settings:function(){var e=Object(B.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(Ne,{config:[{type:_e,property:"customStyleName",componentName:n},{type:me,property:"onClickAction",itemsFn:function(){return Object.keys(N.b.actions)}},{type:fe,property:"text"}],properties:a,setProp:t})}}},ke.baseStyle={margin:"0em"},ke.styleProperties=[{property:"padding",type:fe}];var De=n(143),Ie=n.n(De),Pe=function e(t){var n=t.text,a=t.customStyleName,c=$(),o=c.refFn,i=c.selected,s=c.componentClassName,l=we(e.baseStyle,he.Text,a);return Object(r.jsx)("span",{ref:o,children:Object(r.jsx)(Ie.a,{disabled:!i,html:n,onChange:function(e){return null},tagName:"span",style:l,className:s})})};Pe.craft={props:{text:"Text"},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(B.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(Ne,{config:[{type:_e,property:"customStyleName",componentName:n}],properties:a,setProp:t})}}},Pe.baseStyle={margin:"0em"},Pe.styleProperties=[{property:"fontSize",type:fe}];var Ee=n(731),Te=n(732),ze=n(733),Fe=function(e){var t=e.children,n=Object(B.e)().connectors.connect;return Object(r.jsx)(Ee.a,{ref:n,className:"text-only",children:t})};Fe.craft={rules:{}};var Ae=function(e){var t=e.children,n=Object(B.e)().connectors.connect;return Object(r.jsx)(Te.a,{ref:n,children:t})};Ae.craft={rules:{canMoveIn:function(e){return e.data.type===ke}}};var Ge=function(){var e=$(),t=e.refFn,n=e.componentClassName;return Object(r.jsxs)(ze.a,{ref:t,className:n,children:[Object(r.jsxs)(B.b,{id:"text",is:Fe,canvas:!0,children:[Object(r.jsx)(Pe,{text:"Title",fontSize:20}),Object(r.jsx)(Pe,{text:"Subtitle",fontSize:15})]}),Object(r.jsx)(B.b,{id:"buttons",is:Ae,canvas:!0,children:Object(r.jsx)(ke,{size:"small",text:"Learn more",variant:"outlined",children:"Hi!"})})]})},Re=function e(t){var n=t.children,a=$(),c=a.refFn,o=a.componentClassName;return Object(r.jsx)(I.a,{ref:c,style:e.baseStyle,className:o,children:n})};Re.craft={props:{padding:"0px"},related:{settings:function(){return null}}},Re.baseStyle={padding:"0em"};var Ue=[{name:"3",value:3},{name:"4",value:4},{name:"6",value:6}],Be=Object(D.a)((function(){return{root:{flexGrow:1}}})),We=function(e){var t=e.children,n=$({additionalClasses:[Be().root]}),a=n.refFn,c=n.componentClassName;return Object(r.jsx)(U.a,{container:!0,ref:a,className:c,spacing:2,children:t})};We.craft={props:{},related:{settings:function(){var e=Object(B.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=(e.componentName,e.props);return Object(r.jsx)(Ne,{config:[],properties:n,setProp:t})}}};var Je=function e(t){var n=t.children,a=t.size,c=t.customStyleName,o=$(),i=o.refFn,s=o.componentClassName,l=we(e.baseStyle,he.GridItem,c);return Object(r.jsx)(U.a,{item:!0,xs:a,ref:i,className:s,children:Object(r.jsx)(P.a,{style:l,children:n})})};Je.craft={props:{size:6},related:{settings:function(){var e=Object(B.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(Ne,{config:[{type:_e,property:"customStyleName",componentName:n},{type:me,property:"size",itemsFn:function(){return Ue}}],properties:a,setProp:t})}}},Je.baseStyle={padding:"0em",height:"100%"},Je.styleProperties=[{property:"padding",type:fe}];var Me=n(144),He=n.n(Me),Le=n(145),Ve=n.n(Le),qe=Object(D.a)((function(e){return{main:{padding:"0em"}}})),Qe=function e(t){var n=t.path,a=t.children,c=t.customStyleName,o=Object(y.g)(),i=$({additionalClasses:[qe().main]}),s=i.refFn,l=i.enabled,u=i.componentClassName,d=o.location.pathname.includes(n),j=we(e.baseStyle,he.PathContainer,c);return Object(r.jsxs)(I.a,{ref:s,className:u,style:j,children:[l&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{float:"right",height:"0em"},children:d?Object(r.jsx)(He.a,{}):Object(r.jsx)(Ve.a,{})}),n," : ",o.location.pathname]}),d?a:null]})};Qe.styleProperties=[{property:"margin",type:fe}];Qe.craft={props:{path:"/tab1"},related:{settings:function(){var e=Object(B.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(Ne,{config:[{type:_e,property:"customStyleName",componentName:n},{type:fe,property:"path"}],properties:a,setProp:t})}}},Qe.baseStyle={margin:"0em"};var Ke=n(735),Ye=function(e){var t=e.items,n=e.columnNames,a=[],c={item:{},index:"0",column:{}};try{for(var o in t){var i=t[o],s=[];for(var l in c.item=i,n){var u=n[l];c.index=l,c.column=u;var d=u.name,j=i[u.property];switch(u.type){case"string":if("string"!==typeof j)throw new Error("Trying to use a non-string value as a string");s.push(Object(r.jsx)(ce.a,{children:j},d));break;case"variableString":if(!j.data)throw new Error("No data function for a variableString");s.push(Object(r.jsx)(ce.a,{children:j.data()},d));break;case"button":if(!j.onClickAction)throw new Error("No onClickAcion function for a button");s.push(Object(r.jsx)(ce.a,{children:Object(r.jsx)(ke,{text:j.text,variant:"contained",color:"primary",onClickAction:j.onClickAction,actionContext:i})},d))}}a.push(Object(r.jsx)(re.a,{children:s},o))}}catch(p){return Object(r.jsx)(se.a,{children:Object(r.jsxs)(ce.a,{children:[Object(r.jsxs)("div",{children:["Table Data Error! ",p.message]}),Object(r.jsxs)("div",{children:["Column Index: ",c.index]}),Object(r.jsxs)("div",{children:["Column Type: ",c.column.type]}),Object(r.jsxs)("div",{children:["Item Data: ",JSON.stringify(c.item)]})]})})}return Object(r.jsx)(se.a,{children:a})},$e=function(e){var t,n=e.columnNames,a=void 0===n?[]:n,c=e.itemSource,o=$(),i=o.refFn,s=o.componentClassName,l=[],u=Object(H.a)(a);try{for(u.s();!(t=u.n()).done;){var d=t.value;l.push(Object(r.jsx)(ce.a,{children:d.name},d.name))}}catch(b){u.e(b)}finally{u.f()}var j=N.b.dataSources[c],p=j?j():[];return Object(r.jsx)("div",{ref:i,className:s,children:Object(r.jsx)(oe.a,{children:Object(r.jsxs)(ie.a,{size:"small",children:[Object(r.jsx)(Ke.a,{children:Object(r.jsx)(re.a,{children:l})}),Object(r.jsx)(Ye,{items:p,columnNames:a})]})})})},Xe=function(e){var t=e.item,n=e.update;return Object(r.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(r.jsx)(q.a,{fullWidth:!0,value:t.name,label:"Name",onChange:function(e){t.name=e.target.value,n()}}),Object(r.jsx)(q.a,{fullWidth:!0,value:t.property,label:"Property",onChange:function(e){t.property=e.target.value,n()}}),Object(r.jsx)(be,{value:t.type||"",items:[{name:"String",value:"string"},{name:"Button",value:"button"},{name:"Variable String",value:"variableString"}],label:"Type",onChange:function(e){t.type=e.target.value,n()}})]})};$e.craft={props:{columnNames:[{name:"Colum 1",property:"col1",type:"string"},{name:"Colum 2",property:"col2",type:"string"},{name:"Colum 3",property:"col3",type:"button"}],itemSource:"",updateVariable:!1},related:{settings:function(){var e=Object(B.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(r.jsx)(Ne,{config:[{type:me,property:"itemSource",itemsFn:function(){return Object.keys(N.b.dataSources)}},{type:le,property:"columnNames",component:function(e,n){return Object(r.jsx)(Xe,{item:e,update:function(){t((function(e){return e.updateVarible=!e.updateVarible}))}},n)},items:n.columnNames}],properties:n,setProp:t})}}};var Ze=function e(t){var n,a=t.dataProperty,c=t.customStyleName,o=$(),i=o.refFn,s=o.componentClassName,l=we(e.baseStyle,he.Text,c);return Object(r.jsx)("span",{ref:i,className:s,style:l,children:null!==(n=N.b.data[a])&&void 0!==n?n:"##NO VALUE##"})};Ze.craft={props:{},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(B.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(Ne,{config:[{type:_e,property:"customStyleName",componentName:n},{type:fe,property:"dataProperty"}],properties:a,setProp:t})}}},Ze.baseStyle={margin:"0em"},Ze.styleProperties=[{property:"fontSize",type:fe}];var et=function(){var e=Object(B.d)().connectors,t=Object(c.useState)(null),n=Object(O.a)(t,2),a=n[0],o=n[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(W.a,{px:2,py:2,children:Object(r.jsxs)(U.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,children:[Object(r.jsxs)(W.a,{pb:2,children:[Object(r.jsx)(z.a,{children:"Drag to add"}),"Highlight components",Object(r.jsx)(J.a,{checked:S.state.localSettings.highlightComponents,onChange:function(){S.state.localSettings.highlightComponents=!S.state.localSettings.highlightComponents,Ce(),S.update()}})]}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(ke,{}))},variant:"contained",onClick:function(){o({component:ke})},children:"Button"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(Pe,{text:"Hi world"}))},variant:"contained",children:"Text"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(B.b,{is:Re,canvas:!0,children:Object(r.jsx)(Pe,{text:"Container"})}))},variant:"contained",onClick:function(){o({component:Re})},children:"Container"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(Ze,{}))},variant:"contained",children:"Variable Text"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(ne,{}))},variant:"contained",children:"App Bar"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(B.b,{is:Qe,canvas:!0}))},variant:"contained",onClick:function(){o({component:Qe})},children:"Path Container"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)($e,{}))},variant:"contained",children:"Table"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsxs)(B.b,{is:We,canvas:!0,children:[Object(r.jsx)(B.b,{is:Je,canvas:!0,children:Object(r.jsx)(Pe,{text:"Grid Item"})}),Object(r.jsx)(B.b,{is:Je,canvas:!0,children:Object(r.jsx)(Pe,{text:"Grid Item"})})]}))},variant:"contained",children:"Grid Container"})}),Object(r.jsx)(U.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(C.a,{ref:function(t){return e.create(t,Object(r.jsx)(B.b,{is:Je,canvas:!0,children:Object(r.jsx)(Pe,{text:"Grid Item"})}))},variant:"contained",onClick:function(){o({component:Je})},children:"Grid Item"})})]})}),a?Object(r.jsx)(nt,{component:a.component}):null]})},tt={margin:{property:"margin",type:fe},padding:{property:"padding",type:fe},height:{property:"height",type:fe}},nt=function(e){var t=e.component,n=t.baseStyle,a=[];for(var c in n){var o=tt[c];a.push(o)}return Object(r.jsx)(W.a,{mt:2,px:2,py:2,children:Object(r.jsxs)(U.a,{container:!0,direction:"column",spacing:0,children:[Object(r.jsx)(U.a,{item:!0,children:Object(r.jsx)(W.a,{pb:2,children:Object(r.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(U.a,{item:!0,xs:!0,children:Object(r.jsx)(z.a,{variant:"subtitle1",children:"Base Component Config"})}),Object(r.jsx)(U.a,{item:!0,children:Object(r.jsx)(M.a,{size:"small",color:"primary",label:t.name})})]})})}),Object(r.jsx)(Ne,{config:a,properties:n,setProp:function(e){var a=Object.assign({},n);e(a),t.baseStyle=a,S.update()}})]})})},at=function(){var e=Object(B.d)((function(e,t){var n,a=e.events.selected;return a&&(n={id:a,name:e.nodes[a].data.name,settings:e.nodes[a].related&&e.nodes[a].related.settings,isDeletable:t.node(a).isDeletable()}),{selected:n}})),t=e.actions,n=e.selected;return n?Object(r.jsx)(W.a,{mt:2,px:2,py:2,children:Object(r.jsxs)(U.a,{container:!0,direction:"column",spacing:0,children:[Object(r.jsx)(U.a,{item:!0,children:Object(r.jsx)(W.a,{pb:2,children:Object(r.jsxs)(U.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(U.a,{item:!0,xs:!0,children:Object(r.jsx)(z.a,{variant:"subtitle1",children:"Selected"})}),Object(r.jsx)(U.a,{item:!0,children:Object(r.jsx)(M.a,{size:"small",color:"primary",label:n.name})})]})})}),n.settings&&o.a.createElement(n.settings),n.isDeletable?Object(r.jsx)(C.a,{variant:"contained",color:"default",onClick:function(){t.delete(n.id)},children:"Delete"}):null]})}):null},rt={gameData:null},ct={};for(var ot in a)ct[ot]=a[ot];function it(){var e=S.editorQuery;if(e){console.debug("Saving game data");var t={};for(var n in ct){var a=ct[n];t[n]=a.baseStyle}rt.gameData={id:Math.random(),layout:e.serialize(),baseStyles:t,customStyles:he},localStorage.gameData=JSON.stringify(rt.gameData)}else console.error("store.editorQuery not set")}var st=function(){return Object(c.useEffect)((function(){console.debug("Starting autosave");var e=setInterval((function(){it()}),2e3);return function(){console.debug("Stopping autosave"),clearInterval(e)}}),[]),null},lt={};function ut(){try{var e=localStorage.gameData;if(e)return(e=JSON.parse(e)).baseStyles&&function(e){for(var t in e){var n=ct[t],a=e[t];n&&a&&(n.baseStyle=Object(p.a)(Object(p.a)({},n.baseStyle),a))}}(e.baseStyles),e.customStyles&&Object.assign(he,e.customStyles),rt.gameData=e,e;console.warn("No game data loaded")}catch(t){console.error(t)}return rt.gameData={},null}Object.assign(lt,a);var dt=n(36);function jt(){var e=Object(B.d)().query;return Object(c.useEffect)((function(){return function(){it()}}),[]),rt.gameData||ut(),S.editorQuery=e,Object(r.jsxs)(U.a,{container:!0,children:[Object(r.jsx)(U.a,{item:!0,xs:!0,style:{background:"#eee"},children:Object(r.jsx)(dt.b,{children:Object(r.jsx)(B.c,{data:rt.gameData.layout,children:Object(r.jsx)(B.b,{is:Re,padding:5,background:"#eee",canvas:!0,children:Object(r.jsx)(Pe,{text:"Start dragging components in (and delete this one)"})})})})}),Object(r.jsx)(U.a,{item:!0,xs:3,children:Object(r.jsxs)(P.a,{className:void 0,children:[Object(r.jsx)(et,{}),Object(r.jsx)(at,{})]})})]})}function pt(){return Object(r.jsx)("div",{children:Object(r.jsxs)(B.a,{resolver:lt,children:[Object(r.jsx)(st,{}),Object(r.jsx)(jt,{})]})})}function bt(){var e=Object(y.g)();return rt.gameData||ut(),Object(c.useEffect)((function(){rt.gameData||(console.error(new Error("No playGameData routing to /edit")),e.push("/edit"))}),[e]),Object(r.jsx)("div",{style:{background:"#eee"},children:Object(r.jsx)(B.a,{resolver:lt,enabled:!1,children:Object(r.jsx)(dt.b,{children:Object(r.jsx)(B.c,{data:rt.gameData.layout})})})})}function mt(){return rt.gameData||ut(),Object(r.jsx)("div",{children:"Styling"})}var ft,Ot=n(744),ht=n(745),gt=function(){var e=Object(y.g)(),t=e.location.pathname,n=Object(c.useState)(!1),a=Object(O.a)(n,2),o=a[0],i=a[1];function s(t){e.push(t),i(!o)}return Object(c.useContext)(_),Object(r.jsxs)("div",{children:[Object(r.jsx)(C.a,{onClick:function(){S.state.optionsDrawerOpen=!0,S.update()},children:"Options"}),Object(r.jsx)(C.a,{onClick:function(){s("/edit")},variant:t.includes("/edit")?"contained":void 0,color:"primary",children:"Edit"}),Object(r.jsx)(C.a,{onClick:function(){s("/code")},variant:t.includes("/code")?"contained":void 0,color:"primary",children:"Code"}),Object(r.jsx)(C.a,{onClick:function(){Se()},children:"Styling"}),Object(r.jsx)(C.a,{onClick:function(){it(),s("/play")},variant:t.includes("/play")?"contained":void 0,color:"primary",children:"Play"}),Object(r.jsx)(C.a,{onClick:function(){s("/documentation")},variant:t.includes("/documentation")?"contained":void 0,color:"primary",children:"Documentation"})]})},xt=n(148),vt=n(736),yt=Object(xt.a)({palette:{primary:{main:vt.a[900]},secondary:{main:vt.a[100]}}}),Ct=n(737),St=n(738),_t=n(739),Nt=n(740),wt=n(741),kt=n(757),Dt=n(723),It=n(680),Pt=n(742),Et=n(743),Tt=n(146),zt=n.n(Tt),Ft=n(147),At=n.n(Ft),Gt=function(e){var t=e.onClose,n={gameData:localStorage.gameData,gameCode:localStorage.gameCode},a=Object(c.useState)(btoa(JSON.stringify(n))),o=Object(O.a)(a,2),i=o[0],s=o[1];return Object(r.jsxs)(Ct.a,{open:!0,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(St.a,{id:"alert-dialog-title",children:"Import or export game data"}),Object(r.jsxs)(_t.a,{children:[Object(r.jsx)(Nt.a,{children:"Copy and paste the existing data somewhere to save it. Or paste in data you have and import it."}),Object(r.jsx)(q.a,{fullWidth:!0,label:"Current Game Data",multiline:!0,rows:4,value:i,onChange:function(e){s(e.target.value)},variant:"filled"})]}),Object(r.jsx)(wt.a,{children:Object(r.jsx)(C.a,{onClick:function(){var e=JSON.parse(atob(i));localStorage.gameData=e.gameData,localStorage.gameCode=e.gameCode,window.location.reload()},color:"primary",children:"Import"})})]})},Rt=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(kt.a,{open:S.state.optionsDrawerOpen,onClose:function(){S.state.optionsDrawerOpen=!1,S.update()},children:Object(r.jsxs)(Dt.a,{children:[Object(r.jsxs)(It.a,{button:!0,onClick:function(){delete localStorage.gameData,delete localStorage.gameCode,window.location.reload()},children:[Object(r.jsx)(Pt.a,{children:Object(r.jsx)(zt.a,{})}),Object(r.jsx)(Et.a,{primary:"Reset All",secondary:"Reset all game configuration"})]}),Object(r.jsxs)(It.a,{button:!0,onClick:function(){a(!0)},children:[Object(r.jsx)(Pt.a,{children:Object(r.jsx)(At.a,{})}),Object(r.jsx)(Et.a,{primary:"Import / Export",secondary:"Import or export your game data"})]})]})}),n&&Object(r.jsx)(Gt,{onClose:function(){return a(!1)}})]})},Ut=n(53),Bt=n(749),Wt=(ft={},Object(Ut.a)(ft,ke.name,ke),Object(Ut.a)(ft,Qe.name,Qe),Object(Ut.a)(ft,Je.name,Je),Object(Ut.a)(ft,Pe.name,Pe),Object(Ut.a)(ft,Ze.name,Ze),ft),Jt=function(){var e=Object(c.useState)(S.state.localSettings.styleDrawerComponentName),t=Object(O.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(S.state.localSettings.styleDrawerStyleId),i=Object(O.a)(o,2),s=i[0],l=i[1];console.log(S.state.localSettings.styleDrawerComponentName,n,s);var u=null;return n&&(u=he[n],console.log(Wt[n])),Object(r.jsx)("div",{children:Object(r.jsx)(kt.a,{open:S.state.localSettings.styleDrawerOpen,onClose:function(){S.state.localSettings.styleDrawerOpen=!1,S.state.localSettings.highlightComponents=S.state.localSettings.previousHighlightComponents,Ce(),S.update()},anchor:"right",BackdropProps:{invisible:!0},children:Object(r.jsxs)("div",{style:{padding:"1em"},children:[Object(r.jsx)(z.a,{variant:"h4",children:"Style Components"}),Object(r.jsx)(be,{value:n,items:Object.keys(Wt),label:"Component",onChange:function(e){he[e.target.value]=he[e.target.value]||{},a(e.target.value),l("")}}),u&&Object(r.jsxs)(W.a,{display:"flex",alignItems:"flex-end",children:[Object(r.jsx)(W.a,{flexGrow:1,children:Object(r.jsx)(be,{value:s,items:Object.keys(u).map((function(e){return{value:e,name:u[e]._name}})),label:"Styles",onChange:function(e){l(e.target.value)}})}),Object(r.jsx)(W.a,{children:Object(r.jsx)(C.a,{onClick:function(e){var t=Object(Bt.a)();u[t]={_name:"New Style ".concat(Object.keys(u).length+1)},l(t)},variant:"contained",children:"Add Style"})})]}),u&&s&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ne,{config:[{property:"_name",type:fe}].concat(Object(Q.a)(Wt[n].styleProperties)),properties:u[s],setProp:function(e){var t=Object.assign({},u[s],{customId:Math.random()});e(t),u[s]=t,S.update()}}),Object(r.jsx)(C.a,{onClick:function(e){var t=Object.keys(u),n=t.indexOf(s),a="";delete u[s],n>0?a=t[n-1]:t.length&&(a=t[1]),l(a)},variant:"contained",children:"Delete Style"})]})]})})})};localStorage.localSettings&&(S.state.localSettings=JSON.parse(localStorage.localSettings));var Mt=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).update=function(){e.setState({})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){S.update=this.update,Object(N.c)(S.update),Object(N.a)()}},{key:"render",value:function(){return Object(r.jsxs)(Ot.a,{theme:yt,children:[Object(r.jsx)(ht.a,{}),Object(r.jsx)(_.Provider,{value:{state:S.state,update:this.update,editorQuery:S.editorQuery},children:Object(r.jsx)(dt.a,{basename:"/idling-engine",children:Object(r.jsxs)("div",{children:[Object(r.jsx)(Rt,{}),Object(r.jsx)(Jt,{}),Object(r.jsx)(gt,{}),Object(r.jsxs)(y.d,{children:[Object(r.jsx)(y.b,{path:"/edit",render:function(){return Object(r.jsx)(pt,{})}}),Object(r.jsx)(y.b,{path:"/code",render:function(){return Object(r.jsx)(k,{})}}),Object(r.jsx)(y.b,{path:"/styling",render:function(){return Object(r.jsx)(mt,{})}}),Object(r.jsx)(y.b,{path:"/play",render:function(){return Object(r.jsx)(bt,{})}}),Object(r.jsx)(y.b,{path:"/documentation",render:function(){return Object(r.jsx)(R,{})}}),Object(r.jsx)(y.b,{path:"/",children:Object(r.jsx)(y.a,{to:"/edit"})})]})]})})})]})}}]),n}(c.Component);s.a.render(Object(r.jsx)(Mt,{}),document.getElementById("root"))}},[[677,1,2]]]);
//# sourceMappingURL=main.6af8683f.chunk.js.map
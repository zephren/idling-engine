(this.webpackJsonpcraftjs=this.webpackJsonpcraftjs||[]).push([[0],{148:function(e){e.exports=JSON.parse('{"name":"craftjs","version":"1.0.1","private":true,"dependencies":{"@craftjs/core":"0.1.0-beta.13","@material-ui/core":"^4.11.2","@material-ui/icons":"^4.11.2","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.6.0","@types/jest":"^26.0.19","@types/node":"^12.19.11","@types/react":"^16.14.2","@types/react-dom":"^16.9.10","ace-builds":"^1.4.12","material-ui-color-picker":"^3.5.1","react":"^17.0.1","react-ace":"^9.2.1","react-contenteditable":"^3.3.5","react-dom":"^17.0.1","react-markdown":"^5.0.3","react-router-dom":"^5.2.0","react-scripts":"4.0.1","typescript":"^4.1.3","uuid":"^8.3.2","web-vitals":"^0.2.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm version patch && git push && npm run build","deploy":"gh-pages -d build","sync":"git add . && git commit -m \'Sync\' && git push"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-router-dom":"^5.1.6","@types/uuid":"^8.3.0","gh-pages":"^3.1.0"},"homepage":"https://zephren.github.io/idling-engine"}')},16:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return setUpdateUIFunction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return game})),__webpack_require__.d(__webpack_exports__,"a",(function(){return executeCode}));var _home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(37);function setUpdateUIFunction(e){game.update=e}var game={settings:{tickInterval:1e3},data:{},actions:{},conditionals:{},dataSources:{},visibilitySources:{},configure:function(e){console.log("game.configure not defined")},isInitialized:!1,isGameDataInitialized:!1,_initialize:function(){console.log("game.initialize not defined")},_initializeGameData:function(){console.log("game.initializeGameData not defined")},get initialize(){return this._initialize},set initialize(e){var t=this;this._initialize=function(){console.log("Initializing Game"),t.isInitialized=!0,e()}},get initializeGameData(){return this._initializeGameData},set initializeGameData(e){var t=this;this._initializeGameData=function(){console.log("Initializing Game Data"),t.isGameDataInitialized=!0,e()}},tick:function(){console.log("game.tick not defined")},update:function(){console.log("game.update not defined")}},currentTimeout=null;function tick(){currentTimeout=setTimeout((function(){try{game.tick()}catch(e){console.error(e)}tick()}),game.settings.tickInterval)}function executeCode(){var files=localStorage.gameCode?JSON.parse(localStorage.gameCode):[],finalCode="",_iterator=Object(_home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;finalCode+=file.code+"\n\n"}}catch(err){_iterator.e(err)}finally{_iterator.f()}var lines=finalCode.split("\n"),numberWidth=Math.floor(Math.log(lines.length));console.log(lines.map((function(e,t){return"".concat((t+1).toString().padEnd(numberWidth)," ").concat(e)})).join("\n"));try{currentTimeout&&clearTimeout(currentTimeout),eval(finalCode),game.isInitialized||game.initialize(),game.isGameDataInitialized||game.initializeGameData(),game.configure(game.settings),tick()}catch(err){err.message="GAME SCRIPT ERROR: "+err.message,console.error(err)}}window.game=game},680:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"AppBar",(function(){return Be})),n.d(a,"Button",(function(){return We})),n.d(a,"Card",(function(){return Ke})),n.d(a,"CardBottom",(function(){return Qe})),n.d(a,"CardTop",(function(){return qe})),n.d(a,"Container",(function(){return $e})),n.d(a,"GridContainer",(function(){return et})),n.d(a,"GridItem",(function(){return tt})),n.d(a,"PathContainer",(function(){return ot})),n.d(a,"Table",(function(){return ut})),n.d(a,"Text",(function(){return Me})),n.d(a,"VariableText",(function(){return dt}));var r=n(1),c=n(0),i=n.n(c),o=n(15),s=n.n(o),l=n(132),u=n(133),p=n(153),d=n(152),j=n(24),b={DEBUG:1,INFO:2,WARN:3,ERROR:4},m=console,f=Object(j.a)({},console);m.logLevels=b,m.logLevel=b.DEBUG,m.debug=function(){if(m.logLevel<=b.DEBUG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.debug.apply(f,["DEBUG"].concat(t))}},m.info=function(){if(m.logLevel<=b.INFO){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.info.apply(f,["INFO"].concat(t))}},m.warn=function(){if(m.logLevel<=b.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.warn.apply(f,["WARN"].concat(t))}},m.error=function(){if(m.logLevel<=b.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f.error.apply(f,["ERROR"].concat(t))}};console;var O=n(20),h=n(134),g=n.n(h),x=(n(179),n(594),n(595),n(135)),y=n.n(x),v=n(19),S=n(713),C=n(716),_=n(683),N=n(717),w=n(718),k=n(719),D=n(720),I=n(754),P=n(140),z=n.n(P),E=n(139),G=n.n(E),F={state:{localSettings:{highlightComponents:!0,previousHighlightComponents:!0,styleDrawerOpen:!1,styleDrawerComponentName:"",styleDrawerStyleId:""},optionsDrawerOpen:!1},editorQuery:null,update:function(){console.log("Update function not defined")}},T=i.a.createContext(F);window.store=F;var A=n(16),R=n(752),U="\n\n// You may wish to move each of the following to its own file\n\ngame.configure = (settings) => {\n  // Update any game settings here\n  // settings.tickInterval = 5000\n}\n\ngame.initialize = () => {\n  // Code executed when the application starts up\n}\n\ngame.initializeGameData = () => {\n  // Update any initial game data here\n  game.data = new GameData()\n}\n\ngame.tick = () => {\n  // The main function to handle game logic\n};\n\n// Define actions using game.actions ...\n// Define conditionals using game.conditionals ...\n",B="\n\nclass GameData {\n  constructor() {\n    // Define game properties here\n  }\n\n  // Can use getters as well for use with variableText\n}\n",J=localStorage.gameCode?JSON.parse(localStorage.gameCode):[];function W(){var e=Object(v.g)(),t=Object(c.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(!1),s=Object(O.a)(o,2),l=s[0],u=s[1],p=Object(c.useState)({}),d=Object(O.a)(p,2),b=d[0],m=d[1];function f(){localStorage.gameCode=JSON.stringify(J)}function h(e,t){J.push({id:Object(R.a)(),name:e,code:t})}return Object(c.useContext)(T),Object(c.useEffect)((function(){var e=setInterval((function(){f()}),1e3);return function(){clearInterval(e),f(),Object(A.a)()}}),[]),0===J.length&&(h("main","//main\n"+U),h("gameData","//gameData\n"+B)),Object(r.jsxs)(S.a,{container:!0,style:{position:"absolute",top:"37px",bottom:"0px",width:"100%"},children:[Object(r.jsx)(S.a,{item:!0,sm:2,style:{position:"relative"},children:Object(r.jsxs)(C.a,{dense:!0,style:{overflowY:"auto",position:"absolute",width:"100%",top:"0px",bottom:"0px"},children:[J.map((function(t,n){var c=e.location.pathname.includes(t.id);return Object(r.jsxs)(_.a,{style:{cursor:"pointer"},selected:c,onClick:function(){!function(t,n){if(l){var a=Object(j.a)({},b);a[n]=!a[n],m(a)}else e.push("/code/".concat(t))}(t.id,n)},children:[c?Object(r.jsx)(N.a,{value:t.name,onChange:function(e){t.name=e.target.value,i(!a)}}):Object(r.jsx)(w.a,{primary:t.name}),l&&Object(r.jsx)(k.a,{children:b[n]?Object(r.jsx)(G.a,{}):Object(r.jsx)(z.a,{})})]},t.id)})),Object(r.jsx)(D.a,{}),Object(r.jsx)(_.a,{button:!0,onClick:function(){var e="New File ".concat(J.length);h(e,"//".concat(e)),i(!a)},children:Object(r.jsx)(w.a,{primary:"+ New File"})}),Object(r.jsx)(D.a,{}),Object(r.jsxs)(_.a,{children:[Object(r.jsx)(w.a,{primary:"Delete Files"}),Object(r.jsx)(I.a,{onChange:function(e){l&&(J=J.filter((function(e,t){return!b[t]})),m({})),u(e.target.checked)},checked:l})]}),Object(r.jsx)(_.a,{children:Object(r.jsx)(w.a,{primary:"ctrl+shift+b - beautify"})})]})}),Object(r.jsx)(S.a,{item:!0,sm:10,style:{background:"red",position:"relative"},children:Object(r.jsxs)(v.d,{children:[J.map((function(e){return Object(r.jsx)(v.b,{path:"/code/".concat(e.id),render:function(){return Object(r.jsx)("div",{style:{position:"absolute",width:"100%",top:"0px",bottom:"0px"},children:Object(r.jsx)(g.a,{mode:"javascript",theme:"monokai",onChange:function(t){e.code=t},name:"Code Editor",editorProps:{$blockScrolling:!0},style:{width:"100%",height:"100%",fontSize:"1.1em"},value:e.code,tabSize:2,commands:y.a.commands,focus:!0})})}},e.id)})),Object(r.jsx)(v.b,{path:"/code",children:Object(r.jsx)(v.a,{to:"/code/".concat(J[0].id)})})]})})]})}var M=n(722),H=n(723),L=n(109),V=n(753),q=n(724),Q=n(62),K=n(141),Y=n.n(K),$=Object(M.a)((function(){return{paper:{padding:"1em"}}}));function X(){var e=$();return Object(r.jsx)(H.a,{children:Object(r.jsxs)(L.a,{className:e.paper,children:[Object(r.jsxs)(V.a,{"aria-label":"breadcrumb",children:[Object(r.jsx)(q.a,{color:"inherit",href:"/",children:"Material-UI"}),Object(r.jsx)(q.a,{color:"inherit",href:"/getting-started/installation/",children:"Core"}),Object(r.jsx)(Q.a,{color:"textPrimary",children:"Breadcrumb"})]}),Object(r.jsx)(Y.a,{plugins:[],children:"\n# Idling Engine\n"})]})})}var Z=n(9),ee=n(749),te=n(728),ne=n(759),ae=n(154),re=n(37),ce=n(729),ie=n(730),oe=n(731),se=n(732),le=n(733),ue=function(e){var t=e.component;return e.items.map((function(e,n){return t(e,n)}))},pe=n(721),de=n(725),je=n(755),be=n(726),me=n(750),fe=function(e){var t,n=e.value,a=e.items,c=e.label,i=e.onChange,o=[],s=Object(re.a)(a);try{for(s.s();!(t=s.n()).done;){var l=t.value,u="",p=null;"string"===typeof l?(u=l,p=l):(u=l.name,p=l.value),o.push(Object(r.jsx)(de.a,{value:p,children:u},u))}}catch(j){s.e(j)}finally{s.f()}var d=null;return c&&(d=Object(r.jsx)(je.a,{shrink:!0,children:c})),Object(r.jsxs)(be.a,{fullWidth:!0,children:[d,Object(r.jsx)(me.a,{value:n||"",onChange:i,children:o})]})},Oe=n(92),he=n.n(Oe),ge=function(e){var t=e.property,n=e.value,a=e.itemsFn,c=e.setProp;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(fe,{value:n||"",items:a(),onChange:function(e){c((function(n){return n[t]=e.target.value}))}}),Object(r.jsx)(pe.a,{onClick:function(){c((function(e){return e[t]=null}))},children:Object(r.jsx)(he.a,{})})]})},xe=(n(757),n(758)),ye=function(e){var t=e.property,n=e.value,a=e.setProp;return Object(r.jsx)(xe.a,{fullWidth:!0,value:n||"",onChange:function(e){a((function(n){n[t]=e.target.value}))}})},ve={},Se=n(144),Ce=n.n(Se);function _e(){localStorage.localSettings=JSON.stringify(F.state.localSettings)}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F.state.localSettings.styleDrawerOpen=!0,F.state.localSettings.previousHighlightComponents=F.state.localSettings.highlightComponents,F.state.localSettings.highlightComponents=!1,e.componentName&&(F.state.localSettings.styleDrawerComponentName=e.componentName,F.state.localSettings.styleDrawerStyleId=e.styleId||"",ve[e.componentName]=ve[e.componentName]||{}),_e(),F.update()}var we=function(e){var t=e.property,n=e.value,a=e.componentName,c=e.setProp;return ve[a]&&0!==Object.keys(ve[a]).length?Object(r.jsxs)(ee.a,{display:"flex",alignItems:"flex-end",children:[Object(r.jsx)(ee.a,{flexGrow:1,children:Object(r.jsx)(fe,{value:n||"",items:Object.keys(ve[a]).map((function(e){return{value:e,name:ve[a][e]._name}})),onChange:function(e){c((function(n){return n[t]=e.target.value}))}})}),Object(r.jsxs)(ee.a,{children:[Object(r.jsx)(pe.a,{onClick:function(){c((function(e){return e[t]=null}))},children:Object(r.jsx)(he.a,{})}),Object(r.jsx)(pe.a,{onClick:function(){Ne({componentName:a,styleId:n})},children:Object(r.jsx)(Ce.a,{})})]})]}):Object(r.jsx)(te.a,{variant:"contained",onClick:function(){Ne({componentName:a})},children:"Define a Style"})},ke=function(e){var t=e.config,n=e.properties,a=e.setProp,c=[];if(!n)return console.error(t,new Error),null;var i,o=Object(re.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.property,u=Object(ae.a)(s,["property"]),p=n[l];c.push(Object(r.jsxs)(ce.a,{children:[Object(r.jsx)(ie.a,{component:"td",scope:"row",children:l}),Object(r.jsx)(ie.a,{children:Object(r.jsx)(s.type,Object(j.a)({property:l,value:p,setProp:a},u))})]},l))}}catch(d){o.e(d)}finally{o.f()}return Object(r.jsx)(oe.a,{children:Object(r.jsx)(se.a,{size:"small",children:Object(r.jsx)(le.a,{children:c})})})},De=n(735),Ie=n(736),Pe=n(94),ze=Object(M.a)((function(e){return{componentEditing:{boxShadow:"inset 0em 0em 0em 2px rgba(255, 50, 50, 1)",minHeight:"5px",minWidth:"5px",padding:"10px!important"},componentSelected:{boxShadow:"inset 0em 0em 0em 2px green"}}}));function Ee(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return[].concat(Object(Pe.a)(a),[e&&F.state.localSettings.highlightComponents?n.componentEditing:"",t?n.componentSelected:""]).join(" ")}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.additionalClasses,n=void 0===t?[]:t,a=Object(c.useContext)(T),r=Object(Z.e)((function(e){return{selected:e.events.selected}})),i=r.connectors,o=i.connect,s=i.drag,l=r.selected,u=Object(Z.d)((function(e){return{enabled:e.options.enabled}})),p=u.enabled,d=ze(),j=Ee(p,l,d,n),b=function(e){return o(s(e))};return{refFn:b,selected:l,enabled:p,componentClassName:j,store:a}}var Fe=function(e){e.property;var t=e.value,n=e.onChange;return Object(r.jsx)(I.a,{checked:t||!1,onChange:n})},Te=n(751),Ae=n(734);function Re(e){var t=e.path,n=e.tabs,a=e.className,c=Object(Z.e)().connectors.connect,i=Object(v.g)(),o=function(e,t){var n=null;for(var a in t){var r=t[a];if(r.default&&(n=r),e.match(r.path))return[parseInt(a),r]}return n?[-1,n]:[-1,null]}(t,n),s=Object(O.a)(o,2),l=s[0],u=s[1];return-1===l?(u&&i.push(u.to),null):Object(r.jsx)(Te.a,{ref:c,value:l,onChange:function(e,t){var a=n[t];i.push(a.to)},className:a,children:n.map((function(e){return e.visibilitySource&&!A.b.visibilitySources[e.visibilitySource]()?null:Object(r.jsx)(Ae.a,{label:e.name,className:a},e.name)}))})}var Ue=Object(M.a)((function(e){return{root:{flexGrow:1},spacer:{flexGrow:1},fullHeight:Object(j.a)({},e.mixins.toolbar)}}));function Be(e){var t=e.tabs,n=Ue(),a=Ge({additionalClasses:[n.root]}),i=a.refFn,o=a.componentClassName,s=a.store,l=Object(v.g)(),u=Object(c.useState)(!0),p=Object(O.a)(u,2),d=p[0],j=p[1];return Object(r.jsx)("div",{ref:i,className:n.root,onClick:function(){setTimeout((function(){j(!d),s.update()}))},children:Object(r.jsx)(De.a,{position:"static",className:o,children:Object(r.jsxs)(Ie.a,{children:[Object(r.jsx)(Re,{path:l.location.pathname,tabs:t,className:n.fullHeight}),Object(r.jsx)("div",{className:n.spacer})]})})})}Be.craft={props:{tabs:[{name:"Tab 1",path:"tab1",to:"/tab1",default:!0},{name:"Tab 2",path:"tab2",to:"/tab2"},{name:"Tab 3",path:"tab3",to:"/tab3"}]},related:{settings:function(){var e=Object(Z.e)((function(e){return{props:e.data.props,triggerUpdate:!!e.data.props.triggerUpdate,tabs:e.data.props.tabs}})),t=e.actions.setProp,n=e.triggerUpdate,a=e.tabs,c=Object.keys(A.b.visibilitySources);return Object(r.jsxs)("div",{children:[a.map((function(e,i){return Object(r.jsx)(ke,{config:[{type:ye,property:"name"},{type:ye,property:"path"},{type:ye,property:"to"},{type:ge,property:"visibilitySource",itemsFn:function(){return c}},{type:Fe,property:"default",onChange:function(){return function(e){var r,c=Object(re.a)(a);try{for(c.s();!(r=c.n()).done;)r.value.default=!1}catch(i){c.e(i)}finally{c.f()}return e.default=!0,t((function(e){e.triggerUpdate=!n}))}(e)}}],properties:e,setProp:function(a){a(e),t((function(e){e.triggerUpdate=!n}))}})})),Object(r.jsx)(te.a,{onClick:function(){return a.push({name:"New Tab",path:"",to:""}),t((function(e){return e.triggerUpdate=!n}))},children:"Add Tab"})]})}}};function Je(e,t,n){var a=Object(c.useState)(null),r=Object(O.a)(a,2),i=r[0],o=r[1],s=null;return n&&(s=t[n]),(i&&s&&s.customId!==i.customId||!i&&s)&&o(Object(j.a)(Object(j.a)({},e),s)),i&&!s&&o(null),i||e}var We=function e(t){var n=t.size,a=t.variant,c=t.color,i=t.text,o=t.onClickAction,s=t.actionContext,l=t.customStyleName,u=Ge(),p=u.refFn,d=u.componentClassName,j=Je(e.baseStyle,ve.Button,l);return Object(r.jsx)(te.a,{style:j,ref:p,className:d,size:n,variant:a,color:c,onClick:function(){var e=A.b.actions[o];e&&(e(s),F.update())},children:i})};We.craft={props:{size:"small",variant:"contained",color:"primary",text:"Button"},related:{settings:function(){var e=Object(Z.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(ke,{config:[{type:we,property:"customStyleName",componentName:n},{type:ge,property:"onClickAction",itemsFn:function(){return Object.keys(A.b.actions)}},{type:ye,property:"text"}],properties:a,setProp:t})}}},We.baseStyle={margin:"0em"},We.styleProperties=[{property:"padding",type:ye}];var Me=function e(t){var n=t.text,a=t.customStyleName,c=Ge(),i=c.refFn,o=c.componentClassName,s=Je(e.baseStyle,ve.Text,a);return Object(r.jsx)("span",{ref:i,className:o,style:s,children:n})};Me.craft={props:{text:"Text"},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(Z.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(ke,{config:[{type:we,property:"customStyleName",componentName:n},{type:ye,property:"text",componentName:n}],properties:a,setProp:t})}}},Me.baseStyle={margin:"0em"},Me.styleProperties=[{property:"fontSize",type:ye}];var He=n(737),Le=n(738),Ve=n(739),qe=function(e){var t=e.children,n=Object(Z.e)().connectors.connect;return Object(r.jsx)(He.a,{ref:n,className:"text-only",children:t})};qe.craft={rules:{}};var Qe=function(e){var t=e.children,n=Object(Z.e)().connectors.connect;return Object(r.jsx)(Le.a,{ref:n,children:t})};Qe.craft={rules:{canMoveIn:function(e){return e.data.type===We}}};var Ke=function(){var e=Ge(),t=e.refFn,n=e.componentClassName;return Object(r.jsxs)(Ve.a,{ref:t,className:n,children:[Object(r.jsxs)(Z.b,{id:"text",is:qe,canvas:!0,children:[Object(r.jsx)(Me,{text:"Title",fontSize:20}),Object(r.jsx)(Me,{text:"Subtitle",fontSize:15})]}),Object(r.jsx)(Z.b,{id:"buttons",is:Qe,canvas:!0,children:Object(r.jsx)(We,{size:"small",text:"Learn more",variant:"outlined",children:"Hi!"})})]})};function Ye(e,t){if(!e)return{};var n={};if(A.b.visibilitySources[e]&&!A.b.visibilitySources[e]()){if(!t)return null;n.opacity="0.25"}return n}var $e=function e(t){var n=t.children,a=t.visibilitySource,c=Ge(),i=c.refFn,o=c.componentClassName,s=Ye(a,c.enabled);return s?Object(r.jsx)(H.a,{ref:i,style:Object(j.a)(Object(j.a)({},e.baseStyle),s),className:o,children:n}):null};$e.craft={props:{padding:"0px"},related:{settings:function(){var e=Object(Z.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(r.jsx)(ke,{config:[{type:ge,property:"visibilitySource",itemsFn:function(){return Object.keys(A.b.visibilitySources)}}],properties:n,setProp:t})}}},$e.baseStyle={padding:"0em"};var Xe=[{name:"3",value:3},{name:"4",value:4},{name:"6",value:6}],Ze=Object(M.a)((function(){return{root:{flexGrow:1}}})),et=function(e){var t=e.children,n=e.visibilitySource,a=Ge({additionalClasses:[Ze().root]}),c=a.refFn,i=a.componentClassName,o=Ye(n,a.enabled);return o?Object(r.jsx)(S.a,{container:!0,ref:c,className:i,style:o,spacing:2,children:t}):null};et.craft={props:{},related:{settings:function(){var e=Object(Z.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(r.jsx)(ke,{config:[{type:ge,property:"visibilitySource",itemsFn:function(){return Object.keys(A.b.visibilitySources)}}],properties:n,setProp:t})}}};var tt=function e(t){var n=t.children,a=t.size,c=t.visibilitySource,i=t.customStyleName,o=Ge(),s=o.refFn,l=o.componentClassName,u=o.enabled,p=Je(e.baseStyle,ve.GridItem,i),d=Ye(c,u);return d?Object(r.jsx)(S.a,{item:!0,xs:a,ref:s,className:l,style:d,children:Object(r.jsx)(L.a,{style:p,children:n})}):null};tt.craft={props:{size:6},related:{settings:function(){var e=Object(Z.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(ke,{config:[{type:we,property:"customStyleName",componentName:n},{type:ge,property:"size",itemsFn:function(){return Xe}},{type:ge,property:"visibilitySource",itemsFn:function(){return Object.keys(A.b.visibilitySources)}}],properties:a,setProp:t})}}},tt.baseStyle={padding:"0em",height:"100%"},tt.styleProperties=[{property:"padding",type:ye}];var nt=n(145),at=n.n(nt),rt=n(146),ct=n.n(rt),it=Object(M.a)((function(e){return{main:{padding:"0em"}}})),ot=function e(t){var n=t.path,a=t.children,c=t.customStyleName,i=Object(v.g)(),o=Ge({additionalClasses:[it().main]}),s=o.refFn,l=o.enabled,u=o.componentClassName,p=i.location.pathname.includes(n),d=Je(e.baseStyle,ve.PathContainer,c);return Object(r.jsxs)(H.a,{ref:s,className:u,style:d,children:[l&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{float:"right",height:"0em"},children:p?Object(r.jsx)(at.a,{}):Object(r.jsx)(ct.a,{})}),n," : ",i.location.pathname]}),p?a:null]})};ot.styleProperties=[{property:"margin",type:ye}];ot.craft={props:{path:"/tab1"},related:{settings:function(){var e=Object(Z.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(ke,{config:[{type:we,property:"customStyleName",componentName:n},{type:ye,property:"path"}],properties:a,setProp:t})}}},ot.baseStyle={margin:"0em"};var st=n(740),lt=function(e){var t=e.items,n=e.columnNames,a=[],c={item:{},index:"0",column:{}};try{for(var i in t){var o=t[i],s=[];for(var l in c.item=o,n){var u=n[l];c.index=l,c.column=u;var p=u.name,d=o[u.property];switch(u.type){case"string":if("string"!==typeof d)throw new Error("Trying to use a non-string value as a string");s.push(Object(r.jsx)(ie.a,{children:d},p));break;case"variableString":if(!d.data)throw new Error("No data function for a variableString");s.push(Object(r.jsx)(ie.a,{children:d.data()},p));break;case"button":if(!d.onClickAction)throw new Error("No onClickAcion function for a button");s.push(Object(r.jsx)(ie.a,{children:Object(r.jsx)(We,{text:d.text,variant:"contained",color:"primary",onClickAction:d.onClickAction,actionContext:o})},p))}}a.push(Object(r.jsx)(ce.a,{children:s},i))}}catch(j){return Object(r.jsx)(le.a,{children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{children:["Table Data Error! ",j.message]}),Object(r.jsxs)("div",{children:["Column Index: ",c.index]}),Object(r.jsxs)("div",{children:["Column Type: ",c.column.type]}),Object(r.jsxs)("div",{children:["Item Data: ",JSON.stringify(c.item)]})]})})}return Object(r.jsx)(le.a,{children:a})},ut=function(e){var t,n=e.columnNames,a=void 0===n?[]:n,c=e.itemSource,i=Ge(),o=i.refFn,s=i.componentClassName,l=[],u=Object(re.a)(a);try{for(u.s();!(t=u.n()).done;){var p=t.value;l.push(Object(r.jsx)(ie.a,{children:p.name},p.name))}}catch(b){u.e(b)}finally{u.f()}var d=A.b.dataSources[c],j=d?d():[];return Object(r.jsx)("div",{ref:o,className:s,children:Object(r.jsx)(oe.a,{children:Object(r.jsxs)(se.a,{size:"small",children:[Object(r.jsx)(st.a,{children:Object(r.jsx)(ce.a,{children:l})}),Object(r.jsx)(lt,{items:j,columnNames:a})]})})})},pt=function(e){var t=e.item,n=e.update;return Object(r.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(r.jsx)(xe.a,{fullWidth:!0,value:t.name,label:"Name",onChange:function(e){t.name=e.target.value,n()}}),Object(r.jsx)(xe.a,{fullWidth:!0,value:t.property,label:"Property",onChange:function(e){t.property=e.target.value,n()}}),Object(r.jsx)(fe,{value:t.type||"",items:[{name:"String",value:"string"},{name:"Button",value:"button"},{name:"Variable String",value:"variableString"}],label:"Type",onChange:function(e){t.type=e.target.value,n()}})]})};ut.craft={props:{columnNames:[{name:"Colum 1",property:"col1",type:"string"},{name:"Colum 2",property:"col2",type:"string"},{name:"Colum 3",property:"col3",type:"button"}],itemSource:"",updateVariable:!1},related:{settings:function(){var e=Object(Z.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(r.jsx)(ke,{config:[{type:ge,property:"itemSource",itemsFn:function(){return Object.keys(A.b.dataSources)}},{type:ue,property:"columnNames",component:function(e,n){return Object(r.jsx)(pt,{item:e,update:function(){t((function(e){return e.updateVarible=!e.updateVarible}))}},n)},items:n.columnNames}],properties:n,setProp:t})}}};var dt=function e(t){var n,a=t.dataProperty,c=t.subProperty,i=t.customStyleName,o=Ge(),s=o.refFn,l=o.componentClassName,u=Je(e.baseStyle,ve.VariableText,i),p=A.b.data[a];return p&&c&&(p=p[c]),"object"===typeof p&&(p=void 0),Object(r.jsx)("span",{ref:s,className:l,style:u,children:null!==(n=p)&&void 0!==n?n:"##NO VALUE##"})};dt.craft={props:{},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(Z.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,a=e.props;return Object(r.jsx)(ke,{config:[{type:we,property:"customStyleName",componentName:n},{type:ye,property:"dataProperty"},{type:ye,property:"subProperty"}],properties:a,setProp:t})}}},dt.baseStyle={margin:"0em"},dt.styleProperties=[{property:"fontSize",type:ye}];var jt=function(e){return[{name:"Button",component:We,ref:function(t){return e.create(t,Object(r.jsx)(We,{}))}},{name:"Text",component:Me,ref:function(t){return e.create(t,Object(r.jsx)(Me,{text:"Hi world"}))}},{name:"Container",component:$e,ref:function(t){return e.create(t,Object(r.jsx)(Z.b,{is:$e,canvas:!0,children:Object(r.jsx)(Me,{text:"Container"})}))}},{name:"Variable Text",component:dt,ref:function(t){return e.create(t,Object(r.jsx)(dt,{}))}},{name:"App Bar",component:Be,ref:function(t){return e.create(t,Object(r.jsx)(Be,{}))}},{name:"Path Container",component:ot,ref:function(t){return e.create(t,Object(r.jsx)(Z.b,{is:ot,canvas:!0}))}},{name:"Table",component:ut,ref:function(t){return e.create(t,Object(r.jsx)(ut,{}))}},{name:"Grid Container",component:et,ref:function(t){return e.create(t,Object(r.jsxs)(Z.b,{is:et,canvas:!0,children:[Object(r.jsx)(Z.b,{is:tt,canvas:!0,children:Object(r.jsx)(Me,{text:"Grid Item"})}),Object(r.jsx)(Z.b,{is:tt,canvas:!0,children:Object(r.jsx)(Me,{text:"Grid Item"})})]}))}},{name:"Grid Item",component:tt,ref:function(t){return e.create(t,Object(r.jsx)(Z.b,{is:tt,canvas:!0,children:Object(r.jsx)(Me,{text:"Grid Item"})}))}}]},bt=function(){var e=Object(Z.d)(),t=e.connectors,n=e.actions,a=Object(c.useState)(null),i=Object(O.a)(a,2),o=i[0],s=i[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee.a,{px:2,py:2,children:Object(r.jsxs)(S.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,children:[Object(r.jsxs)(ee.a,{pb:2,children:[Object(r.jsx)(Q.a,{children:"Drag to add"}),"Highlight components",Object(r.jsx)(I.a,{checked:F.state.localSettings.highlightComponents,onChange:function(){F.state.localSettings.highlightComponents=!F.state.localSettings.highlightComponents,_e(),F.update()}})]}),jt(t).map((function(e){return Object(r.jsx)(S.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(te.a,{ref:e.ref,variant:"contained",onClick:function(){n.selectNode(),s({component:e.component})},children:e.name})},e.name)}))]})}),o?Object(r.jsx)(ft,{component:o.component}):null]})},mt={margin:{property:"margin",type:ye},padding:{property:"padding",type:ye},height:{property:"height",type:ye}},ft=function(e){var t=e.component,n=t.baseStyle;if(!n)return null;var a=[];for(var c in n){var i=mt[c];a.push(i)}return Object(r.jsx)(ee.a,{mt:2,px:2,py:2,children:Object(r.jsxs)(S.a,{container:!0,direction:"column",spacing:0,children:[Object(r.jsx)(S.a,{item:!0,children:Object(r.jsx)(ee.a,{pb:2,children:Object(r.jsxs)(S.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(S.a,{item:!0,xs:!0,children:Object(r.jsx)(Q.a,{variant:"subtitle1",children:"Base Component Config"})}),Object(r.jsx)(S.a,{item:!0,children:Object(r.jsx)(ne.a,{size:"small",color:"primary",label:t.name})})]})})}),Object(r.jsx)(ke,{config:a,properties:n,setProp:function(e){var a=Object.assign({},n);e(a),t.baseStyle=a,F.update()}})]})})},Ot=function(){var e=Object(Z.d)((function(e,t){var n,a=e.events.selected;return a&&(n={id:a,name:e.nodes[a].data.name,settings:e.nodes[a].related&&e.nodes[a].related.settings,isDeletable:t.node(a).isDeletable()}),{selected:n}})),t=e.actions,n=e.selected;return n?Object(r.jsx)(ee.a,{mt:2,px:2,py:2,children:Object(r.jsxs)(S.a,{container:!0,direction:"column",spacing:0,children:[Object(r.jsx)(S.a,{item:!0,children:Object(r.jsx)(ee.a,{pb:2,children:Object(r.jsxs)(S.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(S.a,{item:!0,xs:!0,children:Object(r.jsx)(Q.a,{variant:"subtitle1",children:"Selected"})}),Object(r.jsx)(S.a,{item:!0,children:Object(r.jsx)(ne.a,{size:"small",color:"primary",label:n.name})})]})})}),n.settings&&i.a.createElement(n.settings),n.isDeletable?Object(r.jsx)(te.a,{variant:"contained",color:"default",onClick:function(){t.delete(n.id)},children:"Delete"}):null]})}):null},ht={gameData:null},gt={};for(var xt in a)gt[xt]=a[xt];function yt(){var e=F.editorQuery;if(e){console.debug("Saving game data");var t={};for(var n in gt){var a=gt[n];t[n]=a.baseStyle}ht.gameData={id:Math.random(),layout:e.serialize(),baseStyles:t,customStyles:ve},localStorage.gameData=JSON.stringify(ht.gameData)}else console.error("store.editorQuery not set")}var vt=function(){return Object(c.useEffect)((function(){console.debug("Starting autosave");var e=setInterval((function(){yt()}),2e3);return function(){console.debug("Stopping autosave"),clearInterval(e)}}),[]),null},St={};Object.assign(St,a);var Ct=n(36),_t=Object(M.a)((function(e){return{gameArea:{background:"#eee"}}}));function Nt(){var e=Object(Z.d)().query,t=_t();return Object(c.useEffect)((function(){return function(){yt()}}),[]),F.editorQuery=e,Object(r.jsxs)(S.a,{container:!0,children:[Object(r.jsx)(S.a,{item:!0,xs:!0,className:t.gameArea,children:Object(r.jsx)(Ct.b,{children:Object(r.jsx)(Z.c,{data:ht.gameData.layout,children:Object(r.jsx)(Z.b,{is:$e,padding:5,canvas:!0,children:Object(r.jsx)(Me,{text:"Start dragging components in (and delete this one)"})})})})}),Object(r.jsx)(S.a,{item:!0,xs:3,children:Object(r.jsxs)(L.a,{className:void 0,children:[Object(r.jsx)(bt,{}),Object(r.jsx)(Ot,{})]})})]})}function wt(){return Object(r.jsx)("div",{children:Object(r.jsxs)(Z.a,{resolver:St,children:[Object(r.jsx)(vt,{}),Object(r.jsx)(Nt,{})]})})}function kt(){var e=Object(v.g)(),t=_t();return Object(c.useEffect)((function(){ht.gameData||(console.error(new Error("No gameData routing to /edit")),e.push("/edit"))}),[e]),Object(r.jsx)("div",{className:t.gameArea,children:Object(r.jsx)(Z.a,{resolver:St,enabled:!1,children:Object(r.jsx)(Ct.b,{children:Object(r.jsx)(Z.c,{data:ht.gameData.layout})})})})}var Dt,It=n(747),Pt=n(748),zt=n(147),Et=n.n(zt),Gt=function(){var e=Object(v.g)(),t=e.location.pathname,n=Object(c.useState)(!1),a=Object(O.a)(n,2),i=a[0],o=a[1];function s(t){e.push(t),o(!i)}return Object(c.useContext)(T),Object(r.jsxs)("div",{children:[Object(r.jsx)(te.a,{onClick:function(){F.state.optionsDrawerOpen=!0,F.update()},children:Object(r.jsx)(Et.a,{})}),Object(r.jsx)(te.a,{onClick:function(){s("/edit")},variant:t.includes("/edit")?"contained":void 0,color:"primary",children:"Edit"}),Object(r.jsx)(te.a,{onClick:function(){s("/code")},variant:t.includes("/code")?"contained":void 0,color:"primary",children:"Code"}),Object(r.jsx)(te.a,{onClick:function(){Ne()},children:"Styling"}),Object(r.jsx)(te.a,{onClick:function(){yt(),s("/play")},variant:t.includes("/play")?"contained":void 0,color:"primary",children:"Play"}),Object(r.jsx)(te.a,{onClick:function(){s("/documentation")},variant:t.includes("/documentation")?"contained":void 0,color:"primary",children:"Documentation"})]})},Ft=n(151),Tt=n(741),At=Object(Ft.a)({palette:{primary:{main:Tt.a[900]},secondary:{main:Tt.a[100]}}}),Rt=n(760),Ut=n(149),Bt=n.n(Ut),Jt=n(150),Wt=n.n(Jt),Mt=n(742),Ht=n(743),Lt=n(744),Vt=n(745),qt=n(746),Qt=function(e){var t=e.onClose,n={gameData:localStorage.gameData,gameCode:localStorage.gameCode},a=Object(c.useState)(btoa(JSON.stringify(n))),i=Object(O.a)(a,2),o=i[0],s=i[1];return Object(r.jsxs)(Mt.a,{open:!0,onClose:t,children:[Object(r.jsx)(Ht.a,{children:"Import or export game data"}),Object(r.jsxs)(Lt.a,{children:[Object(r.jsx)(Vt.a,{children:"Copy and paste the existing data somewhere to save it. Or paste in data you have and import it."}),Object(r.jsx)(xe.a,{fullWidth:!0,label:"Current Game Data",multiline:!0,rows:4,value:o,onChange:function(e){s(e.target.value)},variant:"filled"})]}),Object(r.jsx)(qt.a,{children:Object(r.jsx)(te.a,{onClick:function(){var e=JSON.parse(atob(o));localStorage.gameData=e.gameData,localStorage.gameCode=e.gameCode,window.location.reload()},color:"primary",children:"Import"})})]})},Kt=function(e){var t=e.onClose;return Object(r.jsxs)(Mt.a,{open:!0,onClose:t,children:[Object(r.jsx)(Ht.a,{children:"Reset Game Data"}),Object(r.jsx)(Lt.a,{children:Object(r.jsx)(Vt.a,{children:"Are you sure you want to reset the curret game data?"})}),Object(r.jsxs)(qt.a,{children:[Object(r.jsx)(te.a,{onClick:t,color:"primary",variant:"contained",children:"Cancel"}),Object(r.jsx)(te.a,{onClick:function(){delete localStorage.gameData,delete localStorage.gameCode,window.location.reload()},color:"primary",children:"Confirm"})]})]})},Yt=n(148),$t=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),o=Object(O.a)(i,2),s=o[0],l=o[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(Rt.a,{open:F.state.optionsDrawerOpen,onClose:function(){F.state.optionsDrawerOpen=!1,F.update()},children:Object(r.jsxs)(C.a,{children:[Object(r.jsxs)(_.a,{button:!0,onClick:function(){l(!0)},children:[Object(r.jsx)(k.a,{children:Object(r.jsx)(Bt.a,{})}),Object(r.jsx)(w.a,{primary:"Reset Game Data",secondary:"Reset all game configuration"})]}),Object(r.jsxs)(_.a,{button:!0,onClick:function(){a(!0)},children:[Object(r.jsx)(k.a,{children:Object(r.jsx)(Wt.a,{})}),Object(r.jsx)(w.a,{primary:"Import / Export",secondary:"Import or export your game data"})]}),Object(r.jsx)(D.a,{}),Object(r.jsx)(_.a,{onClick:function(){},children:Object(r.jsx)(w.a,{primary:"Idling Engine",secondary:"Version ".concat(Yt.version)})})]})}),n&&Object(r.jsx)(Qt,{onClose:function(){return a(!1)}}),s&&Object(r.jsx)(Kt,{onClose:function(){return l(!1)}})]})},Xt=n(56);var Zt=(Dt={},Object(Xt.a)(Dt,We.name,We),Object(Xt.a)(Dt,ot.name,ot),Object(Xt.a)(Dt,tt.name,tt),Object(Xt.a)(Dt,Me.name,Me),Object(Xt.a)(Dt,dt.name,dt),Dt),en=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1];return function(){return a(!n)}}(),t=F.state.localSettings,n=t.styleDrawerComponentName,a=t.styleDrawerStyleId,i=function(t,n){F.state.localSettings.styleDrawerComponentName=t,F.state.localSettings.styleDrawerStyleId=n,e()},o=null;return n&&(o=ve[n]),o&&o[a]||(a=""),Object(r.jsx)("div",{children:Object(r.jsx)(Rt.a,{open:F.state.localSettings.styleDrawerOpen,onClose:function(){F.state.localSettings.styleDrawerOpen=!1,F.state.localSettings.highlightComponents=F.state.localSettings.previousHighlightComponents,_e(),F.update()},anchor:"right",BackdropProps:{invisible:!0},children:Object(r.jsxs)("div",{style:{padding:"1em"},children:[Object(r.jsx)(Q.a,{variant:"h4",children:"Style Components"}),Object(r.jsx)(fe,{value:n,items:Object.keys(Zt),label:"Component",onChange:function(t){ve[t.target.value]=ve[t.target.value]||{},i(t.target.value,""),e()}}),o&&Object(r.jsxs)(ee.a,{display:"flex",alignItems:"flex-end",children:[Object(r.jsx)(ee.a,{flexGrow:1,children:Object(r.jsx)(fe,{value:a,items:Object.keys(o).map((function(e){return{value:e,name:o[e]._name}})),label:"Styles",onChange:function(e){i(n,"")}})}),Object(r.jsx)(ee.a,{children:Object(r.jsx)(te.a,{onClick:function(e){var t=Object(R.a)();o[t]={_name:"New Style ".concat(Object.keys(o).length+1)},i(n,t)},variant:"contained",children:"Add Style"})})]}),o&&a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke,{config:[{property:"_name",type:ye}].concat(Object(Pe.a)(Zt[n].styleProperties)),properties:o[a],setProp:function(e){var t=Object.assign({},o[a],{customId:Math.random()});e(t),o[a]=t,F.update()}}),Object(r.jsx)(te.a,{onClick:function(e){var t=Object.keys(o),r=t.indexOf(a),c="";delete o[a],r>0?c=t[r-1]:t.length&&(c=t[1]),i(n,c)},variant:"contained",children:"Delete Style"})]})]})})})};function tn(){try{var e=localStorage.gameData;if(e)return(e=JSON.parse(e)).baseStyles&&function(e){for(var t in e){var n=gt[t],a=e[t];n&&a&&(n.baseStyle=Object(j.a)(Object(j.a)({},n.baseStyle),a))}}(e.baseStyles),e.customStyles&&Object.assign(ve,e.customStyles),ht.gameData=e,e;console.warn("No game data loaded")}catch(t){console.error(t)}return ht.gameData={},null}localStorage.localSettings&&(F.state.localSettings=JSON.parse(localStorage.localSettings));var nn=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).update=function(){e.setState({})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){F.update=this.update,Object(A.c)(F.update),ht.gameData||tn(),Object(A.a)()}},{key:"render",value:function(){return Object(r.jsxs)(It.a,{theme:At,children:[Object(r.jsx)(Pt.a,{}),Object(r.jsx)(T.Provider,{value:{state:F.state,update:this.update,editorQuery:F.editorQuery},children:Object(r.jsx)(Ct.a,{basename:"/idling-engine",children:Object(r.jsxs)("div",{children:[Object(r.jsx)($t,{}),Object(r.jsx)(en,{}),Object(r.jsx)(Gt,{}),Object(r.jsxs)(v.d,{children:[Object(r.jsx)(v.b,{path:"/edit",render:function(){return Object(r.jsx)(wt,{})}}),Object(r.jsx)(v.b,{path:"/code",render:function(){return Object(r.jsx)(W,{})}}),Object(r.jsx)(v.b,{path:"/play",render:function(){return Object(r.jsx)(kt,{})}}),Object(r.jsx)(v.b,{path:"/documentation",render:function(){return Object(r.jsx)(X,{})}}),Object(r.jsx)(v.b,{path:"/",children:Object(r.jsx)(v.a,{to:"/edit"})})]})]})})})]})}}]),n}(c.Component);s.a.render(Object(r.jsx)(nn,{}),document.getElementById("root"))}},[[680,1,2]]]);
//# sourceMappingURL=main.ab45d575.chunk.js.map
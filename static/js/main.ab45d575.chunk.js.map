{"version":3,"sources":["data/game.ts","lib/log.ts","lib/context.ts","data/initial/code.ts","views/Code.tsx","views/Documentation/index.tsx","views/Documentation/index-md.ts","components/Settings/CustomRepeatSetting.ts","components/Controls/Dropdown.tsx","components/Settings/DropdownSetting.tsx","components/Settings/StringSetting.tsx","data/customStyles.ts","lib/localSettings.ts","actions/styleDrawer.ts","components/Settings/StyleSetting.tsx","components/Settings/index.tsx","config/useSetupComponent.ts","components/Settings/SwitchSetting.tsx","components/CustomComponents/AppBar/ToolBarTabs.tsx","components/CustomComponents/AppBar/index.tsx","config/useCustomStyle.ts","components/CustomComponents/Button/index.tsx","components/CustomComponents/Button/ButtonSettings.tsx","components/CustomComponents/Text/TextSettings.tsx","components/CustomComponents/Text/index.tsx","components/CustomComponents/Card/index.tsx","lib/checkVisibility.ts","components/CustomComponents/Container/ContainerSettings.tsx","components/CustomComponents/Container/index.tsx","components/CustomComponents/Grid/GridSettings.tsx","components/CustomComponents/Grid/index.tsx","components/CustomComponents/PathContainer/index.tsx","components/CustomComponents/Table/index.tsx","components/CustomComponents/VariableText/VariableTextSettings.tsx","components/CustomComponents/VariableText/index.tsx","components/Toolbox/getToolboxComponents.tsx","components/Toolbox/index.tsx","components/SettingsPanel.tsx","data/data.ts","components/CustomComponents/components.ts","lib/saveGameData.ts","views/Edit/AutoSave.tsx","lib/components.ts","styles/shared.ts","views/Edit/index.tsx","views/Play.tsx","components/Header.tsx","config/theme.ts","components/OptionsDrawer/ImportExportDialog.tsx","components/OptionsDrawer/ConfirmResetDialog.tsx","components/OptionsDrawer/index.tsx","components/StyleDrawer.tsx","config/useUpdate.ts","lib/loadGameData.ts","App.tsx","index.tsx"],"names":["setUpdateUIFunction","fn","game","update","settings","tickInterval","data","actions","conditionals","dataSources","visibilitySources","configure","console","log","isInitialized","isGameDataInitialized","_initialize","_initializeGameData","this","tick","currentTimeout","setTimeout","err","error","executeCode","files","localStorage","gameCode","JSON","parse","finalCode","file","code","lines","split","numberWidth","Math","floor","length","map","line","index","toString","padEnd","join","clearTimeout","eval","initialize","initializeGameData","message","window","LogLevels","DEBUG","INFO","WARN","ERROR","c","co","logLevels","logLevel","debug","args","info","warn","store","state","localSettings","highlightComponents","previousHighlightComponents","styleDrawerOpen","styleDrawerComponentName","styleDrawerStyleId","optionsDrawerOpen","editorQuery","Context","React","createContext","initialCode","Code","history","useHistory","useState","updateValue","deletingFiles","setDeletingFiles","selectedFiles","setSelectedFiles","save","stringify","addFile","name","push","id","uuid","useContext","useEffect","interval","setInterval","clearInterval","Grid","container","style","position","top","bottom","width","item","sm","List","dense","overflowY","selected","location","pathname","includes","ListItem","cursor","onClick","newSelectedFiles","handleFileClick","Input","value","onChange","event","target","ListItemText","primary","ListItemIcon","Divider","button","filter","checked","background","path","render","mode","theme","editorProps","$blockScrolling","height","fontSize","tabSize","commands","beautify","focus","to","useStyles","makeStyles","paper","padding","Documentation","classes","Paper","className","Breadcrumbs","aria-label","Link","color","href","Typography","plugins","children","CustomRepeatSetting","component","items","Dropdown","label","itemElements","MenuItem","labelElement","InputLabel","shrink","FormControl","fullWidth","Select","DropdownSetting","property","itemsFn","setProp","props","IconButton","StringSetting","TextField","customStyles","saveLocalSettings","openStyleDrawer","options","componentName","styleId","StyleSetting","Object","keys","Box","display","alignItems","flexGrow","_name","variant","Settings","config","properties","settingsRows","Error","configItem","remainingProps","TableRow","TableCell","scope","type","TableContainer","size","TableBody","useSharedStyles","componentEditing","boxShadow","minHeight","minWidth","componentSelected","componentClass","editing","sharedClasses","additonalClasses","useSetupComponent","additionalClasses","useNode","events","connectors","connect","drag","useEditor","enabled","componentClassName","refFn","ref","SwitchSetting","Switch","ToolBarTabs","tabs","defaultTab","tab","default","match","parseInt","getCurrentTab","currentTabIndex","Tabs","visibilitySource","root","spacer","fullHeight","mixins","toolbar","AppBar","Toolbar","craft","related","node","triggerUpdate","setDefault","callback","useCustomStyle","base","styleGroup","customStyleName","setStyle","customStyle","customId","Button","text","onClickAction","actionContext","baseStyle","action","margin","styleProperties","Text","rules","canDrag","CardTop","CardContent","CardBottom","CardActions","canMoveIn","incomingNode","Card","is","canvas","checkVisibility","extraStyle","opacity","Container","sizes","GridContainer","spacing","GridItem","xs","main","PathContainer","visible","float","TableRows","columnNames","rows","currentContext","column","itemIndex","cells","itemProperty","Table","itemSource","headerRow","itemSourceFunction","TableHead","ColumnSetting","marginBottom","updateVariable","updateVarible","VariableText","dataProperty","subProperty","undefined","getToolboxComponents","create","Toolbox","selectedComponent","setSelectedComponent","px","py","direction","justify","pb","selectNode","propertyConfigDefinitions","BaseProperties","definition","mt","Chip","newProps","assign","SettingsPanel","query","currentNodeId","nodes","isDeletable","createElement","delete","gameData","components","allComponents","saveGameData","baseStyles","random","layout","serialize","AutoSave","baseComponents","gameArea","Content","Edit","resolver","Play","Header","navigate","createMuiTheme","palette","blueGrey","secondary","ImportExportDialog","onClose","currentAllGameData","btoa","allGameData","setAllGameData","Dialog","open","DialogTitle","DialogContent","DialogContentText","multiline","DialogActions","atob","reload","ConfirmResetDialog","OptionsDrawer","showImportExprt","setShowImportExport","showConfirmReset","setShowConfirmReset","Drawer","packageJson","version","supportedComponents","StyleDrawer","useUpdate","selectedStyle","updateSettings","anchor","BackdropProps","invisible","styleIds","indexOf","nextStyle","loadGameData","storedGameData","loadComponentProperties","App","setState","ThemeProvider","CssBaseline","Provider","basename","Component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ab45d575.chunk.js","sourcesContent":["interface AnyObject {\n  [key: string]: any;\n}\n\nexport function setUpdateUIFunction(fn: any) {\n  game.update = fn;\n}\n\nexport const game = {\n  // Settings\n  settings: {\n    tickInterval: 1000,\n  },\n\n  // Data\n  data: {} as AnyObject,\n\n  // Actions\n  actions: {} as AnyObject,\n\n  // Conditionals\n  conditionals: {} as AnyObject,\n\n  // Data sources\n  dataSources: {} as AnyObject,\n\n  // Visibility sources\n  visibilitySources: {} as AnyObject,\n\n  // Configure\n  configure: (settings: AnyObject) => {\n    console.log(\"game.configure not defined\");\n  },\n\n  // Initialize\n  isInitialized: false,\n  isGameDataInitialized: false,\n\n  _initialize: () => {\n    console.log(\"game.initialize not defined\");\n  },\n\n  _initializeGameData: () => {\n    console.log(\"game.initializeGameData not defined\");\n  },\n\n  get initialize() {\n    return this._initialize;\n  },\n\n  set initialize(fn) {\n    this._initialize = () => {\n      console.log(\"Initializing Game\");\n      this.isInitialized = true;\n      fn();\n    };\n  },\n\n  get initializeGameData() {\n    return this._initializeGameData;\n  },\n\n  set initializeGameData(fn) {\n    this._initializeGameData = () => {\n      console.log(\"Initializing Game Data\");\n      this.isGameDataInitialized = true;\n      fn();\n    };\n  },\n\n  // Tick\n  tick: () => {\n    console.log(\"game.tick not defined\");\n  },\n\n  // Update\n  update: () => {\n    console.log(\"game.update not defined\");\n  },\n};\n\nlet currentTimeout: any = null;\n\n// Tick\nfunction tick() {\n  currentTimeout = setTimeout(() => {\n    try {\n      game.tick();\n    } catch (err) {\n      console.error(err);\n    }\n    tick();\n  }, game.settings.tickInterval);\n}\n\nexport function executeCode() {\n  const files: any = localStorage.gameCode\n    ? JSON.parse(localStorage.gameCode)\n    : [];\n\n  let finalCode = \"\";\n  for (const file of files) {\n    finalCode += file.code + \"\\n\\n\";\n  }\n\n  const lines = finalCode.split(\"\\n\");\n  const numberWidth = Math.floor(Math.log(lines.length));\n\n  console.log(\n    lines\n      .map((line, index) => {\n        const numberedLine = `${(index + 1)\n          .toString()\n          .padEnd(numberWidth)} ${line}`;\n        return numberedLine;\n      })\n      .join(\"\\n\")\n  );\n\n  try {\n    // Stop anything currently executing\n    if (currentTimeout) {\n      clearTimeout(currentTimeout);\n    }\n\n    // eslint-disable-next-line no-eval\n    eval(finalCode);\n\n    if (!game.isInitialized) {\n      game.initialize();\n    }\n\n    if (!game.isGameDataInitialized) {\n      game.initializeGameData();\n    }\n\n    game.configure(game.settings);\n\n    tick();\n  } catch (err) {\n    err.message = \"GAME SCRIPT ERROR: \" + err.message;\n    console.error(err);\n  }\n}\n\n(window as any).game = game;\n","// Mutate console for better logging\n\nconst LogLevels = {\n  DEBUG: 1,\n  INFO: 2,\n  WARN: 3,\n  ERROR: 4,\n};\n\nconst c = console as any;\nconst co = { ...console };\n\nc.logLevels = LogLevels;\nc.logLevel = LogLevels.DEBUG;\n\nc.debug = (...args: any) => {\n  if (c.logLevel <= LogLevels.DEBUG) {\n    co.debug(\"DEBUG\", ...args);\n  }\n};\n\nc.info = (...args: any) => {\n  if (c.logLevel <= LogLevels.INFO) {\n    co.info(\"INFO\", ...args);\n  }\n};\n\nc.warn = (...args: any) => {\n  if (c.logLevel <= LogLevels.WARN) {\n    co.warn(\"WARN\", ...args);\n  }\n};\n\nc.error = (...args: any) => {\n  if (c.logLevel <= LogLevels.ERROR) {\n    co.error(\"ERROR\", ...args);\n  }\n};\n\nexport default console;\n","import React from \"react\";\n\nexport const store = {\n  state: {\n    localSettings: {\n      highlightComponents: true,\n      previousHighlightComponents: true,\n      styleDrawerOpen: false,\n      styleDrawerComponentName: \"\",\n      styleDrawerStyleId: \"\",\n    },\n    optionsDrawerOpen: false,\n  },\n  editorQuery: null as any,\n  update: () => {\n    console.log(\"Update function not defined\");\n  },\n};\n\nexport const Context = React.createContext(store);\n\n(window as any).store = store;\n","const main = `\n\n// You may wish to move each of the following to its own file\n\ngame.configure = (settings) => {\n  // Update any game settings here\n  // settings.tickInterval = 5000\n}\n\ngame.initialize = () => {\n  // Code executed when the application starts up\n}\n\ngame.initializeGameData = () => {\n  // Update any initial game data here\n  game.data = new GameData()\n}\n\ngame.tick = () => {\n  // The main function to handle game logic\n};\n\n// Define actions using game.actions ...\n// Define conditionals using game.conditionals ...\n`;\n\nconst gameData = `\n\nclass GameData {\n  constructor() {\n    // Define game properties here\n  }\n\n  // Can use getters as well for use with variableText\n}\n`;\n\nexport const initialCode = {\n  main,\n  gameData,\n};\n","import AceEditor from \"react-ace\";\nimport \"ace-builds/webpack-resolver\";\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport beautify from \"ace-builds/src-noconflict/ext-beautify\";\n\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport {\n  Divider,\n  Grid,\n  Input,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Switch as MUISwitch,\n} from \"@material-ui/core\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { Context } from \"../lib/context\";\nimport { executeCode } from \"../data/game\";\nimport { v4 as uuid } from \"uuid\";\nimport { initialCode } from \"../data/initial/code\";\n\nlet files: any = localStorage.gameCode ? JSON.parse(localStorage.gameCode) : [];\n\nexport function Code() {\n  const history = useHistory();\n  const [updateValue, update] = useState(false);\n  const [deletingFiles, setDeletingFiles] = useState(false);\n  const [selectedFiles, setSelectedFiles]: [any, any] = useState({});\n  useContext(Context);\n\n  function save() {\n    localStorage.gameCode = JSON.stringify(files);\n  }\n\n  function handleFileClick(id: string, index: number) {\n    if (deletingFiles) {\n      const newSelectedFiles = { ...selectedFiles };\n      newSelectedFiles[index] = !newSelectedFiles[index];\n      setSelectedFiles(newSelectedFiles);\n      // update(!updateValue);\n    } else {\n      history.push(`/code/${id}`);\n    }\n  }\n\n  function deleteFiles() {\n    files = files.filter((item: any, index: number) => {\n      return !selectedFiles[index];\n    });\n\n    setSelectedFiles({});\n  }\n\n  function addFile(name: string, code: string) {\n    files.push({\n      id: uuid(),\n      name,\n      code,\n    });\n  }\n\n  // Did mount / unmount\n  useEffect(() => {\n    const interval = setInterval(() => {\n      save();\n    }, 1000);\n\n    return () => {\n      // Update the code when navigating away\n      clearInterval(interval);\n      save();\n      executeCode();\n    };\n  }, []);\n\n  if (files.length === 0) {\n    addFile(\"main\", \"//main\\n\" + initialCode.main);\n    addFile(\"gameData\", \"//gameData\\n\" + initialCode.gameData);\n  }\n\n  return (\n    <Grid\n      container\n      style={{\n        position: \"absolute\",\n        top: \"37px\",\n        bottom: \"0px\",\n        width: \"100%\",\n      }}\n    >\n      <Grid item sm={2} style={{ position: \"relative\" }}>\n        <List\n          dense={true}\n          style={{\n            overflowY: \"auto\",\n            position: \"absolute\",\n            width: \"100%\",\n            top: \"0px\",\n            bottom: \"0px\",\n          }}\n        >\n          {files.map((file: any, index: number) => {\n            const selected = history.location.pathname.includes(file.id);\n\n            return (\n              <ListItem\n                key={file.id}\n                style={{ cursor: \"pointer\" }}\n                selected={selected}\n                onClick={() => {\n                  handleFileClick(file.id, index);\n                }}\n              >\n                {selected ? (\n                  <Input\n                    value={file.name}\n                    onChange={(event) => {\n                      file.name = event.target.value;\n                      update(!updateValue);\n                    }}\n                  />\n                ) : (\n                  <ListItemText primary={file.name} />\n                )}\n                {deletingFiles && (\n                  <ListItemIcon>\n                    {selectedFiles[index] ? (\n                      <CheckBoxIcon />\n                    ) : (\n                      <CheckBoxOutlineBlankIcon />\n                    )}\n                  </ListItemIcon>\n                )}\n              </ListItem>\n            );\n          })}\n          <Divider />\n          <ListItem\n            button\n            onClick={() => {\n              const name = `New File ${files.length}`;\n\n              addFile(name, `//${name}`);\n\n              update(!updateValue);\n            }}\n          >\n            <ListItemText primary=\"+ New File\" />\n          </ListItem>\n          <Divider />\n          <ListItem>\n            <ListItemText primary=\"Delete Files\" />\n            <MUISwitch\n              onChange={(event) => {\n                if (deletingFiles) {\n                  deleteFiles();\n                }\n\n                setDeletingFiles(event.target.checked);\n              }}\n              checked={deletingFiles}\n            />\n          </ListItem>\n          <ListItem>\n            <ListItemText primary=\"ctrl+shift+b - beautify\" />\n          </ListItem>\n        </List>\n      </Grid>\n      <Grid item sm={10} style={{ background: \"red\", position: \"relative\" }}>\n        <Switch>\n          {files.map((file: any) => {\n            return (\n              <Route\n                key={file.id}\n                path={`/code/${file.id}`}\n                render={() => {\n                  return (\n                    <div\n                      style={{\n                        position: \"absolute\",\n                        width: \"100%\",\n                        top: \"0px\",\n                        bottom: \"0px\",\n                      }}\n                    >\n                      <AceEditor\n                        mode=\"javascript\"\n                        theme=\"monokai\"\n                        onChange={(code: string) => {\n                          file.code = code;\n                        }}\n                        name=\"Code Editor\"\n                        editorProps={{ $blockScrolling: true }}\n                        style={{\n                          width: \"100%\",\n                          height: \"100%\",\n                          fontSize: \"1.1em\",\n                        }}\n                        value={file.code}\n                        tabSize={2}\n                        commands={beautify.commands}\n                        focus\n                      />\n                    </div>\n                  );\n                }}\n              />\n            );\n          })}\n          <Route path=\"/code\">\n            <Redirect to={`/code/${files[0].id}`} />\n          </Route>\n        </Switch>\n      </Grid>\n    </Grid>\n  );\n}\n","import {\n  Breadcrumbs,\n  Container,\n  Link,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport ReactMarkdown from \"react-markdown\";\nimport index from \"./index-md\";\n\nconst useStyles = makeStyles(() => ({\n  paper: {\n    padding: \"1em\",\n  },\n}));\n\nexport function Documentation() {\n  const classes = useStyles();\n\n  return (\n    <Container>\n      <Paper className={classes.paper}>\n        <Breadcrumbs aria-label=\"breadcrumb\">\n          <Link color=\"inherit\" href=\"/\">\n            Material-UI\n          </Link>\n          <Link color=\"inherit\" href=\"/getting-started/installation/\">\n            Core\n          </Link>\n          <Typography color=\"textPrimary\">Breadcrumb</Typography>\n        </Breadcrumbs>\n        <ReactMarkdown plugins={[]} children={index} />\n      </Paper>\n    </Container>\n  );\n}\n","const md = `\n# Idling Engine\n`;\n\nexport default md;\n","export const CustomRepeatSetting = ({ component, items }: any) => {\n  return items.map((item: any, index: number) => {\n    return component(item, index);\n  });\n};\n","import { FormControl, InputLabel, MenuItem, Select } from \"@material-ui/core\";\n\nexport const Dropdown = ({ value, items, label, onChange }: any) => {\n  const itemElements = [];\n\n  for (const item of items) {\n    let name = \"\";\n    let value = null;\n\n    if (typeof item === \"string\") {\n      name = item;\n      value = item;\n    } else {\n      name = item.name;\n      value = item.value;\n    }\n\n    itemElements.push(\n      <MenuItem key={name} value={value}>\n        {name}\n      </MenuItem>\n    );\n  }\n\n  let labelElement = null;\n  if (label) {\n    labelElement = <InputLabel shrink>{label}</InputLabel>;\n  }\n\n  return (\n    <FormControl fullWidth>\n      {labelElement}\n      <Select value={value || \"\"} onChange={onChange}>\n        {itemElements}\n      </Select>\n    </FormControl>\n  );\n};\n","import { IconButton } from \"@material-ui/core\";\nimport { Dropdown } from \"../Controls/Dropdown\";\nimport SettingsBackupRestoreIcon from \"@material-ui/icons/SettingsBackupRestore\";\n\ninterface Props {\n  property: any;\n  value: any;\n  itemsFn: () => { name: string; value: any }[];\n  setProp: any;\n}\n\nexport const DropdownSetting = ({\n  property,\n  value,\n  itemsFn,\n  setProp,\n}: Props) => {\n  return (\n    <>\n      <Dropdown\n        value={value || \"\"}\n        items={itemsFn()}\n        onChange={(event: any) => {\n          setProp((props: any) => (props[property] = event.target.value));\n        }}\n      />\n      <IconButton\n        onClick={() => {\n          setProp((props: any) => (props[property] = null));\n        }}\n      >\n        <SettingsBackupRestoreIcon />\n      </IconButton>\n    </>\n  );\n};\n","import { TextField } from \"@material-ui/core\";\n\nexport const StringSetting = ({ property, value, setProp }: any) => {\n  return (\n    <TextField\n      fullWidth\n      value={value || \"\"}\n      onChange={(event: any) => {\n        setProp((props: any) => {\n          props[property] = event.target.value;\n        });\n      }}\n    />\n  );\n};\n","export const customStyles: {\n  [key: string]: any;\n} = {};\n","import { store } from \"./context\";\n\nexport function loadLocalSettings() {\n  if (localStorage.localSettings) {\n    store.state.localSettings = JSON.parse(localStorage.localSettings);\n  }\n}\n\nexport function saveLocalSettings() {\n  localStorage.localSettings = JSON.stringify(store.state.localSettings);\n}\n","import { customStyles } from \"../data/customStyles\";\nimport { store } from \"../lib/context\";\nimport { saveLocalSettings } from \"../lib/localSettings\";\n\nexport function openStyleDrawer(options: any = {}) {\n  store.state.localSettings.styleDrawerOpen = true;\n  store.state.localSettings.previousHighlightComponents =\n    store.state.localSettings.highlightComponents;\n  store.state.localSettings.highlightComponents = false;\n\n  if (options.componentName) {\n    store.state.localSettings.styleDrawerComponentName = options.componentName;\n    store.state.localSettings.styleDrawerStyleId = options.styleId || \"\";\n\n    customStyles[options.componentName] =\n      customStyles[options.componentName] || {};\n  }\n\n  saveLocalSettings();\n\n  store.update();\n}\n\nexport function closeStyleDrawer() {\n  store.state.localSettings.styleDrawerOpen = false;\n  store.state.localSettings.highlightComponents =\n    store.state.localSettings.previousHighlightComponents;\n\n  saveLocalSettings();\n\n  store.update();\n}\n","import { Box, Button, IconButton } from \"@material-ui/core\";\nimport { customStyles } from \"../../data/customStyles\";\nimport { Dropdown } from \"../Controls/Dropdown\";\nimport SettingsBackupRestoreIcon from \"@material-ui/icons/SettingsBackupRestore\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { openStyleDrawer } from \"../../actions/styleDrawer\";\n\ninterface Props {\n  property: any;\n  value: any;\n  componentName: string;\n  setProp: any;\n}\n\nexport const StyleSetting = ({\n  property,\n  value,\n  componentName,\n  setProp,\n}: Props) => {\n  if (\n    !customStyles[componentName] ||\n    Object.keys(customStyles[componentName]).length === 0\n  ) {\n    return (\n      <Button\n        variant=\"contained\"\n        onClick={() => {\n          openStyleDrawer({\n            componentName,\n          });\n        }}\n      >\n        Define a Style\n      </Button>\n    );\n  }\n\n  return (\n    <Box display=\"flex\" alignItems=\"flex-end\">\n      <Box flexGrow={1}>\n        <Dropdown\n          value={value || \"\"}\n          items={Object.keys(customStyles[componentName]).map((id) => ({\n            value: id,\n            name: customStyles[componentName][id]._name,\n          }))}\n          onChange={(event: any) => {\n            setProp((props: any) => (props[property] = event.target.value));\n          }}\n        />\n      </Box>\n      <Box>\n        <IconButton\n          onClick={() => {\n            setProp((props: any) => (props[property] = null));\n          }}\n        >\n          <SettingsBackupRestoreIcon />\n        </IconButton>\n        <IconButton\n          onClick={() => {\n            openStyleDrawer({\n              componentName,\n              styleId: value,\n            });\n          }}\n        >\n          <EditIcon />\n        </IconButton>\n      </Box>\n    </Box>\n  );\n};\n","import {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n} from \"@material-ui/core\";\n\nexport { CustomRepeatSetting } from \"./CustomRepeatSetting\";\nexport { DropdownSetting } from \"./DropdownSetting\";\nexport { SliderSetting } from \"./SliderSetting\";\nexport { StringSetting } from \"./StringSetting\";\nexport { StyleSetting } from \"./StyleSetting\";\n\nexport const Settings = ({ config, properties, setProp }: any) => {\n  const settingsRows = [];\n\n  if (!properties) {\n    console.error(config, new Error());\n    return null;\n  }\n\n  for (const configItem of config) {\n    const { property, ...remainingProps } = configItem;\n    const value = properties[property];\n\n    settingsRows.push(\n      <TableRow key={property}>\n        <TableCell component=\"td\" scope=\"row\">\n          {property}\n        </TableCell>\n        <TableCell>\n          <configItem.type\n            property={property}\n            value={value}\n            setProp={setProp}\n            {...remainingProps}\n          />\n        </TableCell>\n      </TableRow>\n    );\n  }\n\n  return (\n    <TableContainer>\n      <Table size=\"small\">\n        <TableBody>{settingsRows}</TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n","import { useEditor, useNode } from \"@craftjs/core\";\nimport { makeStyles, Theme } from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport { Context, store } from \"../lib/context\";\n\nexport const useSharedStyles = makeStyles((theme: Theme) => ({\n  componentEditing: {\n    boxShadow: \"inset 0em 0em 0em 2px rgba(255, 50, 50, 1)\",\n    minHeight: \"5px\",\n    minWidth: \"5px\",\n    padding: \"10px!important\",\n  },\n  componentSelected: {\n    boxShadow: \"inset 0em 0em 0em 2px green\",\n  },\n}));\n\nfunction componentClass(\n  editing: boolean,\n  selected: boolean,\n  sharedClasses: any,\n  additonalClasses: string[] = []\n) {\n  return [\n    ...additonalClasses,\n    editing && store.state.localSettings.highlightComponents\n      ? sharedClasses.componentEditing\n      : \"\",\n    selected ? sharedClasses.componentSelected : \"\",\n  ].join(\" \");\n}\n\ntype Properties = {\n  additionalClasses?: string[];\n};\n\nexport function useSetupComponent(properties: Properties = {}) {\n  const { additionalClasses = [] } = properties;\n\n  const store = useContext(Context);\n\n  const {\n    connectors: { connect, drag },\n    selected,\n  } = useNode((state: any) => ({\n    selected: state.events.selected,\n  }));\n\n  const { enabled } = useEditor((state: any) => ({\n    enabled: state.options.enabled,\n  }));\n\n  const sharedClasses = useSharedStyles();\n  const componentClassName = componentClass(\n    enabled,\n    selected,\n    sharedClasses,\n    additionalClasses\n  );\n\n  const refFn = (ref: any) => connect(drag(ref));\n\n  return {\n    refFn,\n    // connect,\n    // drag,\n    selected,\n    enabled,\n    // sharedClasses,\n    componentClassName,\n    store,\n  };\n}\n","import { Switch } from \"@material-ui/core\";\n\nexport const SwitchSetting = ({ property, value, onChange }: any) => {\n  return <Switch checked={value || false} onChange={onChange} />;\n};\n","import { useNode } from \"@craftjs/core\";\nimport { Tab as MUITab, Tabs } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { game } from \"../../../data/game\";\n\ninterface Tab {\n  name: string;\n  default?: boolean;\n  path: RegExp;\n  to: string;\n  visibilitySource: string;\n}\n\ninterface Props {\n  path: string;\n  tabs: Tab[];\n  className?: string;\n}\n\nfunction getCurrentTab(path: string, tabs: Tab[]): [number, Tab | null] {\n  let defaultTab = null;\n\n  for (const index in tabs) {\n    const tab = tabs[index];\n\n    if (tab.default) {\n      defaultTab = tab;\n    }\n\n    if (path.match(tab.path)) {\n      return [parseInt(index), tab];\n    }\n  }\n\n  // Redirect at this point;\n  if (defaultTab) {\n    return [-1, defaultTab];\n  }\n\n  return [-1, null];\n}\n\nexport function ToolBarTabs({ path, tabs, className }: Props) {\n  const {\n    connectors: { connect },\n  } = useNode();\n  const history = useHistory();\n\n  const [currentTabIndex, tab] = getCurrentTab(path, tabs);\n\n  if (currentTabIndex === -1) {\n    if (tab) {\n      history.push(tab.to);\n    }\n\n    return null;\n  }\n\n  return (\n    <Tabs\n      ref={connect}\n      value={currentTabIndex}\n      onChange={(event, value) => {\n        const tab = tabs[value];\n        history.push(tab.to);\n      }}\n      className={className}\n    >\n      {tabs.map((tab: Tab) => {\n        if (tab.visibilitySource) {\n          if (!game.visibilitySources[tab.visibilitySource]()) {\n            return null;\n          }\n        }\n\n        return <MUITab key={tab.name} label={tab.name} className={className} />;\n      })}\n    </Tabs>\n  );\n}\n","import { useNode } from \"@craftjs/core\";\nimport {\n  AppBar as MUIAppBar,\n  Button,\n  makeStyles,\n  Theme,\n  Toolbar,\n} from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { game } from \"../../../data/game\";\nimport { DropdownSetting, Settings, StringSetting } from \"../../Settings\";\nimport { SwitchSetting } from \"../../Settings/SwitchSetting\";\nimport { ToolBarTabs } from \"./ToolBarTabs\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n  fullHeight: {\n    ...theme.mixins.toolbar,\n  },\n}));\n\nexport function AppBar({ tabs }: any) {\n  const classes = useStyles();\n  const { refFn, componentClassName, store } = useSetupComponent({\n    additionalClasses: [classes.root],\n  });\n\n  const history = useHistory();\n\n  const [updateValue, update] = useState(true);\n\n  return (\n    <div\n      ref={refFn}\n      className={classes.root}\n      onClick={() => {\n        setTimeout(() => {\n          update(!updateValue);\n          store.update();\n        });\n      }}\n    >\n      <MUIAppBar position=\"static\" className={componentClassName}>\n        <Toolbar>\n          <ToolBarTabs\n            path={history.location.pathname}\n            tabs={tabs}\n            className={classes.fullHeight}\n          />\n          <div className={classes.spacer}></div>\n        </Toolbar>\n      </MUIAppBar>\n    </div>\n  );\n}\n\nconst AppBarSettings = () => {\n  const {\n    actions: { setProp },\n    triggerUpdate,\n    tabs,\n  } = useNode((node) => ({\n    props: node.data.props,\n    triggerUpdate: !!node.data.props.triggerUpdate,\n    tabs: node.data.props.tabs,\n  }));\n\n  const setDefault = (defaultTab: any) => {\n    for (const tab of tabs) {\n      tab.default = false;\n    }\n\n    defaultTab.default = true;\n\n    return setProp((props: any) => {\n      props.triggerUpdate = !triggerUpdate;\n    });\n  };\n\n  const visibilitySources = Object.keys(game.visibilitySources);\n\n  return (\n    <div>\n      {tabs.map((tab: any, index: number) => {\n        return (\n          <Settings\n            config={[\n              {\n                type: StringSetting,\n                property: \"name\",\n              },\n              {\n                type: StringSetting,\n                property: \"path\",\n              },\n              {\n                type: StringSetting,\n                property: \"to\",\n              },\n              {\n                type: DropdownSetting,\n                property: \"visibilitySource\",\n                itemsFn: () => visibilitySources,\n              },\n              {\n                type: SwitchSetting,\n                property: \"default\",\n                onChange: () => setDefault(tab),\n              },\n            ]}\n            properties={tab}\n            setProp={(callback: any) => {\n              // Custom set prop function\n              // Call the callback with the tab as the \"props\" we want to update\n              callback(tab);\n\n              // Then call the actual setProp to trigger the update\n              setProp((props: any) => {\n                props.triggerUpdate = !triggerUpdate;\n              });\n            }}\n          />\n        );\n\n        // return (\n        //   <div key={index}>\n        //     <TextField\n        //       label=\"Name\"\n        //       value={tab.name}\n        //       onChange={(event) => updateTab(tab, \"name\", event.target.value)}\n        //     />\n        //     <TextField\n        //       label=\"Path\"\n        //       value={tab.path}\n        //       onChange={(event) => updateTab(tab, \"path\", event.target.value)}\n        //     />\n        //     <TextField\n        //       label=\"To\"\n        //       value={tab.to}\n        //       onChange={(event) => updateTab(tab, \"to\", event.target.value)}\n        //     />\n        //     <Switch\n        //       checked={tab.default || false}\n        //       onChange={() => setDefault(tab)}\n        //     />\n        //   </div>\n        // );\n      })}\n      <Button\n        onClick={() => {\n          tabs.push({ name: \"New Tab\", path: \"\", to: \"\" });\n          return setProp((props) => (props.triggerUpdate = !triggerUpdate));\n        }}\n      >\n        Add Tab\n      </Button>\n    </div>\n  );\n};\n\nAppBar.craft = {\n  props: {\n    tabs: [\n      {\n        name: \"Tab 1\",\n        path: \"tab1\",\n        to: `/tab1`,\n        default: true,\n      },\n      {\n        name: \"Tab 2\",\n        path: \"tab2\",\n        to: `/tab2`,\n      },\n      {\n        name: \"Tab 3\",\n        path: \"tab3\",\n        to: `/tab3`,\n      },\n    ],\n  },\n  related: {\n    settings: AppBarSettings,\n  },\n};\n","import { useState } from \"react\";\n\nexport function useCustomStyle(\n  base: any,\n  styleGroup: any,\n  customStyleName: string\n) {\n  const [style, setStyle] = useState(null as any);\n\n  let customStyle = null;\n  if (customStyleName) {\n    customStyle = styleGroup[customStyleName];\n  }\n\n  // console.log(\n  //   \"style && customStyle.customId !== style.customId\",\n  //   style && customStyle.customId !== style.customId\n  // );\n  // console.log(customStyle);\n\n  // Already have a style and the customId is different\n  // Don't have a style and we have a custom style\n  if (\n    (style && customStyle && customStyle.customId !== style.customId) ||\n    (!style && customStyle)\n  ) {\n    setStyle({\n      ...base,\n      ...customStyle,\n    });\n  }\n\n  // If the customStyle is reset\n  if (style && !customStyle) {\n    setStyle(null);\n  }\n\n  // Return the base style if nothing else\n  return style || base;\n}\n","import { Button as MaterialButton } from \"@material-ui/core\";\nimport { store } from \"../../../lib/context\";\nimport { game } from \"../../../data/game\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { ButtonSettings } from \"./ButtonSettings\";\nimport { useCustomStyle } from \"../../../config/useCustomStyle\";\nimport { customStyles } from \"../../../data/customStyles\";\nimport { StringSetting } from \"../../Settings\";\n\nexport const Button = ({\n  size,\n  variant,\n  color,\n  text,\n  onClickAction,\n  actionContext,\n  customStyleName,\n}: any) => {\n  const { refFn, componentClassName } = useSetupComponent();\n\n  const style = useCustomStyle(\n    Button.baseStyle,\n    customStyles.Button,\n    customStyleName\n  );\n\n  return (\n    <MaterialButton\n      style={style}\n      ref={refFn}\n      className={componentClassName}\n      size={size}\n      variant={variant}\n      color={color}\n      onClick={() => {\n        const action = game.actions[onClickAction];\n\n        if (action) {\n          action(actionContext);\n          store.update();\n        }\n      }}\n    >\n      {text}\n    </MaterialButton>\n  );\n};\n\nButton.craft = {\n  props: {\n    size: \"small\",\n    variant: \"contained\",\n    color: \"primary\",\n    text: \"Button\",\n  },\n  related: {\n    settings: ButtonSettings,\n  },\n};\n\nButton.baseStyle = {\n  margin: \"0em\",\n};\n\nButton.styleProperties = [\n  {\n    property: \"padding\",\n    type: StringSetting,\n  },\n];\n","import { useNode } from \"@craftjs/core\";\nimport { Settings, StyleSetting } from \"../../Settings\";\nimport { StringSetting } from \"../../Settings\";\nimport { game } from \"../../../data/game\";\nimport { DropdownSetting } from \"../../Settings/DropdownSetting\";\n\nexport const ButtonSettings = () => {\n  const {\n    actions: { setProp },\n    componentName,\n    props,\n  } = useNode((node) => ({\n    componentName: node.data.name,\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: StyleSetting,\n          property: \"customStyleName\",\n          componentName,\n        },\n        {\n          type: DropdownSetting,\n          property: \"onClickAction\",\n          itemsFn: () => Object.keys(game.actions),\n        },\n        {\n          type: StringSetting,\n          property: \"text\",\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n","import { useNode } from \"@craftjs/core\";\nimport { Settings, StringSetting, StyleSetting } from \"../../Settings\";\n\nexport const TextSettings = () => {\n  const {\n    actions: { setProp },\n    componentName,\n    props,\n  } = useNode((node) => ({\n    componentName: node.data.name,\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: StyleSetting,\n          property: \"customStyleName\",\n          componentName,\n        },\n        {\n          type: StringSetting,\n          property: \"text\",\n          componentName,\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n","import { useCustomStyle } from \"../../../config/useCustomStyle\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { customStyles } from \"../../../data/customStyles\";\nimport { TextSettings } from \"./TextSettings\";\nimport { StringSetting } from \"../../Settings\";\n\nexport const Text = ({ text, customStyleName }: any) => {\n  const { refFn, componentClassName } = useSetupComponent();\n\n  const style = useCustomStyle(\n    Text.baseStyle,\n    customStyles.Text,\n    customStyleName\n  );\n\n  return (\n    <span ref={refFn} className={componentClassName} style={style}>\n      {text}\n    </span>\n  );\n};\n\nText.craft = {\n  props: {\n    text: \"Text\",\n  },\n  rules: {\n    canDrag: (node: any) => true,\n  },\n  related: {\n    settings: TextSettings,\n  },\n};\n\nText.baseStyle = {\n  margin: \"0em\",\n};\n\nText.styleProperties = [\n  {\n    property: \"fontSize\",\n    type: StringSetting,\n  },\n];\n","import { Text } from \"../Text\";\nimport { Button } from \"../Button\";\nimport { Element, useNode } from \"@craftjs/core\";\nimport { Card as MUICard, CardActions, CardContent } from \"@material-ui/core\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\n\nexport const CardTop = ({ children }: any) => {\n  const {\n    connectors: { connect },\n  } = useNode();\n\n  return (\n    <CardContent ref={connect} className=\"text-only\">\n      {children}\n    </CardContent>\n  );\n};\n\nCardTop.craft = {\n  rules: {\n    // Only accept Text\n    // canMoveIn: (incomingNode: any) => incomingNode.data.type === Text,\n  },\n};\n\nexport const CardBottom = ({ children }: any) => {\n  const {\n    connectors: { connect },\n  } = useNode();\n\n  return <CardActions ref={connect}>{children}</CardActions>;\n};\n\nCardBottom.craft = {\n  rules: {\n    // Only accept Buttons\n    canMoveIn: (incomingNode: any) => incomingNode.data.type === Button,\n  },\n};\n\nexport const Card = () => {\n  const { refFn, componentClassName } = useSetupComponent();\n\n  return (\n    <MUICard ref={refFn} className={componentClassName}>\n      <Element id=\"text\" is={CardTop} canvas>\n        <Text text=\"Title\" fontSize={20} />\n        <Text text=\"Subtitle\" fontSize={15} />\n      </Element>\n      <Element id=\"buttons\" is={CardBottom} canvas>\n        <Button size=\"small\" text=\"Learn more\" variant=\"outlined\">\n          Hi!\n        </Button>\n      </Element>\n    </MUICard>\n  );\n};\n","import { game } from \"../data/game\";\n\nexport function checkVisibility(visibilitySource: string, enabled: boolean) {\n  if (!visibilitySource) {\n    return {};\n  }\n\n  const extraStyle: any = {};\n\n  if (\n    game.visibilitySources[visibilitySource] &&\n    !game.visibilitySources[visibilitySource]()\n  ) {\n    if (enabled) {\n      extraStyle.opacity = \"0.25\";\n    } else {\n      return null;\n    }\n  }\n\n  return extraStyle;\n}\n","import { useNode } from \"@craftjs/core\";\nimport { Settings } from \"../../Settings\";\nimport { game } from \"../../../data/game\";\nimport { DropdownSetting } from \"../../Settings/DropdownSetting\";\n\nexport const ContainerSettings = () => {\n  const {\n    actions: { setProp },\n    props,\n  } = useNode((node) => ({\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: DropdownSetting,\n          property: \"visibilitySource\",\n          itemsFn: () => Object.keys(game.visibilitySources),\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n","import { Container as MUIContainer } from \"@material-ui/core\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { checkVisibility } from \"../../../lib/checkVisibility\";\nimport { ContainerSettings } from \"./ContainerSettings\";\n\nexport const Container = ({ children, visibilitySource }: any) => {\n  const { refFn, componentClassName, enabled } = useSetupComponent();\n\n  const extraStyle = checkVisibility(visibilitySource, enabled);\n\n  if (!extraStyle) {\n    return null;\n  }\n\n  return (\n    <MUIContainer\n      ref={refFn}\n      style={{ ...Container.baseStyle, ...extraStyle }}\n      className={componentClassName}\n    >\n      {children}\n    </MUIContainer>\n  );\n};\n\nContainer.craft = {\n  props: {\n    padding: \"0px\",\n  },\n  related: {\n    settings: ContainerSettings,\n  },\n};\n\nContainer.baseStyle = {\n  padding: \"0em\",\n};\n","import { useNode } from \"@craftjs/core\";\nimport { game } from \"../../../data/game\";\nimport { Settings, StyleSetting } from \"../../Settings\";\nimport { DropdownSetting } from \"../../Settings/DropdownSetting\";\n\nconst sizes = [\n  { name: \"3\", value: 3 },\n  { name: \"4\", value: 4 },\n  { name: \"6\", value: 6 },\n];\n\nexport const GridContainerSettings = () => {\n  const {\n    actions: { setProp },\n    props,\n  } = useNode((node) => ({\n    componentName: node.data.name,\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: DropdownSetting,\n          property: \"visibilitySource\",\n          itemsFn: () => Object.keys(game.visibilitySources),\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n\nexport const GridItemSettings = () => {\n  const {\n    actions: { setProp },\n    componentName,\n    props,\n  } = useNode((node) => ({\n    componentName: node.data.name,\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: StyleSetting,\n          property: \"customStyleName\",\n          componentName,\n        },\n        {\n          type: DropdownSetting,\n          property: \"size\",\n          itemsFn: () => sizes,\n        },\n        {\n          type: DropdownSetting,\n          property: \"visibilitySource\",\n          itemsFn: () => Object.keys(game.visibilitySources),\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n","import { Grid, makeStyles, Paper } from \"@material-ui/core\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { GridContainerSettings, GridItemSettings } from \"./GridSettings\";\nimport { customStyles } from \"../../../data/customStyles\";\nimport { useCustomStyle } from \"../../../config/useCustomStyle\";\nimport { StringSetting } from \"../../Settings\";\nimport { checkVisibility } from \"../../../lib/checkVisibility\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n  },\n}));\n\nexport const GridContainer = ({ children, visibilitySource }: any) => {\n  const classes = useStyles();\n  const { refFn, componentClassName, enabled } = useSetupComponent({\n    additionalClasses: [classes.root],\n  });\n\n  const extraStyle = checkVisibility(visibilitySource, enabled);\n\n  if (!extraStyle) {\n    return null;\n  }\n\n  return (\n    <Grid\n      container\n      ref={refFn}\n      className={componentClassName}\n      style={extraStyle}\n      spacing={2}\n    >\n      {children}\n    </Grid>\n  );\n};\n\nGridContainer.craft = {\n  props: {},\n  related: {\n    settings: GridContainerSettings,\n  },\n};\n\nexport const GridItem = ({\n  children,\n  size,\n  visibilitySource,\n  customStyleName,\n}: any) => {\n  const { refFn, componentClassName, enabled } = useSetupComponent();\n\n  const style = useCustomStyle(\n    GridItem.baseStyle,\n    customStyles.GridItem,\n    customStyleName\n  );\n\n  const extraStyle = checkVisibility(visibilitySource, enabled);\n\n  if (!extraStyle) {\n    return null;\n  }\n\n  return (\n    <Grid\n      item\n      xs={size}\n      ref={refFn}\n      className={componentClassName}\n      style={extraStyle}\n    >\n      <Paper style={style}>{children}</Paper>\n    </Grid>\n  );\n};\n\nGridItem.craft = {\n  props: { size: 6 },\n  related: {\n    settings: GridItemSettings,\n  },\n};\n\nGridItem.baseStyle = {\n  padding: \"0em\",\n  height: \"100%\",\n};\n\nGridItem.styleProperties = [\n  {\n    property: \"padding\",\n    type: StringSetting,\n  },\n];\n","import {\n  Container as MUIContainer,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { useNode } from \"@craftjs/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { Settings, StyleSetting } from \"../../Settings\";\nimport { StringSetting } from \"../../Settings\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { useCustomStyle } from \"../../../config/useCustomStyle\";\nimport { customStyles } from \"../../../data/customStyles\";\n\nexport const useStyles = makeStyles((theme: Theme) => ({\n  main: {\n    padding: \"0em\",\n  },\n}));\n\nexport const PathContainer = ({ path, children, customStyleName }: any) => {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { refFn, enabled, componentClassName } = useSetupComponent({\n    additionalClasses: [classes.main],\n  });\n\n  const visible = history.location.pathname.includes(path);\n\n  const style = useCustomStyle(\n    PathContainer.baseStyle,\n    customStyles.PathContainer,\n    customStyleName\n  );\n\n  return (\n    <MUIContainer ref={refFn} className={componentClassName} style={style}>\n      {enabled && (\n        <div>\n          <div style={{ float: \"right\", height: \"0em\" }}>\n            {visible ? <VisibilityIcon /> : <VisibilityOffIcon />}\n          </div>\n          {path} : {history.location.pathname}\n        </div>\n      )}\n      {visible ? children : null}\n    </MUIContainer>\n  );\n};\n\nPathContainer.styleProperties = [\n  {\n    property: \"margin\",\n    type: StringSetting,\n  },\n];\n\nconst PathContainerSettings = () => {\n  const {\n    actions: { setProp },\n    componentName,\n    props,\n  } = useNode((node) => ({\n    componentName: node.data.name,\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: StyleSetting,\n          property: \"customStyleName\",\n          componentName,\n        },\n        {\n          type: StringSetting,\n          property: \"path\",\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n\nPathContainer.craft = {\n  props: {\n    path: \"/tab1\",\n  },\n  related: {\n    settings: PathContainerSettings,\n  },\n};\n\nPathContainer.baseStyle = {\n  margin: \"0em\",\n};\n","import React from \"react\";\nimport { useNode } from \"@craftjs/core\";\nimport {\n  Table as MUITable,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n} from \"@material-ui/core\";\nimport { Settings } from \"../../Settings\";\nimport { CustomRepeatSetting } from \"../../Settings/CustomRepeatSetting\";\nimport { game } from \"../../../data/game\";\nimport { Button } from \"../Button\";\nimport { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { Dropdown } from \"../../Controls/Dropdown\";\nimport { DropdownSetting } from \"../../Settings/DropdownSetting\";\n\nconst TableRows = ({ items, columnNames }: any) => {\n  const rows = [];\n  const currentContext = {\n    item: {} as any,\n    index: \"0\",\n    column: {} as any,\n  };\n\n  try {\n    for (const itemIndex in items) {\n      const item = items[itemIndex];\n      const cells = [];\n\n      currentContext.item = item;\n\n      for (const index in columnNames) {\n        const column = columnNames[index];\n\n        currentContext.index = index;\n        currentContext.column = column;\n\n        const { name } = column;\n        const itemProperty = item[column.property];\n\n        switch (column.type) {\n          case \"string\":\n            if (typeof itemProperty !== \"string\") {\n              throw new Error(\"Trying to use a non-string value as a string\");\n            }\n\n            cells.push(<TableCell key={name}>{itemProperty}</TableCell>);\n            break;\n          case \"variableString\":\n            if (!itemProperty.data) {\n              throw new Error(\"No data function for a variableString\");\n            }\n\n            cells.push(<TableCell key={name}>{itemProperty.data()}</TableCell>);\n            break;\n          case \"button\":\n            if (!itemProperty.onClickAction) {\n              throw new Error(\"No onClickAcion function for a button\");\n            }\n\n            cells.push(\n              <TableCell key={name}>\n                <Button\n                  text={itemProperty.text}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClickAction={itemProperty.onClickAction}\n                  actionContext={item}\n                />\n              </TableCell>\n            );\n            break;\n        }\n      }\n\n      rows.push(<TableRow key={itemIndex}>{cells}</TableRow>);\n    }\n  } catch (err) {\n    return (\n      <TableBody>\n        <TableCell>\n          <div>Table Data Error! {err.message}</div>\n          <div>Column Index: {currentContext.index}</div>\n          <div>Column Type: {currentContext.column.type}</div>\n          <div>Item Data: {JSON.stringify(currentContext.item)}</div>\n        </TableCell>\n      </TableBody>\n    );\n  }\n\n  return <TableBody>{rows}</TableBody>;\n};\n\nexport const Table = ({ columnNames = [], itemSource }: any) => {\n  const { refFn, componentClassName } = useSetupComponent();\n\n  const headerRow = [];\n\n  for (const column of columnNames) {\n    headerRow.push(<TableCell key={column.name}>{column.name}</TableCell>);\n  }\n\n  const itemSourceFunction = game.dataSources[itemSource];\n\n  const items = itemSourceFunction ? itemSourceFunction() : [];\n\n  return (\n    <div ref={refFn} className={componentClassName}>\n      <TableContainer>\n        <MUITable size=\"small\">\n          <TableHead>\n            <TableRow>{headerRow}</TableRow>\n          </TableHead>\n          <TableRows items={items} columnNames={columnNames} />\n        </MUITable>\n      </TableContainer>\n    </div>\n  );\n};\n\nconst ColumnSetting = ({ item, update }: any) => {\n  return (\n    <div style={{ marginBottom: \"1em\" }}>\n      <TextField\n        fullWidth\n        value={item.name}\n        label=\"Name\"\n        onChange={(event: any) => {\n          item.name = event.target.value;\n          update();\n        }}\n      />\n      <TextField\n        fullWidth\n        value={item.property}\n        label=\"Property\"\n        onChange={(event: any) => {\n          item.property = event.target.value;\n          update();\n        }}\n      />\n      <Dropdown\n        value={item.type || \"\"}\n        items={[\n          { name: \"String\", value: \"string\" },\n          { name: \"Button\", value: \"button\" },\n          { name: \"Variable String\", value: \"variableString\" },\n        ]}\n        label=\"Type\"\n        onChange={(event: any) => {\n          item.type = event.target.value;\n          update();\n        }}\n      />\n    </div>\n  );\n};\n\nconst TableSettings = () => {\n  const {\n    actions: { setProp },\n    props,\n  } = useNode((node) => ({\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: DropdownSetting,\n          property: \"itemSource\",\n          itemsFn: () => Object.keys(game.dataSources),\n        },\n        {\n          type: CustomRepeatSetting,\n          property: \"columnNames\",\n          component: (item: any, index: number) => (\n            <ColumnSetting\n              key={index}\n              item={item}\n              update={() => {\n                setProp(\n                  (props: any) => (props.updateVarible = !props.updateVarible)\n                );\n              }}\n            />\n          ),\n          items: props.columnNames,\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n\nTable.craft = {\n  props: {\n    columnNames: [\n      { name: \"Colum 1\", property: \"col1\", type: \"string\" },\n      { name: \"Colum 2\", property: \"col2\", type: \"string\" },\n      { name: \"Colum 3\", property: \"col3\", type: \"button\" },\n    ],\n    itemSource: \"\",\n    updateVariable: false,\n  },\n  related: {\n    settings: TableSettings,\n  },\n};\n","import { useNode } from \"@craftjs/core\";\nimport { Settings, StringSetting, StyleSetting } from \"../../Settings\";\n\nexport const VariableTextSettings = () => {\n  const {\n    actions: { setProp },\n    componentName,\n    props,\n  } = useNode((node) => ({\n    componentName: node.data.name,\n    props: node.data.props,\n  }));\n\n  return (\n    <Settings\n      config={[\n        {\n          type: StyleSetting,\n          property: \"customStyleName\",\n          componentName,\n        },\n        {\n          type: StringSetting,\n          property: \"dataProperty\",\n        },\n        {\n          type: StringSetting,\n          property: \"subProperty\",\n        },\n      ]}\n      properties={props}\n      setProp={setProp}\n    />\n  );\n};\n","import { useSetupComponent } from \"../../../config/useSetupComponent\";\nimport { game } from \"../../../data/game\";\nimport { StringSetting } from \"../../Settings\";\nimport { customStyles } from \"../../../data/customStyles\";\nimport { useCustomStyle } from \"../../../config/useCustomStyle\";\nimport { VariableTextSettings } from \"./VariableTextSettings\";\n\nexport const VariableText = ({\n  dataProperty,\n  subProperty,\n  customStyleName,\n}: any) => {\n  const { refFn, componentClassName } = useSetupComponent();\n\n  const style = useCustomStyle(\n    VariableText.baseStyle,\n    customStyles.VariableText,\n    customStyleName\n  );\n\n  let value = game.data[dataProperty];\n  if (value && subProperty) {\n    value = value[subProperty];\n  }\n\n  if (typeof value === \"object\") {\n    value = undefined;\n  }\n\n  return (\n    <span ref={refFn} className={componentClassName} style={style}>\n      {value ?? \"##NO VALUE##\"}\n    </span>\n  );\n};\n\nVariableText.craft = {\n  props: {},\n  rules: {\n    canDrag: (node: any) => true,\n  },\n  related: {\n    settings: VariableTextSettings,\n  },\n};\n\nVariableText.baseStyle = {\n  margin: \"0em\",\n};\n\nVariableText.styleProperties = [\n  {\n    property: \"fontSize\",\n    type: StringSetting,\n  },\n];\n","import { Element, EventConnectors } from \"@craftjs/core\";\nimport {\n  AppBar,\n  Button,\n  Container,\n  GridContainer,\n  GridItem,\n  PathContainer,\n  Table,\n  Text,\n  VariableText,\n} from \"../CustomComponents\";\n\nexport const getToolboxComponents = (connectors: EventConnectors) => {\n  return [\n    {\n      name: \"Button\",\n      component: Button,\n      ref: (ref: any) => connectors.create(ref, <Button />),\n    },\n    {\n      name: \"Text\",\n      component: Text,\n      ref: (ref: any) => connectors.create(ref, <Text text=\"Hi world\" />),\n    },\n    {\n      name: \"Container\",\n      component: Container,\n      ref: (ref: any) =>\n        connectors.create(\n          ref,\n          <Element is={Container} canvas>\n            <Text text=\"Container\" />\n          </Element>\n        ),\n    },\n    {\n      name: \"Variable Text\",\n      component: VariableText,\n      ref: (ref: any) => connectors.create(ref, <VariableText />),\n    },\n    {\n      name: \"App Bar\",\n      component: AppBar,\n      ref: (ref: any) => connectors.create(ref, <AppBar />),\n    },\n    {\n      name: \"Path Container\",\n      component: PathContainer,\n      ref: (ref: any) =>\n        connectors.create(ref, <Element is={PathContainer} canvas />),\n    },\n    {\n      name: \"Table\",\n      component: Table,\n      ref: (ref: any) => connectors.create(ref, <Table />),\n    },\n    {\n      name: \"Grid Container\",\n      component: GridContainer,\n      ref: (ref: any) =>\n        connectors.create(\n          ref,\n          <Element is={GridContainer} canvas>\n            <Element is={GridItem} canvas>\n              <Text text=\"Grid Item\" />\n            </Element>\n            <Element is={GridItem} canvas>\n              <Text text=\"Grid Item\" />\n            </Element>\n          </Element>\n        ),\n    },\n    {\n      name: \"Grid Item\",\n      component: GridItem,\n      ref: (ref: any) =>\n        connectors.create(\n          ref,\n          <Element is={GridItem} canvas>\n            <Text text=\"Grid Item\" />\n          </Element>\n        ),\n    },\n    // {\n    //   name: \"Card\",\n    //   component: Card,\n    //   ref: (ref) => connectors.create(ref, <Card />),\n    // },\n  ];\n};\n","import { useEditor } from \"@craftjs/core\";\nimport { store } from \"../../lib/context\";\nimport {\n  Box,\n  Typography,\n  Grid,\n  Button as MaterialButton,\n  Switch,\n  Chip,\n} from \"@material-ui/core\";\n\nimport { useState } from \"react\";\nimport { Settings, StringSetting } from \"../Settings\";\nimport { saveLocalSettings } from \"../../lib/localSettings\";\nimport { getToolboxComponents } from \"./getToolboxComponents\";\n\nexport const Toolbox = () => {\n  const { connectors, actions } = useEditor();\n\n  const [selectedComponent, setSelectedComponent] = useState<{\n    component: any;\n  } | null>(null);\n\n  return (\n    <>\n      <Box px={2} py={2}>\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"center\"\n          spacing={1}\n        >\n          <Box pb={2}>\n            <Typography>Drag to add</Typography>\n            Highlight components\n            <Switch\n              checked={store.state.localSettings.highlightComponents}\n              onChange={() => {\n                store.state.localSettings.highlightComponents = !store.state\n                  .localSettings.highlightComponents;\n\n                saveLocalSettings();\n\n                store.update();\n              }}\n            />\n          </Box>\n          {getToolboxComponents(connectors).map((component) => {\n            return (\n              <Grid key={component.name} container direction=\"column\" item>\n                <MaterialButton\n                  ref={component.ref}\n                  variant=\"contained\"\n                  onClick={() => {\n                    actions.selectNode();\n                    setSelectedComponent({ component: component.component });\n                  }}\n                >\n                  {component.name}\n                </MaterialButton>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </Box>\n      {selectedComponent ? (\n        <BaseProperties component={selectedComponent.component} />\n      ) : null}\n    </>\n  );\n};\n\nconst propertyConfigDefinitions: {\n  [key: string]: any;\n} = {\n  margin: {\n    property: \"margin\",\n    type: StringSetting,\n  },\n  padding: {\n    property: \"padding\",\n    type: StringSetting,\n  },\n  height: {\n    property: \"height\",\n    type: StringSetting,\n  },\n};\n\nconst BaseProperties = ({ component }: any) => {\n  const { baseStyle } = component;\n\n  if (!baseStyle) {\n    return null;\n  }\n\n  const config = [];\n  for (const property in baseStyle) {\n    const definition = propertyConfigDefinitions[property];\n\n    config.push(definition);\n  }\n\n  return (\n    <Box mt={2} px={2} py={2}>\n      <Grid container direction=\"column\" spacing={0}>\n        <Grid item>\n          <Box pb={2}>\n            <Grid container alignItems=\"center\">\n              <Grid item xs>\n                <Typography variant=\"subtitle1\">\n                  Base Component Config\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Chip size=\"small\" color=\"primary\" label={component.name} />\n              </Grid>\n            </Grid>\n          </Box>\n        </Grid>\n\n        <Settings\n          config={config}\n          properties={baseStyle}\n          setProp={(callback: (props: any) => void) => {\n            const newProps = Object.assign({}, baseStyle);\n            callback(newProps);\n            component.baseStyle = newProps;\n            store.update();\n          }}\n        />\n      </Grid>\n    </Box>\n  );\n};\n","import React from \"react\";\nimport {\n  Box,\n  Chip,\n  Grid,\n  Typography,\n  Button as MaterialButton,\n} from \"@material-ui/core\";\nimport { useEditor } from \"@craftjs/core\";\n\nexport const SettingsPanel = () => {\n  const { actions, selected } = useEditor((state, query) => {\n    const currentNodeId = state.events.selected;\n    let selected;\n\n    if (currentNodeId) {\n      selected = {\n        id: currentNodeId,\n        name: state.nodes[currentNodeId].data.name,\n        settings:\n          state.nodes[currentNodeId].related &&\n          state.nodes[currentNodeId].related.settings,\n        isDeletable: query.node(currentNodeId).isDeletable(),\n      };\n    }\n\n    return {\n      selected,\n    };\n  });\n\n  return selected ? (\n    <Box mt={2} px={2} py={2}>\n      <Grid container direction=\"column\" spacing={0}>\n        <Grid item>\n          <Box pb={2}>\n            <Grid container alignItems=\"center\">\n              <Grid item xs>\n                <Typography variant=\"subtitle1\">Selected</Typography>\n              </Grid>\n              <Grid item>\n                <Chip size=\"small\" color=\"primary\" label={selected.name} />\n              </Grid>\n            </Grid>\n          </Box>\n        </Grid>\n        {selected.settings && React.createElement(selected.settings)}\n        {selected.isDeletable ? (\n          <MaterialButton\n            variant=\"contained\"\n            color=\"default\"\n            onClick={() => {\n              actions.delete(selected.id);\n            }}\n          >\n            Delete\n          </MaterialButton>\n        ) : null}\n      </Grid>\n    </Box>\n  ) : null;\n};\n","export const data = {\n  gameData: null as any,\n};\n","import * as allComponents from \"./index\";\n\nexport const components: any = {};\n\nfor (const componentName in allComponents) {\n  // Kinda hacky but works\n  components[componentName] = (allComponents as any)[componentName];\n}\n","import { store } from \"./context\";\nimport { customStyles } from \"../data/customStyles\";\nimport { data } from \"../data/data\";\nimport { components } from \"../components/CustomComponents/components\";\n\nexport function saveGameData() {\n  const { editorQuery } = store;\n\n  if (!editorQuery) {\n    console.error(\"store.editorQuery not set\");\n    return;\n  }\n\n  console.debug(\"Saving game data\");\n\n  const baseStyles: any = {};\n\n  for (const componentName in components) {\n    // Kinda hacky but works\n    const component = (components as any)[componentName];\n\n    baseStyles[componentName] = component.baseStyle;\n  }\n\n  data.gameData = {\n    id: Math.random(),\n    layout: editorQuery.serialize(),\n    baseStyles,\n    customStyles,\n  };\n\n  localStorage.gameData = JSON.stringify(data.gameData);\n}\n","import { useEffect } from \"react\";\nimport { saveGameData } from \"../../lib/saveGameData\";\n\nexport const AutoSave = () => {\n  // Did mount / unmount\n  useEffect(() => {\n    console.debug(\"Starting autosave\");\n\n    const interval = setInterval(() => {\n      saveGameData();\n    }, 2000);\n\n    return () => {\n      console.debug(\"Stopping autosave\");\n      clearInterval(interval);\n    };\n  }, []);\n\n  return null;\n};\n","import * as baseComponents from \"../components/CustomComponents\";\n\nexport const components = {};\n\n// Apply the predefined components to the full list\nObject.assign(components, baseComponents);\n","import { makeStyles, Theme } from \"@material-ui/core\";\n\nexport const useSharedStyles = makeStyles((theme: Theme) => ({\n  gameArea: {\n    background: \"#eee\",\n  },\n}));\n","import { Paper, Grid } from \"@material-ui/core\";\nimport { store } from \"../../lib/context\";\nimport { Toolbox } from \"../../components/Toolbox\";\nimport { SettingsPanel } from \"../../components/SettingsPanel\";\n\nimport { Container, Text } from \"../../components/CustomComponents\";\n\nimport { Editor, Frame, Element, useEditor } from \"@craftjs/core\";\nimport { AutoSave } from \"./AutoSave\";\nimport { components } from \"../../lib/components\";\nimport { HashRouter } from \"react-router-dom\";\nimport { data } from \"../../data/data\";\nimport { saveGameData } from \"../../lib/saveGameData\";\nimport { useEffect } from \"react\";\nimport { useSharedStyles } from \"../../styles/shared\";\n\nfunction Content() {\n  const { query } = useEditor();\n  const classes = useSharedStyles();\n\n  useEffect(() => {\n    return () => {\n      saveGameData();\n    };\n  }, []);\n\n  // Setting the editor query data here so that it can be used elsewhere,\n  // including outside of the editor context\n  store.editorQuery = query;\n\n  return (\n    <Grid container>\n      <Grid item xs className={classes.gameArea}>\n        <HashRouter>\n          <Frame data={data.gameData.layout}>\n            {/*This is the default layout*/}\n            <Element is={Container} padding={5} canvas>\n              <Text\n                text={\"Start dragging components in (and delete this one)\"}\n              />\n            </Element>\n          </Frame>\n        </HashRouter>\n      </Grid>\n      <Grid item xs={3}>\n        <Paper className={undefined}>\n          <Toolbox />\n          <SettingsPanel />\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport function Edit() {\n  return (\n    <div>\n      <Editor resolver={components}>\n        <AutoSave />\n        <Content />\n      </Editor>\n    </div>\n  );\n}\n","import { Editor, Frame } from \"@craftjs/core\";\nimport { useEffect } from \"react\";\nimport { HashRouter, useHistory } from \"react-router-dom\";\nimport { components } from \"../lib/components\";\nimport { data } from \"../data/data\";\nimport { useSharedStyles } from \"../styles/shared\";\n\nexport function Play() {\n  const history = useHistory();\n  const classes = useSharedStyles();\n\n  useEffect(() => {\n    // If there is no game data, then switch to the editor\n    if (!data.gameData) {\n      console.error(new Error(\"No gameData routing to /edit\"));\n      history.push(\"/edit\");\n    }\n  }, [history]);\n\n  return (\n    <div className={classes.gameArea}>\n      <Editor resolver={components} enabled={false}>\n        <HashRouter>\n          <Frame data={data.gameData.layout}></Frame>\n        </HashRouter>\n      </Editor>\n    </div>\n  );\n}\n","import { Button } from \"@material-ui/core\";\nimport { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Context, store } from \"../lib/context\";\nimport { saveGameData } from \"../lib/saveGameData\";\nimport { openStyleDrawer } from \"../actions/styleDrawer\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n\nexport const Header = () => {\n  const history = useHistory();\n  const path = history.location.pathname;\n  const [updateValue, update] = useState(false);\n\n  useContext(Context);\n\n  function navigate(path: string) {\n    history.push(path);\n    update(!updateValue);\n  }\n\n  return (\n    <div>\n      <Button\n        onClick={() => {\n          store.state.optionsDrawerOpen = true;\n          store.update();\n        }}\n      >\n        <MenuIcon />\n      </Button>\n      <Button\n        onClick={() => {\n          navigate(\"/edit\");\n        }}\n        variant={path.includes(\"/edit\") ? \"contained\" : undefined}\n        color=\"primary\"\n      >\n        Edit\n      </Button>\n      <Button\n        onClick={() => {\n          navigate(\"/code\");\n        }}\n        variant={path.includes(\"/code\") ? \"contained\" : undefined}\n        color=\"primary\"\n      >\n        Code\n      </Button>\n      <Button\n        onClick={() => {\n          openStyleDrawer();\n        }}\n      >\n        Styling\n      </Button>\n      <Button\n        onClick={() => {\n          saveGameData();\n          navigate(\"/play\");\n        }}\n        variant={path.includes(\"/play\") ? \"contained\" : undefined}\n        color=\"primary\"\n      >\n        Play\n      </Button>\n      <Button\n        onClick={() => {\n          navigate(\"/documentation\");\n        }}\n        variant={path.includes(\"/documentation\") ? \"contained\" : undefined}\n        color=\"primary\"\n      >\n        Documentation\n      </Button>\n    </div>\n  );\n};\n","import { createMuiTheme } from \"@material-ui/core\";\nimport { blueGrey } from \"@material-ui/core/colors\";\n\nexport const theme = createMuiTheme({\n  palette: {\n    primary: {\n      // Purple and green play nicely together.\n      main: blueGrey[900],\n    },\n    secondary: {\n      // This is green.A700 as hex.\n      main: blueGrey[100],\n    },\n  },\n});\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n} from \"@material-ui/core\";\nimport { useState } from \"react\";\n\nexport const ImportExportDialog = ({ onClose }: any) => {\n  const currentAllGameData = {\n    gameData: localStorage.gameData,\n    gameCode: localStorage.gameCode,\n  };\n\n  const [allGameData, setAllGameData] = useState(\n    btoa(JSON.stringify(currentAllGameData))\n  );\n\n  return (\n    <Dialog open={true} onClose={onClose}>\n      <DialogTitle>Import or export game data</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Copy and paste the existing data somewhere to save it. Or paste in\n          data you have and import it.\n        </DialogContentText>\n        <TextField\n          fullWidth\n          label=\"Current Game Data\"\n          multiline\n          rows={4}\n          value={allGameData}\n          onChange={(event) => {\n            setAllGameData(event.target.value);\n          }}\n          variant=\"filled\"\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={() => {\n            const data = JSON.parse(atob(allGameData));\n            localStorage.gameData = data.gameData;\n            localStorage.gameCode = data.gameCode;\n            window.location.reload();\n          }}\n          color=\"primary\"\n        >\n          Import\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\n\nexport const ConfirmResetDialog = ({ onClose }: any) => {\n  return (\n    <Dialog open={true} onClose={onClose}>\n      <DialogTitle>Reset Game Data</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Are you sure you want to reset the curret game data?\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\" variant=\"contained\">\n          Cancel\n        </Button>\n        <Button\n          onClick={() => {\n            delete localStorage.gameData;\n            delete localStorage.gameCode;\n            window.location.reload();\n          }}\n          color=\"primary\"\n        >\n          Confirm\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n","import {\n  Divider,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport LoopIcon from \"@material-ui/icons/Loop\";\nimport ImportExportIcon from \"@material-ui/icons/ImportExport\";\nimport { store } from \"../../lib/context\";\nimport { useState } from \"react\";\nimport { ImportExportDialog } from \"./ImportExportDialog\";\nimport { ConfirmResetDialog } from \"./ConfirmResetDialog\";\nimport packageJson from \"../../../package.json\";\n\nexport const OptionsDrawer = () => {\n  const [showImportExprt, setShowImportExport] = useState(false);\n  const [showConfirmReset, setShowConfirmReset] = useState(false);\n\n  return (\n    <div>\n      <Drawer\n        open={store.state.optionsDrawerOpen}\n        onClose={() => {\n          store.state.optionsDrawerOpen = false;\n          store.update();\n        }}\n      >\n        <List>\n          <ListItem\n            button\n            onClick={() => {\n              setShowConfirmReset(true);\n            }}\n          >\n            <ListItemIcon>\n              <LoopIcon />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"Reset Game Data\"\n              secondary=\"Reset all game configuration\"\n            />\n          </ListItem>\n          <ListItem\n            button\n            onClick={() => {\n              setShowImportExport(true);\n            }}\n          >\n            <ListItemIcon>\n              <ImportExportIcon />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"Import / Export\"\n              secondary=\"Import or export your game data\"\n            />\n          </ListItem>\n          <Divider />\n          <ListItem onClick={() => {}}>\n            <ListItemText\n              primary=\"Idling Engine\"\n              secondary={`Version ${packageJson.version}`}\n            />\n          </ListItem>\n        </List>\n      </Drawer>\n\n      {showImportExprt && (\n        <ImportExportDialog onClose={() => setShowImportExport(false)} />\n      )}\n\n      {showConfirmReset && (\n        <ConfirmResetDialog onClose={() => setShowConfirmReset(false)} />\n      )}\n    </div>\n  );\n};\n","import { Box, Button, Drawer, Typography } from \"@material-ui/core\";\nimport { store } from \"../lib/context\";\nimport { Settings, StringSetting } from \"./Settings\";\nimport { customStyles } from \"../data/customStyles\";\nimport { Dropdown } from \"./Controls/Dropdown\";\nimport * as components from \"./CustomComponents\";\nimport { v4 as uuid } from \"uuid\";\nimport { closeStyleDrawer } from \"../actions/styleDrawer\";\nimport { useUpdate } from \"../config/useUpdate\";\n\nconst supportedComponents: any = {\n  [components.Button.name]: components.Button,\n  [components.PathContainer.name]: components.PathContainer,\n  [components.GridItem.name]: components.GridItem,\n  [components.Text.name]: components.Text,\n  [components.VariableText.name]: components.VariableText,\n};\n\nexport const StyleDrawer = () => {\n  const update = useUpdate();\n\n  let {\n    styleDrawerComponentName: selectedComponent,\n    styleDrawerStyleId: selectedStyle,\n  } = store.state.localSettings;\n\n  const updateSettings = (\n    styleDrawerComponentName: string,\n    styleDrawerStyleId: string\n  ) => {\n    store.state.localSettings.styleDrawerComponentName = styleDrawerComponentName;\n    store.state.localSettings.styleDrawerStyleId = styleDrawerStyleId;\n    update();\n  };\n\n  let component: any = null;\n  if (selectedComponent) {\n    component = customStyles[selectedComponent];\n  }\n\n  // The selectedStyle id doesn't actually exist\n  // Could be an artifact of the localSettings\n  if (!component || !component[selectedStyle]) {\n    selectedStyle = \"\";\n  }\n\n  return (\n    <div>\n      <Drawer\n        open={store.state.localSettings.styleDrawerOpen}\n        onClose={() => {\n          closeStyleDrawer();\n        }}\n        anchor=\"right\"\n        BackdropProps={{ invisible: true }}\n      >\n        <div style={{ padding: \"1em\" }}>\n          <Typography variant=\"h4\">Style Components</Typography>\n          <Dropdown\n            value={selectedComponent}\n            items={Object.keys(supportedComponents)}\n            label=\"Component\"\n            onChange={(event: any) => {\n              customStyles[event.target.value] =\n                customStyles[event.target.value] || {};\n\n              updateSettings(event.target.value, \"\");\n              update();\n            }}\n          />\n          {component && (\n            <Box display=\"flex\" alignItems=\"flex-end\">\n              <Box flexGrow={1}>\n                <Dropdown\n                  value={selectedStyle}\n                  items={Object.keys(component).map((id) => ({\n                    value: id,\n                    name: component[id]._name,\n                  }))}\n                  label=\"Styles\"\n                  onChange={(event: any) => {\n                    updateSettings(selectedComponent, \"\");\n                  }}\n                />\n              </Box>\n              <Box>\n                <Button\n                  onClick={(event) => {\n                    const id = uuid();\n\n                    component[id] = {\n                      _name: `New Style ${Object.keys(component).length + 1}`,\n                    };\n\n                    updateSettings(selectedComponent, id);\n                  }}\n                  variant=\"contained\"\n                >\n                  Add Style\n                </Button>\n              </Box>\n            </Box>\n          )}\n\n          {component && selectedStyle && (\n            <>\n              <Settings\n                config={[\n                  {\n                    property: \"_name\",\n                    type: StringSetting,\n                  },\n                  ...supportedComponents[selectedComponent].styleProperties,\n                ]}\n                properties={component[selectedStyle]}\n                setProp={(callback: (props: any) => void) => {\n                  // Important to assign it a new Id\n                  const newProps = Object.assign({}, component[selectedStyle], {\n                    customId: Math.random(),\n                  });\n                  callback(newProps);\n                  component[selectedStyle] = newProps;\n\n                  store.update();\n                }}\n              />\n              <Button\n                onClick={(event) => {\n                  const styleIds = Object.keys(component);\n                  const index = styleIds.indexOf(selectedStyle);\n\n                  let nextStyle = \"\";\n\n                  delete component[selectedStyle];\n\n                  if (index > 0) {\n                    nextStyle = styleIds[index - 1];\n                  } else if (styleIds.length) {\n                    nextStyle = styleIds[1];\n                  }\n\n                  updateSettings(selectedComponent, nextStyle);\n                }}\n                variant=\"contained\"\n              >\n                Delete Style\n              </Button>\n            </>\n          )}\n        </div>\n      </Drawer>\n    </div>\n  );\n};\n","import { useState } from \"react\";\n\nexport function useUpdate() {\n  const [updateValue, update] = useState(false);\n\n  return () => update(!updateValue);\n}\n","import { customStyles } from \"../data/customStyles\";\nimport { data } from \"../data/data\";\nimport { components } from \"../components/CustomComponents/components\";\n\nfunction loadComponentProperties(baseStyles: any) {\n  for (const componentName in baseStyles) {\n    const component = components[componentName];\n    const baseStyle = baseStyles[componentName];\n\n    if (component && baseStyle) {\n      component.baseStyle = {\n        ...component.baseStyle,\n        ...baseStyle,\n      };\n    }\n  }\n}\n\nexport function loadGameData() {\n  try {\n    let storedGameData = localStorage.gameData;\n\n    if (storedGameData) {\n      storedGameData = JSON.parse(storedGameData);\n\n      if (storedGameData.baseStyles) {\n        loadComponentProperties(storedGameData.baseStyles);\n      }\n\n      if (storedGameData.customStyles) {\n        Object.assign(customStyles, storedGameData.customStyles);\n      }\n\n      data.gameData = storedGameData;\n\n      return storedGameData;\n    }\n\n    console.warn(\"No game data loaded\");\n  } catch (err) {\n    console.error(err);\n  }\n\n  data.gameData = {};\n  return null;\n}\n","import React, { Component } from \"react\";\nimport \"./lib/log\";\nimport { Edit, Play, Code, Documentation } from \"./views\";\nimport { Context, store } from \"./lib/context\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport { CssBaseline, ThemeProvider } from \"@material-ui/core\";\nimport { Header } from \"./components/Header\";\nimport { theme } from \"./config/theme\";\nimport { executeCode, setUpdateUIFunction } from \"./data/game\";\nimport { OptionsDrawer } from \"./components/OptionsDrawer\";\nimport { StyleDrawer } from \"./components/StyleDrawer\";\nimport { loadLocalSettings } from \"./lib/localSettings\";\nimport { loadGameData } from \"./lib/loadGameData\";\nimport { data } from \"./data/data\";\n\nloadLocalSettings();\n\nexport default class App extends Component {\n  componentDidMount() {\n    // This allows components to update the state\n    // without being tied to the context\n    store.update = this.update;\n\n    setUpdateUIFunction(store.update);\n\n    if (!data.gameData) {\n      loadGameData();\n    }\n\n    executeCode();\n  }\n\n  update = () => {\n    // This causes the context provider to update\n    this.setState({});\n  };\n\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Context.Provider\n          value={{\n            state: store.state,\n            update: this.update,\n            editorQuery: store.editorQuery,\n          }}\n        >\n          <BrowserRouter basename=\"/idling-engine\">\n            <div>\n              <OptionsDrawer />\n              <StyleDrawer />\n              <Header />\n              <Switch>\n                <Route path=\"/edit\" render={() => <Edit />} />\n                <Route path=\"/code\" render={() => <Code />} />\n                <Route path=\"/play\" render={() => <Play />} />\n                <Route path=\"/documentation\" render={() => <Documentation />} />\n                <Route path=\"/\">\n                  <Redirect to=\"/edit\" />\n                </Route>\n              </Switch>\n            </div>\n          </BrowserRouter>\n        </Context.Provider>\n      </ThemeProvider>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n// import reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}
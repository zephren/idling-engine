(this.webpackJsonpcraftjs=this.webpackJsonpcraftjs||[]).push([[0],{28:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return setUpdateUIFunction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return game})),__webpack_require__.d(__webpack_exports__,"a",(function(){return executeCode}));var _home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32);function setUpdateUIFunction(e){game.update=e}var game={settings:{tickInterval:1e3},data:{},actions:{},conditionals:{},dataSources:{},configure:function(e){console.log("game.configure not defined")},isInitialized:!1,_initialize:function(e){console.log("game.initialize not defined")},get initialize(){return this._initialize},set initialize(e){var t=this;this._initialize=function(){console.log("Initializing"),t.isInitialized=!0,e(game.data)}},tick:function(){console.log("game.tick not defined")},update:function(){console.log("game.update not defined")}},currentTimeout=null;function tick(){currentTimeout=setTimeout((function(){game.tick(),tick()}),game.settings.tickInterval)}function executeCode(){var files=localStorage.gameCode?JSON.parse(localStorage.gameCode):[],finalCode="",_iterator=Object(_home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;finalCode+=file.code+"\n\n"}}catch(err){_iterator.e(err)}finally{_iterator.f()}try{currentTimeout&&clearTimeout(currentTimeout),eval(finalCode),game.isInitialized||game.initialize(game.data),game.configure(game.settings),tick()}catch(err){err.message="GAME SCRIPT ERROR: "+err.message,console.error(err)}}window.game=game},566:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"Button",(function(){return W})),n.d(a,"Card",(function(){return re})),n.d(a,"CardBottom",(function(){return ae})),n.d(a,"CardTop",(function(){return ne})),n.d(a,"Container",(function(){return te})),n.d(a,"PathContainer",(function(){return ue})),n.d(a,"Text",(function(){return X})),n.d(a,"VariableText",(function(){return je})),n.d(a,"AppBar",(function(){return ge})),n.d(a,"Table",(function(){return Ce}));var r=n(2),c=n(0),i=n.n(c),o=n(14),s=n.n(o),l=n(96),u=n(97),d=n(112),j=n(110),b=n(33),p=n(98),f=n.n(p),O=(n(137),n(552),n(553),n(17)),m=n(599),h={state:{drawerOpen:!1},editorQuery:null,update:function(){console.log("Update function not defined")}},x=i.a.createContext(h);window.store=h;var g=n(28),v=localStorage.gameCode?JSON.parse(localStorage.gameCode):[];function y(){var e=Object(O.g)(),t=Object(c.useState)(!1),n=Object(b.a)(t,2),a=n[0],i=n[1];function o(){localStorage.gameCode=JSON.stringify(v)}return Object(c.useContext)(x),Object(c.useEffect)((function(){var e=setInterval((function(){o()}),1e3);return function(){clearInterval(e),o(),Object(g.a)()}}),[]),0===v.length&&v.push({name:"main",code:"//main\n\n\n// You may wish to move each of the following to its own file\n\ngame.configure = (settings) => {\n  // Update any game settings here\n  // settings.tickInterval = 5000\n}\n\ngame.initialize = () => {\n  // Update any initial game data here\n}\n\ngame.tick = () => {\n  // The main function to handle game logic\n};\n\n// Define actions using game.actions ...\n// Define conditionals using game.conditionals ...\n"}),Object(r.jsxs)("div",{children:[v.map((function(t,n){var a=e.location.pathname.includes(t.name)?"contained":"text";return Object(r.jsx)(m.a,{color:"primary",variant:a,onClick:function(){e.push("/code/".concat(t.name))},children:t.name},t.name)})),Object(r.jsx)(m.a,{color:"primary",variant:"outlined",onClick:function(){var e="New File ".concat(v.length);v.push({name:e,code:"//".concat(e)}),i(!a)},children:"+ New File"}),Object(r.jsxs)(O.d,{children:[v.map((function(e){return Object(r.jsx)(O.b,{path:"/code/".concat(e.name),render:function(){return Object(r.jsx)(f.a,{mode:"javascript",theme:"monokai",onChange:function(t){e.code=t},name:"Code Editor",editorProps:{$blockScrolling:!0},style:{width:"100%",fontSize:"1em"},value:e.code,tabSize:2})}},e.name)})),Object(r.jsx)(O.b,{path:"/code",children:Object(r.jsx)(O.a,{to:"/code/".concat(v[0].name)})})]})]})}var _=n(619),C=n(115),S=n(9),k=n(630),w=n(57),z=n(77),P=n(53),N=n(32),I=n(602),T=n(603),D=n(604),E=n(605),U=n(606),A=function(e){var t,n=e.config,a=e.properties,c=e.setProp,i=[],o=Object(N.a)(n);try{for(o.s();!(t=o.n()).done;){var s=t.value,l=s.property,u=s.name,d=Object(P.a)(s,["property","name"]),j=a[l];i.push(Object(r.jsxs)(I.a,{children:[Object(r.jsx)(T.a,{component:"td",scope:"row",children:l}),Object(r.jsx)(T.a,{children:Object(r.jsx)(s.type,Object(z.a)({property:l,value:j,setProp:c},d))})]},u))}}catch(b){o.e(b)}finally{o.f()}return Object(r.jsx)(D.a,{children:Object(r.jsx)(E.a,{size:"small",children:Object(r.jsx)(U.a,{children:i})})})},F=n(633),B=function(e){var t=e.property,n=e.value,a=e.setProp;return Object(r.jsx)(F.a,{fullWidth:!0,value:n,onChange:function(e){a((function(n){return n[t]=e.target.value}))}})},J=n(612),M=n(631),R=function(e){var t,n=e.property,a=e.value,c=e.itemsFn,i=e.setProp,o=[],s=Object(N.a)(c());try{for(s.s();!(t=s.n()).done;){var l=t.value,u="",d=null;"string"===typeof l?(u=l,d=l):(u=l.name,d=l.value),o.push(Object(r.jsx)(J.a,{value:d,children:u}))}}catch(j){s.e(j)}finally{s.f()}return Object(r.jsx)(M.a,{fullWidth:!0,labelId:"demo-simple-select-label",id:"demo-simple-select",value:a||"",onChange:function(e){i((function(t){return t[n]=e.target.value}))},children:o})},W=function(e){var t=e.size,n=e.variant,a=e.color,c=e.text,i=e.onClickAction,o=e.actionContext,s=Object(S.e)().connectors,l=s.connect,u=s.drag;return Object(r.jsx)(m.a,{ref:function(e){return l(u(e))},size:t,variant:n,color:a,onClick:function(){var e=g.b.actions[i];e&&(e(o),h.update())},children:c})};W.craft={props:{size:"small",variant:"contained",color:"primary",text:"Click me"},related:{settings:function(){var e=Object(S.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(r.jsx)(A,{config:[{type:R,property:"onClickAction",itemsFn:function(){return Object.keys(g.b.actions)}},{type:B,property:"text"}],properties:n,setProp:t})}}};var H=n(609),q=n(610),Q=n(636),V=n(104),L=n.n(V),G=n(111),K=n(613),$=Object(K.a)((function(e){return{componentEditing:{boxShadow:"inset 0em 0em 0em 2px red",paddingTop:"1em !important",paddingBottom:"1em !important"},componentSelected:{boxShadow:"inset 0em 0em 0em 2px green"}}}));function Y(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return[].concat(Object(G.a)(a),[e?n.componentEditing:"",t?n.componentSelected:""]).join(" ")}var X=function(e){var t=e.text,n=e.fontSize,a=Object(S.e)((function(e){return{selected:e.events.selected,dragged:e.events.dragged}})),c=a.connectors,i=c.connect,o=c.drag,s=a.selected,l=a.actions.setProp,u=Object(S.d)((function(e){return{enabled:e.options.enabled}})).enabled,d=$();return Object(r.jsx)("span",{ref:function(e){return i(o(e))},children:Object(r.jsx)(L.a,{disabled:!s,html:t,onChange:function(e){return l((function(t){return t.text=e.target.value.replace(/<\/?[^>]+(>|$)/g,"")}))},tagName:"span",style:{fontSize:"".concat(n,"px")},className:Y(u,s,d)})})};X.craft={props:{text:"Hi",fontSize:20},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(S.e)((function(e){return{fontSize:e.data.props.fontSize}})),t=e.actions.setProp,n=e.fontSize;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(H.a,{size:"small",component:"fieldset",children:[Object(r.jsx)(q.a,{component:"legend",children:"Font size"}),Object(r.jsx)(Q.a,{value:n||7,step:7,min:1,max:50,onChange:function(e,n){t((function(e){return e.fontSize=n}))}})]})})}}};var Z=n(614),ee=n(607),te=function(e){var t=e.background,n=e.padding,a=e.children,c=Object(S.e)().connectors,i=c.connect,o=c.drag;return Object(r.jsx)(Z.a,{ref:function(e){return i(o(e))},style:{background:t,padding:n},children:a})};te.craft={props:{padding:"0px"},related:{settings:function(){var e=Object(S.e)((function(e){return{padding:e.data.props.padding}})),t=e.actions.setProp,n=e.padding;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(ee.a,{value:n,onChange:function(e){t((function(t){return t.padding=e.target.value}))}})})}}};var ne=function(e){var t=e.children,n=Object(S.e)().connectors.connect;return Object(r.jsx)("div",{ref:n,className:"text-only",children:t})};ne.craft={rules:{}};var ae=function(e){var t=e.children,n=Object(S.e)().connectors.connect;return Object(r.jsx)("div",{ref:n,children:t})};ae.craft={rules:{canMoveIn:function(e){return e.data.type===W}}};var re=function(e){var t=e.background,n=e.padding,a=void 0===n?20:n;return Object(r.jsxs)(te,{background:t,padding:a,children:[Object(r.jsxs)(S.b,{id:"text",is:ne,canvas:!0,children:[Object(r.jsx)(X,{text:"Title",fontSize:20}),Object(r.jsx)(X,{text:"Subtitle",fontSize:15})]}),Object(r.jsx)(S.b,{id:"buttons",is:ae,canvas:!0,children:Object(r.jsx)(W,{size:"small",text:"Learn more",variant:"outlined",children:"Hi!"})})]})},ce=n(105),ie=n.n(ce),oe=n(106),se=n.n(oe),le=Object(K.a)((function(e){return{main:{padding:"0em"}}})),ue=function(e){var t=e.path,n=e.children,a=Object(S.e)((function(e){return{selected:e.events.selected}})),i=a.connectors,o=i.connect,s=i.drag,l=a.selected,u=Object(S.d)((function(e){return{enabled:e.options.enabled}})).enabled,d=Object(O.g)(),j=le(),b=$();Object(c.useContext)(x);var p=d.location.pathname.includes(t);return Object(r.jsxs)(Z.a,{ref:function(e){return o(s(e))},className:Y(u,l,b,[j.main]),children:[Object(r.jsx)("div",{style:{float:"right",height:"0em"},children:p?Object(r.jsx)(ie.a,{}):Object(r.jsx)(se.a,{})}),u&&Object(r.jsxs)("div",{children:[t," : ",d.location.pathname]}),p?n:null]})};ue.craft={props:{path:"/tab1"},related:{settings:function(){var e=Object(S.e)((function(e){return{path:e.data.props.path}})),t=e.actions.setProp,n=Object(P.a)(e,["actions"]);return Object(r.jsx)(A,{config:[{type:B,property:"path"}],properties:n,setProp:t})}}};var de=function(e){var t=e.property,n=e.value,a=e.min,c=e.max,i=e.step,o=e.setProp;return Object(r.jsx)(Q.a,{value:n||7,step:i,min:a,max:c,onChange:function(e,n){o((function(e){return e[t]=n}))}})},je=function(e){var t,n=e.dataProperty,a=e.fontSize,i=Object(S.e)((function(e){return{selected:e.events.selected,dragged:e.events.dragged}})).connectors,o=i.connect,s=i.drag;return Object(c.useContext)(x),Object(r.jsx)("span",{ref:function(e){return o(s(e))},style:{fontSize:a},children:null!==(t=g.b.data[n])&&void 0!==t?t:"##NO VALUE##"})};je.craft={props:{fontSize:20},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(S.e)((function(e){return{dataProperty:e.data.props.dataProperty,fontSize:e.data.props.fontSize}})),t=e.actions.setProp,n=Object(P.a)(e,["actions"]);return Object(r.jsx)(A,{config:[{type:B,property:"dataProperty"},{type:de,property:"fontSize",min:1,max:50,step:7}],properties:n,setProp:t})}}};var be=n(616),pe=n(617),fe=n(634),Oe=n(632),me=n(615);function he(e){var t=e.path,n=e.tabs,a=e.className,c=Object(S.e)().connectors.connect,i=Object(O.g)(),o=function(e,t){var n=null;for(var a in t){var r=t[a];if(r.default&&(n=r),e.match(r.path))return[parseInt(a),r]}return n?[-1,n]:[-1,null]}(t,n),s=Object(b.a)(o,2),l=s[0],u=s[1];return-1===l?(u&&i.push(u.to),null):Object(r.jsx)(Oe.a,{ref:c,value:l,onChange:function(e,t){var a=n[t];i.push(a.to)},className:a,children:n.map((function(e){return Object(r.jsx)(me.a,{label:e.name,className:a},e.name)}))})}var xe=Object(K.a)((function(e){return{root:{flexGrow:1},spacer:{flexGrow:1},fullHeight:Object(z.a)({},e.mixins.toolbar)}}));function ge(e){var t=e.tabs,n=Object(S.e)().connectors,a=n.connect,i=n.drag,o=xe(),s=Object(O.g)(),l=Object(c.useState)(!0),u=Object(b.a)(l,2),d=u[0],j=u[1],p=Object(c.useContext)(x);return Object(r.jsx)("div",{ref:function(e){return a(i(e))},className:o.root,onClick:function(){setTimeout((function(){j(!d),p.update()}))},children:Object(r.jsx)(be.a,{position:"static",children:Object(r.jsxs)(pe.a,{children:[Object(r.jsx)(he,{path:s.location.pathname,tabs:t,className:o.fullHeight}),Object(r.jsx)("div",{className:o.spacer})]})})})}ge.craft={props:{tabs:[{name:"Tab 1",path:"tab1",to:"/tab1",default:!0},{name:"Tab 2",path:"tab2",to:"/tab2"},{name:"Tab 3",path:"tab3",to:"/tab3"}]},related:{settings:function(){var e=Object(S.e)((function(e){return{triggerUpdate:!!e.data.props.triggerUpdate,tabs:e.data.props.tabs}})),t=e.actions.setProp,n=e.triggerUpdate,a=e.tabs,c=function(e,a,r){return e[a]=r,t((function(e){e.triggerUpdate=!n}))};return Object(r.jsxs)("div",{children:[a.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)(F.a,{label:"Name",value:e.name,onChange:function(t){return c(e,"name",t.target.value)}}),Object(r.jsx)(F.a,{label:"Path",value:e.path,onChange:function(t){return c(e,"path",t.target.value)}}),Object(r.jsx)(F.a,{label:"To",value:e.to,onChange:function(t){return c(e,"to",t.target.value)}}),Object(r.jsx)(fe.a,{checked:e.default||!1,onChange:function(){return function(e){var t,n=Object(N.a)(a);try{for(n.s();!(t=n.n()).done;)t.value.default=!1}catch(r){n.e(r)}finally{n.f()}c(e,"default",!0)}(e)}})]},t)})),Object(r.jsx)(m.a,{onClick:function(){return a.push({name:"New Tab",path:"",to:""}),t((function(e){return e.triggerUpdate=!n}))},children:"Add Tab"})]})}}};var ve=n(618),ye=function(e){var t=e.component;return e.items.map((function(e,n){return t(e,n)}))},_e=function(e){var t=e.items,n=e.columnNames,a=[];for(var c in t){var i,o=t[c],s=[],l=Object(N.a)(n);try{for(l.s();!(i=l.n()).done;){var u=i.value,d=u.name,j=o[u.property];switch(u.type){case"string":s.push(Object(r.jsx)(T.a,{children:j},d));break;case"textFromFunction":s.push(Object(r.jsx)(T.a,{children:j.data()},d));break;case"button":s.push(Object(r.jsx)(T.a,{children:Object(r.jsx)(W,{text:j.text,variant:"contained",color:"primary",onClickAction:j.onClickAction,actionContext:o})},d))}}}catch(b){l.e(b)}finally{l.f()}a.push(Object(r.jsx)(I.a,{children:s},c))}return Object(r.jsx)(U.a,{children:a})},Ce=function(e){var t=e.columnNames,n=void 0===t?[]:t,a=e.itemSource,i=Object(S.e)().connectors,o=i.connect,s=i.drag;Object(c.useContext)(x);var l,u=[],d=Object(N.a)(n);try{for(d.s();!(l=d.n()).done;){var j=l.value;u.push(Object(r.jsx)(T.a,{children:j.name},j.name))}}catch(f){d.e(f)}finally{d.f()}var b=g.b.dataSources[a],p=b?b():[];return Object(r.jsxs)("div",{ref:function(e){return o(s(e))},children:["Table!",Object(r.jsx)(D.a,{children:Object(r.jsxs)(E.a,{size:"small",children:[Object(r.jsx)(ve.a,{children:Object(r.jsx)(I.a,{children:u})}),Object(r.jsx)(_e,{items:p,columnNames:n})]})})]})},Se=function(e){var t=e.item,n=e.update;return Object(r.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(r.jsx)(F.a,{fullWidth:!0,value:t.name,label:"Name",onChange:function(e){t.name=e.target.value,n()}}),Object(r.jsx)(F.a,{fullWidth:!0,value:t.property,label:"Property",onChange:function(e){t.property=e.target.value,n()}}),Object(r.jsx)(F.a,{fullWidth:!0,value:t.type,label:"Type",onChange:function(e){t.type=e.target.value,n()}})]})};Ce.craft={props:{columnNames:[{name:"Colum 1",property:"col1",type:"string"},{name:"Colum 2",property:"col2",type:"string"},{name:"Colum 3",property:"col3",type:"button"}],itemSource:"",updateVariable:!1},related:{settings:function(){var e=Object(S.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(r.jsx)(A,{config:[{type:B,property:"itemSource"},{type:ye,property:"columnNames",component:function(e,n){return Object(r.jsx)(Se,{item:e,update:function(){t((function(e){return e.updateVarible=!e.updateVarible}))}},n)},items:n.columnNames}],properties:n,setProp:t})}}};var ke=function(){var e=Object(S.d)().connectors;return Object(r.jsx)(k.a,{px:2,py:2,children:Object(r.jsxs)(_.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,children:[Object(r.jsx)(k.a,{pb:2,children:Object(r.jsx)(w.a,{children:"Drag to add"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(W,{text:"Click me",size:"small"}))},variant:"contained",children:"Button"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(X,{text:"Hi world"}))},variant:"contained",children:"Text"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(S.b,{is:te,padding:20,canvas:!0}))},variant:"contained",children:"Container"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(re,{}))},variant:"contained",children:"Card"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(je,{}))},variant:"contained",children:"Variable Text"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(ge,{}))},variant:"contained",children:"App Bar"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(S.b,{is:ue,canvas:!0}))},variant:"contained",children:"Path Container"})}),Object(r.jsx)(_.a,{container:!0,direction:"column",item:!0,children:Object(r.jsx)(m.a,{ref:function(t){return e.create(t,Object(r.jsx)(Ce,{}))},variant:"contained",children:"Table"})})]})})},we=n(637),ze=function(){var e=Object(S.d)((function(e,t){var n,a=e.events.selected;return a&&(n={id:a,name:e.nodes[a].data.name,settings:e.nodes[a].related&&e.nodes[a].related.settings,isDeletable:t.node(a).isDeletable()}),{selected:n}})),t=e.actions,n=e.selected;return n?Object(r.jsx)(k.a,{mt:2,px:2,py:2,children:Object(r.jsxs)(_.a,{container:!0,direction:"column",spacing:0,children:[Object(r.jsx)(_.a,{item:!0,children:Object(r.jsx)(k.a,{pb:2,children:Object(r.jsxs)(_.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(_.a,{item:!0,xs:!0,children:Object(r.jsx)(w.a,{variant:"subtitle1",children:"Selected"})}),Object(r.jsx)(_.a,{item:!0,children:Object(r.jsx)(we.a,{size:"small",color:"primary",label:n.name})})]})})}),n.settings&&i.a.createElement(n.settings),n.isDeletable?Object(r.jsx)(m.a,{variant:"contained",color:"default",onClick:function(){t.delete(n.id)},children:"Delete"}):null]})}):null};function Pe(){var e=h.editorQuery;e?(console.log("Saving layout"),localStorage.gameData=JSON.stringify({id:Math.random(),layout:e.serialize()})):console.log("store.editorQuery not set")}var Ne=function(){return Object(c.useEffect)((function(){console.debug("Starting autosave");var e=setInterval((function(){console.log("Saving layout"),Pe()}),1e4);return function(){console.debug("Stopping autosave"),clearInterval(e)}}),[]),null},Ie={};function Te(){try{var e=localStorage.gameData;return e&&(e=JSON.parse(e)),e||null}catch(t){return null}}Object.assign(Ie,a);var De=n(31);function Ee(){var e=Object(S.d)().query;console.log("Loading game data");var t=(Te()||{}).layout;return h.editorQuery=e,Object(r.jsxs)(_.a,{container:!0,children:[Object(r.jsx)(_.a,{item:!0,xs:!0,children:Object(r.jsx)(De.b,{children:Object(r.jsx)(S.c,{data:t,children:Object(r.jsx)(S.b,{is:te,padding:5,background:"#eee",canvas:!0,children:Object(r.jsx)(X,{text:"Start dragging components in (and delete this one)"})})})})}),Object(r.jsx)(_.a,{item:!0,xs:3,children:Object(r.jsxs)(C.a,{className:void 0,children:[Object(r.jsx)(ke,{}),Object(r.jsx)(ze,{})]})})]})}function Ue(){return Object(r.jsx)("div",{children:Object(r.jsxs)(S.a,{resolver:Ie,children:[Object(r.jsx)(Ne,{}),Object(r.jsx)(Ee,{})]})})}function Ae(){var e=Object(c.useState)({}),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(O.g)();return Object(c.useEffect)((function(){var e=Te();e||i.push("/edit"),a(e)}),[i]),Object(r.jsx)("div",{children:Object(r.jsx)(S.a,{resolver:Ie,enabled:!1,children:Object(r.jsx)(De.b,{children:Object(r.jsx)(S.c,{data:n.layout})})})})}var Fe=n(628),Be=n(629),Je=function(){var e=Object(O.g)();return Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{onClick:function(){h.state.drawerOpen=!0,h.update()},children:"Options"}),Object(r.jsx)(m.a,{onClick:function(){e.push("/edit")},children:"Edit"}),Object(r.jsx)(m.a,{onClick:function(){e.push("/code")},children:"Code"}),Object(r.jsx)(m.a,{onClick:function(){Pe(),e.push("/play")},children:"Play"})]})},Me=n(109),Re=n(620),We=Object(Me.a)({palette:{primary:{main:Re.a[900]},secondary:{main:Re.a[100]}}}),He=n(621),qe=n(622),Qe=n(623),Ve=n(624),Le=n(625),Ge=n(638),Ke=n(611),$e=n(569),Ye=n(626),Xe=n(627),Ze=n(107),et=n.n(Ze),tt=n(108),nt=n.n(tt),at=function(e){var t=e.onClose,n={gameData:localStorage.gameData,gameCode:localStorage.gameCode},a=Object(c.useState)(btoa(JSON.stringify(n))),i=Object(b.a)(a,2),o=i[0],s=i[1];return Object(r.jsxs)(He.a,{open:!0,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(qe.a,{id:"alert-dialog-title",children:"Import or export game data"}),Object(r.jsxs)(Qe.a,{children:[Object(r.jsx)(Ve.a,{children:"Copy and paste the existing data somewhere to save it. Or paste in data you have and import it."}),Object(r.jsx)(F.a,{fullWidth:!0,label:"Current Game Data",multiline:!0,rows:4,value:o,onChange:function(e){s(e.target.value)},variant:"filled"})]}),Object(r.jsx)(Le.a,{children:Object(r.jsx)(m.a,{onClick:function(){var e=JSON.parse(atob(o));localStorage.gameData=e.gameData,localStorage.gameCode=e.gameCode,window.location.reload()},color:"primary",children:"Import"})})]})},rt=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ge.a,{open:h.state.drawerOpen,onClose:function(){h.state.drawerOpen=!1,h.update()},children:Object(r.jsxs)(Ke.a,{children:[Object(r.jsxs)($e.a,{button:!0,onClick:function(){delete localStorage.gameData,delete localStorage.gameCode,window.location.reload()},children:[Object(r.jsx)(Ye.a,{children:Object(r.jsx)(et.a,{})}),Object(r.jsx)(Xe.a,{primary:"Reset All",secondary:"Reset all game configuration"})]}),Object(r.jsxs)($e.a,{button:!0,onClick:function(){a(!0)},children:[Object(r.jsx)(Ye.a,{children:Object(r.jsx)(nt.a,{})}),Object(r.jsx)(Xe.a,{primary:"Import / Export",secondary:"Import or export your game data"})]})]})}),n&&Object(r.jsx)(at,{onClose:function(){return a(!1)}})]})},ct=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).update=function(){e.setState({})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){h.update=this.update,Object(g.c)(h.update),Object(g.a)()}},{key:"render",value:function(){return Object(r.jsxs)(Fe.a,{theme:We,children:[Object(r.jsx)(Be.a,{}),Object(r.jsx)(x.Provider,{value:{state:h.state,update:this.update,editorQuery:h.editorQuery},children:Object(r.jsx)(De.a,{basename:"/idling-engine",children:Object(r.jsxs)("div",{children:[Object(r.jsx)(rt,{}),Object(r.jsx)(Je,{}),Object(r.jsxs)(O.d,{children:[Object(r.jsx)(O.b,{path:"/edit",render:function(){return Object(r.jsx)(Ue,{})}}),Object(r.jsx)(O.b,{path:"/code",render:function(){return Object(r.jsx)(y,{})}}),Object(r.jsx)(O.b,{path:"/play",render:function(){return Object(r.jsx)(Ae,{})}}),Object(r.jsx)(O.b,{path:"/",children:Object(r.jsx)(O.a,{to:"/edit"})})]})]})})})]})}}]),n}(c.Component);s.a.render(Object(r.jsx)(ct,{}),document.getElementById("root"))}},[[566,1,2]]]);
//# sourceMappingURL=main.c1fa050c.chunk.js.map
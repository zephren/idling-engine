(this.webpackJsonpcraftjs=this.webpackJsonpcraftjs||[]).push([[0],{15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return setUpdateUIFunction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return game})),__webpack_require__.d(__webpack_exports__,"a",(function(){return executeCode}));var _home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36);function setUpdateUIFunction(e){game.update=e}var game={settings:{tickInterval:1e3},data:{},actions:{},conditionals:{},dataSources:{},visibilitySources:{},configure:function(e){console.log("game.configure not defined")},isInitialized:!1,isGameDataInitialized:!1,_initialize:function(e){console.log("game.initialize not defined")},_initializeGameData:function(){console.log("game.initializeGameData not defined")},get initialize(){return this._initialize},set initialize(e){var t=this;this._initialize=function(n){console.log("Initializing Game"),t.isInitialized=!0,e(n)}},get initializeGameData(){return this._initializeGameData},set initializeGameData(e){var t=this;this._initializeGameData=function(){console.log("Initializing Game Data"),t.isInitialized=!0,e()}},tick:function(){console.log("game.tick not defined")},update:function(){console.log("game.update not defined")}},currentTimeout=null;function tick(){currentTimeout=setTimeout((function(){try{game.tick()}catch(e){console.error(e)}tick()}),game.settings.tickInterval)}function executeCode(){var files=localStorage.gameCode?JSON.parse(localStorage.gameCode):[],finalCode="",_iterator=Object(_home_owner_code_craftjs_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(files),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var file=_step.value;finalCode+=file.code+"\n\n"}}catch(err){_iterator.e(err)}finally{_iterator.f()}var lines=finalCode.split("\n"),numberWidth=Math.floor(Math.log(lines.length));console.log(lines.map((function(e,t){return"".concat((t+1).toString().padEnd(numberWidth)," ").concat(e)})).join("\n"));try{currentTimeout&&clearTimeout(currentTimeout),eval(finalCode);var loadedGameData={};localStorage.savedGameData&&(loadedGameData=JSON.parse(localStorage.savedGameData)),console.log("loadedGameData",loadedGameData),game.isInitialized||game.initialize(loadedGameData),game.configure(game.settings),tick()}catch(err){err.message="GAME SCRIPT ERROR: "+err.message,console.error(err)}}setInterval((function(){var e=JSON.stringify(game.data);localStorage.savedGameData=e}),5e3),window.game=game},160:function(e){e.exports=JSON.parse('{"name":"craftjs","version":"1.0.2","private":true,"dependencies":{"@craftjs/core":"0.1.0-beta.13","@material-ui/core":"^4.11.2","@material-ui/icons":"^4.11.2","@testing-library/jest-dom":"^5.11.6","@testing-library/react":"^11.2.2","@testing-library/user-event":"^12.6.0","@types/jest":"^26.0.19","@types/node":"^12.19.11","@types/react":"^16.14.2","@types/react-dom":"^16.9.10","ace-builds":"^1.4.12","axios":"^0.21.1","material-ui-color-picker":"^3.5.1","react":"^17.0.1","react-ace":"^9.2.1","react-contenteditable":"^3.3.5","react-dom":"^17.0.1","react-markdown":"^5.0.3","react-router-dom":"^5.2.0","react-scripts":"4.0.1","typescript":"^4.1.3","uuid":"^8.3.2","web-vitals":"^0.2.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm version patch && git push && npm run build","deploy":"gh-pages -d build","sync":"git add . && git commit -m \'Sync\' && git push"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/react-router-dom":"^5.1.6","@types/uuid":"^8.3.0","gh-pages":"^3.1.0"},"homepage":"https://zephren.github.io/idling-engine"}')},715:function(e,t,n){},716:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),c=n(16),i=n.n(c),s=n(56),l=n.n(s),u=n(36),p=n(77),d=n(89),j=n(90),m=n(170),b=n(169),f=n(24),O={DEBUG:1,INFO:2,WARN:3,ERROR:4},h=console,g=Object(f.a)({},console);h.logLevels=O,h.logLevel=O.DEBUG,h.debug=function(){if(h.logLevel<=O.DEBUG){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g.debug.apply(g,["DEBUG"].concat(t))}},h.info=function(){if(h.logLevel<=O.INFO){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g.info.apply(g,["INFO"].concat(t))}},h.warn=function(){if(h.logLevel<=O.WARN){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g.warn.apply(g,["WARN"].concat(t))}},h.error=function(){if(h.logLevel<=O.ERROR){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g.error.apply(g,["ERROR"].concat(t))}};console;var x=n(17),v=n(147),y=n.n(v),C=(n(197),n(612),n(613),n(148)),S=n.n(C),_=n(20),N=n(749),k=n(751),w=n(753),D=n(719),I=n(754),P=n(755),G=n(789),z=n(759),F=n(792),E=n(153),T=n.n(E),A=n(152),R=n.n(A),U={state:{localSettings:{highlightComponents:!0,previousHighlightComponents:!0,styleDrawerOpen:!1,styleDrawerComponentName:"",styleDrawerStyleId:"",lastCodeFile:""},optionsDrawerOpen:!1},editorQuery:null,update:function(){console.log("Update function not defined")}},B=o.a.createContext(U);window.store=U;var J=n(15),W=n(787),L="\n\n// You may wish to move each of the following to its own file\n\ngame.configure = (settings) => {\n  // Update any game settings here\n  // settings.tickInterval = 5000\n}\n\ngame.initialize = (loadedGameData) => {\n  // Code executed when the application starts up\n  game.data = new GameData(loadedGameData);\n}\n\ngame.initializeGameData = () => {\n  // Code executed when the resetting the game data\n  game.data = new GameData({});\n  game.update();\n}\n\ngame.tick = () => {\n  // The main function to handle game logic\n};\n\n// Define actions using game.actions ...\n// Define conditionals using game.conditionals ...\n\ngame.actions.buttonClick = () => {\n  game.data.counter++;\n  game.update();\n}\n",M="\n\nclass GameData {\n  constructor(data) {\n    this._updateData(data);\n\n    // Set the data\n    for (const property in data) {\n      this[property] = data[property];\n    }\n  }\n\n  _updateData() {\n    // Use this to update game data as changes are made\n    if (!this.counter) {\n      this.counter = 0;\n    }\n  }\n\n  // Can use getters as well for use with variableText\n}\n";function H(){localStorage.localSettings=JSON.stringify(U.state.localSettings)}var V=localStorage.gameCode?JSON.parse(localStorage.gameCode):[],q=Object(N.a)((function(e){return{fileName:{fontSize:e.typography.fontSize}}}));function Q(){var e=Object(_.g)(),t=q(),n=Object(r.useState)(!1),o=Object(x.a)(n,2),c=o[0],i=o[1],s=Object(r.useState)(!1),l=Object(x.a)(s,2),u=l[0],p=l[1],d=Object(r.useState)({}),j=Object(x.a)(d,2),m=j[0],b=j[1];function O(){localStorage.gameCode=JSON.stringify(V)}function h(e,t){V.push({id:Object(W.a)(),name:e,code:t})}return Object(r.useContext)(B),Object(r.useEffect)((function(){var e=setInterval((function(){O()}),1e3);return function(){clearInterval(e),O(),Object(J.a)(),J.b.initialize(J.b.data)}}),[]),0===V.length&&(h("main","//main\n"+L),h("gameData","//gameData\n"+M)),Object(a.jsxs)(k.a,{container:!0,style:{position:"absolute",top:"37px",bottom:"0px",width:"100%"},children:[Object(a.jsx)(k.a,{item:!0,sm:2,style:{position:"relative"},children:Object(a.jsxs)(w.a,{dense:!0,style:{overflowY:"auto",position:"absolute",width:"100%",top:"0px",bottom:"0px"},children:[V.map((function(n,r){var o=e.location.pathname.includes(n.id);return Object(a.jsxs)(D.a,{style:{cursor:"pointer"},selected:o,onClick:function(){!function(t,n){if(u){var a=Object(f.a)({},m);a[n]=!a[n],b(a)}else U.state.localSettings.lastCodeFile=t,H(),e.push("/code/".concat(t))}(n.id,r)},children:[u&&Object(a.jsx)(I.a,{children:m[r]?Object(a.jsx)(R.a,{}):Object(a.jsx)(T.a,{})}),o?Object(a.jsx)(P.a,{primary:Object(a.jsx)(G.a,{value:n.name,onChange:function(e){n.name=e.target.value,i(!c)},size:"small",inputProps:{className:t.fileName}})}):Object(a.jsx)(P.a,{primary:n.name})]},n.id)})),Object(a.jsx)(z.a,{}),Object(a.jsx)(D.a,{button:!0,onClick:function(){var e="New File ".concat(V.length);h(e,"//".concat(e)),i(!c)},children:Object(a.jsx)(P.a,{primary:"+ New File"})}),Object(a.jsx)(z.a,{}),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(P.a,{primary:"Delete Files"}),Object(a.jsx)(F.a,{onChange:function(e){u&&(V=V.filter((function(e,t){return!m[t]})),b({})),p(e.target.checked)},checked:u})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(P.a,{primary:"Ctrl + Shift + B - Beautify"})})]})}),Object(a.jsx)(k.a,{item:!0,sm:10,style:{background:"red",position:"relative"},children:Object(a.jsxs)(_.d,{children:[V.map((function(e){return Object(a.jsx)(_.b,{path:"/code/".concat(e.id),render:function(){return Object(a.jsx)("div",{style:{position:"absolute",width:"100%",top:"0px",bottom:"0px"},children:Object(a.jsx)(y.a,{mode:"javascript",theme:"monokai",onChange:function(t){e.code=t},name:"Code Editor",editorProps:{$blockScrolling:!0},style:{width:"100%",height:"100%",fontSize:"1.1em"},value:e.code,tabSize:2,commands:S.a.commands,focus:!0})})}},e.id)})),Object(a.jsx)(_.b,{path:"/code",children:Object(a.jsx)(_.a,{to:"/code/".concat(V[0].id)})})]})})]})}var K=n(761),Y=n(117),$=n(99),X=n.n($),Z=n(25),ee=new(function(){function e(){Object(d.a)(this,e),this.components={}}return Object(j.a)(e,[{key:"addComponent",value:function(e){this.components[e.name]={name:e.name,component:e}}}]),e}()),te=n(788);function ne(e){var t=e.parts,n=[];return Object(a.jsx)(te.a,{"aria-label":"breadcrumb",children:t.map((function(e,t){var r=Object(x.a)(e,2),o=r[0],c=r[1];return c&&n.push(c),Object(a.jsx)(Z.c,{to:"/".concat(n.join("/")),children:o},n.join(""))}))})}function ae(){return Object.keys(ee.components).map((function(e){var t=ee.components[e];return"[".concat(t.name,"](/components/").concat(t.name,")")}))}var re={link:function(e){return Object(a.jsx)(Z.c,{to:e.href,children:e.children})}},oe=Object(N.a)((function(){return{paper:{padding:"1em"}}}));function ce(){var e=oe();return console.log("Documentation render"),Object(a.jsx)(K.a,{children:Object(a.jsx)(Y.a,{className:e.paper,children:Object(a.jsx)(Z.a,{basename:"/idling-engine/documentation",children:Object(a.jsx)("div",{className:"markdown-container",children:Object(a.jsxs)(_.d,{children:[Object(a.jsx)(_.b,{path:"/components/:componentName",render:function(e){var t=ee.components[e.match.params.componentName].component;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ne,{parts:[["Documentation",""],["Components","components"],[t.name,t.name]]}),Object(a.jsx)(X.a,{plugins:[],children:t.documentation.md,renderers:re})]})}}),Object(a.jsx)(_.b,{path:"/components",render:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ne,{parts:[["Documentation",""],["Components","components"]]}),Object(a.jsx)(X.a,{plugins:[],children:"\n# Components\n".concat(ae().join("\n\n"),"\n"),renderers:re})]})}}),Object(a.jsx)(_.b,{path:"/",render:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ne,{parts:[["Documentation",""]]}),Object(a.jsx)(X.a,{plugins:[],children:"\n# Idling Engine\n\n## Components\n".concat(ae().join("\n\n"),"\n  "),renderers:re})]})}})]})})})})})}var ie=n(9),se=n(784),le=n(72),ue=n(763),pe=n(794),de=n(171),je=n(764),me=n(765),be=n(766),fe=n(767),Oe=n(768),he=function(e){var t=e.component;return e.items.map((function(e,n){return t(e,n)}))},ge=n(760),xe=n(762),ve=n(791),ye=n(758),Ce=n(785),Se=function(e){var t,n=e.value,r=e.items,o=e.label,c=e.onChange,i=[],s=Object(u.a)(r);try{for(s.s();!(t=s.n()).done;){var l=t.value,p="",d=null;"string"===typeof l?(p=l,d=l):(p=l.name,d=l.value),i.push(Object(a.jsx)(xe.a,{value:d,children:p},p))}}catch(m){s.e(m)}finally{s.f()}var j=null;return o&&(j=Object(a.jsx)(ve.a,{shrink:!0,children:o})),Object(a.jsxs)(ye.a,{fullWidth:!0,children:[j,Object(a.jsx)(Ce.a,{value:n||"",onChange:c,children:i})]})},_e=n(97),Ne=n.n(_e),ke=function(e){var t=e.property,n=e.value,r=e.itemsFn,o=e.setProp;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Se,{value:n||"",items:r(),onChange:function(e){o((function(n){return n[t]=e.target.value}))}}),Object(a.jsx)(ge.a,{onClick:function(){o((function(e){return e[t]=null}))},children:Object(a.jsx)(Ne.a,{})})]})},we=(n(793),function(e){var t=e.property,n=e.value,r=e.setProp;return Object(a.jsx)(G.a,{fullWidth:!0,value:n||"",onChange:function(e){r((function(n){n[t]=e.target.value}))}})}),De={},Ie=n(156),Pe=n.n(Ie);function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};U.state.localSettings.styleDrawerOpen=!0,U.state.localSettings.previousHighlightComponents=U.state.localSettings.highlightComponents,U.state.localSettings.highlightComponents=!1,e.componentName&&(U.state.localSettings.styleDrawerComponentName=e.componentName,U.state.localSettings.styleDrawerStyleId=e.styleId||"",De[e.componentName]=De[e.componentName]||{}),H(),U.update()}var ze=function(e){var t=e.property,n=e.value,r=e.componentName,o=e.setProp;return De[r]&&0!==Object.keys(De[r]).length?Object(a.jsxs)(se.a,{display:"flex",alignItems:"flex-end",children:[Object(a.jsx)(se.a,{flexGrow:1,children:Object(a.jsx)(Se,{value:n||"",items:Object.keys(De[r]).map((function(e){return{value:e,name:De[r][e]._name}})),onChange:function(e){o((function(n){return n[t]=e.target.value}))}})}),Object(a.jsxs)(se.a,{children:[Object(a.jsx)(ge.a,{onClick:function(){o((function(e){return e[t]=null}))},children:Object(a.jsx)(Ne.a,{})}),Object(a.jsx)(ge.a,{onClick:function(){Ge({componentName:r,styleId:n})},children:Object(a.jsx)(Pe.a,{})})]})]}):Object(a.jsx)(ue.a,{fullWidth:!0,variant:"contained",onClick:function(){Ge({componentName:r})},children:"Define a Style"})},Fe=function(e){var t=e.config,n=e.properties,r=e.setProp,o=[];if(!n)return console.error(t,new Error),null;var c,i=Object(u.a)(t);try{for(i.s();!(c=i.n()).done;){var s=c.value,l=s.property,p=Object(de.a)(s,["property"]),d=n[l];o.push(Object(a.jsxs)(je.a,{children:[Object(a.jsx)(me.a,{component:"td",scope:"row",style:{verticalAlign:"top"},children:l}),Object(a.jsx)(me.a,{children:Object(a.jsx)(s.type,Object(f.a)({property:l,value:d,setProp:r},p))})]},l))}}catch(j){i.e(j)}finally{i.f()}return Object(a.jsx)(be.a,{children:Object(a.jsx)(fe.a,{size:"small",children:Object(a.jsx)(Oe.a,{children:o})})})},Ee=n(68),Te=Object(N.a)((function(e){return{componentEditing:{boxShadow:"inset 0em 0em 0em 2px rgba(255, 50, 50, 1)",minHeight:"5px",minWidth:"5px",padding:"10px!important"},componentSelected:{boxShadow:"inset 0em 0em 0em 2px green"}}}));function Ae(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return[].concat(Object(Ee.a)(a),[e&&U.state.localSettings.highlightComponents?n.componentEditing:"",t?n.componentSelected:""]).join(" ")}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.additionalClasses,n=void 0===t?[]:t,a=Object(r.useContext)(B),o=Object(ie.e)((function(e){return{selected:e.events.selected}})),c=o.connectors,i=c.connect,s=c.drag,l=o.selected,u=Object(ie.d)((function(e){return{enabled:e.options.enabled}})),p=u.enabled,d=Te(),j=Ae(p,l,d,n),m=function(e){return i(s(e))};return{refFn:m,selected:l,enabled:p,componentClassName:j,store:a}}var Ue={};function Be(e){console.log("Registering custom component ".concat(e.name)),Ue[e.name]=e,ee.addComponent(e)}window.registerCustomComponent=Be,window.useSetupComponent=Re;var Je=function(e){return Object(Ee.a)(Object.keys(Ue).reduce((function(t,n){var a=Ue[n];return a.toolboxItem&&t.push(a.toolboxItem(e)),t}),[]))},We=function(){var e=Object(ie.d)(),t=e.connectors,n=e.actions,o=Object(r.useState)(null),c=Object(x.a)(o,2),i=c[0],s=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(se.a,{px:2,py:2,children:Object(a.jsxs)(k.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,children:[Object(a.jsxs)(se.a,{pb:2,children:[Object(a.jsx)(le.a,{children:"Drag to add"}),"Highlight components",Object(a.jsx)(F.a,{checked:U.state.localSettings.highlightComponents,onChange:function(){U.state.localSettings.highlightComponents=!U.state.localSettings.highlightComponents,H(),U.update()}})]}),Je(t).map((function(e){return Object(a.jsx)(k.a,{container:!0,direction:"column",item:!0,children:Object(a.jsx)(ue.a,{ref:e.ref,variant:"contained",onClick:function(){n.selectNode(),s({component:e.component})},children:e.name})},e.name)}))]})}),i?Object(a.jsx)(Me,{component:i.component}):null]})},Le={margin:{property:"margin",type:we},padding:{property:"padding",type:we},height:{property:"height",type:we}},Me=function(e){var t=e.component,n=t.baseStyle;if(!n)return null;var r=[];for(var o in n){var c=Le[o];r.push(c)}return Object(a.jsx)(se.a,{mt:2,px:2,py:2,children:Object(a.jsxs)(k.a,{container:!0,direction:"column",spacing:0,children:[Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(se.a,{pb:2,children:Object(a.jsxs)(k.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:!0,children:Object(a.jsx)(le.a,{variant:"subtitle1",children:"Base Component Config"})}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(pe.a,{size:"small",color:"primary",label:t.name})})]})})}),Object(a.jsx)(Fe,{config:r,properties:n,setProp:function(e){var a=Object.assign({},n);e(a),t.baseStyle=a,U.update()}})]})})},He=function(){var e=Object(ie.d)((function(e,t){var n,a=e.events.selected;return a&&(n={id:a,name:e.nodes[a].data.name,settings:e.nodes[a].related&&e.nodes[a].related.settings,isDeletable:t.node(a).isDeletable()}),{selected:n}})),t=e.actions,n=e.selected;return n?Object(a.jsx)(se.a,{mt:2,px:2,py:2,children:Object(a.jsxs)(k.a,{container:!0,direction:"column",spacing:0,children:[Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(se.a,{pb:2,children:Object(a.jsxs)(k.a,{container:!0,alignItems:"center",children:[Object(a.jsx)(k.a,{item:!0,xs:!0,children:Object(a.jsx)(le.a,{variant:"subtitle1",children:"Selected"})}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(pe.a,{size:"small",color:"primary",label:n.name})})]})})}),n.settings&&o.a.createElement(n.settings),n.isDeletable?Object(a.jsx)(ue.a,{variant:"contained",color:"default",onClick:function(){t.delete(n.id)},children:"Delete"}):null]})}):null},Ve=n(770),qe=n(771),Qe=function(e){e.property;var t=e.value,n=e.onChange;return Object(a.jsx)(F.a,{checked:t||!1,onChange:n})},Ke={md:"\n# AppBar\n\n## Properties\n\n\n"},Ye=n(786),$e=n(769);function Xe(e){var t=e.path,n=e.tabs,r=e.className,o=Object(ie.e)().connectors.connect,c=Object(_.g)(),i=function(e,t){var n=null;for(var a in t){var r=t[a];if(r.default&&(n=r),e.match(r.path))return[parseInt(a),r]}return n?[-1,n]:[-1,null]}(t,n),s=Object(x.a)(i,2),l=s[0],u=s[1];return-1===l?(u&&c.push(u.to),null):Object(a.jsx)(Ye.a,{ref:o,value:l,onChange:function(e,t){var a=n[t];c.push(a.to)},className:r,children:n.map((function(e){return e.visibilitySource&&!J.b.visibilitySources[e.visibilitySource]()?null:Object(a.jsx)($e.a,{label:e.name,className:r},e.name)}))})}var Ze=Object(N.a)((function(e){return{root:{flexGrow:1},spacer:{flexGrow:1},fullHeight:Object(f.a)({},e.mixins.toolbar)}}));function et(e){var t=e.tabs,n=Ze(),o=Re({additionalClasses:[n.root]}),c=o.refFn,i=o.componentClassName,s=o.store,l=Object(_.g)(),u=Object(r.useState)(!0),p=Object(x.a)(u,2),d=p[0],j=p[1];return Object(a.jsx)("div",{ref:c,className:n.root,onClick:function(){setTimeout((function(){j(!d),s.update()}))},children:Object(a.jsx)(Ve.a,{position:"static",className:i,children:Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(Xe,{path:l.location.pathname,tabs:t,className:n.fullHeight}),Object(a.jsx)("div",{className:n.spacer})]})})})}et.craft={props:{tabs:[{name:"Tab 1",path:"tab1",to:"/tab1",default:!0},{name:"Tab 2",path:"tab2",to:"/tab2"},{name:"Tab 3",path:"tab3",to:"/tab3"}]},related:{settings:function(){var e=Object(ie.e)((function(e){return{props:e.data.props,triggerUpdate:!!e.data.props.triggerUpdate,tabs:e.data.props.tabs}})),t=e.actions.setProp,n=e.triggerUpdate,r=e.tabs,o=Object.keys(J.b.visibilitySources);return Object(a.jsxs)("div",{children:[r.map((function(e,c){return Object(a.jsx)(Fe,{config:[{type:we,property:"name"},{type:we,property:"path"},{type:we,property:"to"},{type:ke,property:"visibilitySource",itemsFn:function(){return o}},{type:Qe,property:"default",onChange:function(){return function(e){var a,o=Object(u.a)(r);try{for(o.s();!(a=o.n()).done;)a.value.default=!1}catch(c){o.e(c)}finally{o.f()}return e.default=!0,t((function(e){e.triggerUpdate=!n}))}(e)}}],properties:e,setProp:function(a){a(e),t((function(e){e.triggerUpdate=!n}))}})})),Object(a.jsx)(ue.a,{onClick:function(){return r.push({name:"New Tab",path:"",to:""}),t((function(e){return e.triggerUpdate=!n}))},children:"Add Tab"})]})}}},et.documentation=Ke,et.toolboxItem=function(e){return{name:"AppBar",component:et,ref:function(t){return e.create(t,Object(a.jsx)(et,{}))}}},Be(et);function tt(e,t,n){var a=Object(r.useState)(null),o=Object(x.a)(a,2),c=o[0],i=o[1],s=null;return n&&(s=t[n]),(c&&s&&s.customId!==c.customId||!c&&s)&&i(Object(f.a)(Object(f.a)({},e),s)),c&&!s&&i(null),c||e}var nt={md:"\n# Button\n\n## Properties\n\n### onClickAction\nThis is an action made avaiable from `game.actions`. No parameters are passed to the action.\n"},at=function e(t){var n=t.size,r=t.variant,o=t.color,c=t.text,i=t.onClickAction,s=t.actionContext,l=t.customStyleName,u=Re(),p=u.refFn,d=u.componentClassName,j=tt(e.baseStyle,De.Button,l);return Object(a.jsx)(ue.a,{style:j,ref:p,className:d,size:n,variant:r,color:o,onClick:function(){var e=J.b.actions[i];e&&(e(s),U.update())},children:c})};at.craft={props:{size:"small",variant:"contained",color:"primary",text:"Button"},related:{settings:function(){var e=Object(ie.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(Fe,{config:[{type:ze,property:"customStyleName",componentName:n},{type:ke,property:"onClickAction",itemsFn:function(){return Object.keys(J.b.actions)}},{type:we,property:"text"}],properties:r,setProp:t})}}},at.baseStyle={margin:"0em"},at.styleProperties=[{property:"padding",type:we}],at.documentation=nt,at.toolboxItem=function(e){return{name:"Button",component:at,ref:function(t){return e.create(t,Object(a.jsx)(at,{}))}}},Be(at);var rt={md:"\n# Text\n\n## Properties\n\n### text\nThe text to show\n\n"},ot=function e(t){var n=t.text,r=t.customStyleName,o=Re(),c=o.refFn,i=o.componentClassName,s=tt(e.baseStyle,De.Text,r);return Object(a.jsx)("span",{ref:c,className:i,style:s,children:n})};ot.craft={props:{text:"Text"},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(ie.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(Fe,{config:[{type:ze,property:"customStyleName",componentName:n},{type:we,property:"text",componentName:n}],properties:r,setProp:t})}}},ot.baseStyle={margin:"0em"},ot.styleProperties=[{property:"fontSize",type:we}],ot.documentation=rt,ot.toolboxItem=function(e){return{name:"Text",component:ot,ref:function(t){return e.create(t,Object(a.jsx)(ot,{text:"Some text"}))}}},Be(ot);var ct=n(772),it=n(773),st=(n(774),function(e){var t=e.children,n=Object(ie.e)().connectors.connect;return Object(a.jsx)(ct.a,{ref:n,className:"text-only",children:t})});st.craft={rules:{}};var lt=function(e){var t=e.children,n=Object(ie.e)().connectors.connect;return Object(a.jsx)(it.a,{ref:n,children:t})};lt.craft={rules:{canMoveIn:function(e){return e.data.type===at}}};function ut(e,t){if(!e)return{};var n={};if(J.b.visibilitySources[e]&&!J.b.visibilitySources[e]()){if(!t)return null;n.opacity="0.25"}return n}var pt={md:"\n# Container\n\n## Properties\n\n\n"},dt=function e(t){var n=t.children,r=t.visibilitySource,o=Re(),c=o.refFn,i=o.componentClassName,s=ut(r,o.enabled);return s?Object(a.jsx)(K.a,{ref:c,style:Object(f.a)(Object(f.a)({},e.baseStyle),s),className:i,children:n}):null};dt.craft={props:{padding:"0px"},related:{settings:function(){var e=Object(ie.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(a.jsx)(Fe,{config:[{type:ke,property:"visibilitySource",itemsFn:function(){return Object.keys(J.b.visibilitySources)}}],properties:n,setProp:t})}}},dt.baseStyle={padding:"0em"},dt.documentation=pt,dt.toolboxItem=function(e){return{name:"Container",component:dt,ref:function(t){return e.create(t,Object(a.jsx)(ie.b,{is:dt,canvas:!0,children:Object(a.jsx)(ot,{text:"Container"})}))}}},Be(dt);var jt=[{name:"3",value:3},{name:"4",value:4},{name:"6",value:6}],mt={md:"\n# GridContainer\n\n## Properties\n\n\n\n"},bt={md:"\n# GridItem\n\n## Properties\n\n\n\n"},ft=Object(N.a)((function(){return{root:{flexGrow:1}}})),Ot=function(e){var t=e.children,n=e.visibilitySource,r=Re({additionalClasses:[ft().root]}),o=r.refFn,c=r.componentClassName,i=ut(n,r.enabled);return i?Object(a.jsx)(k.a,{container:!0,ref:o,className:c,style:i,spacing:2,children:t}):null};Ot.craft={props:{},related:{settings:function(){var e=Object(ie.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(a.jsx)(Fe,{config:[{type:ke,property:"visibilitySource",itemsFn:function(){return Object.keys(J.b.visibilitySources)}}],properties:n,setProp:t})}}};var ht=function e(t){var n=t.children,r=t.size,o=t.visibilitySource,c=t.customStyleName,i=Re(),s=i.refFn,l=i.componentClassName,u=i.enabled,p=tt(e.baseStyle,De.GridItem,c),d=ut(o,u);return d?Object(a.jsx)(k.a,{item:!0,xs:r,ref:s,className:l,style:d,children:Object(a.jsx)(Y.a,{style:p,children:n})}):null};ht.craft={props:{size:6},related:{settings:function(){var e=Object(ie.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(Fe,{config:[{type:ze,property:"customStyleName",componentName:n},{type:ke,property:"size",itemsFn:function(){return jt}},{type:ke,property:"visibilitySource",itemsFn:function(){return Object.keys(J.b.visibilitySources)}}],properties:r,setProp:t})}}},ht.baseStyle={padding:"0em",height:"100%"},ht.styleProperties=[{property:"padding",type:we}],Ot.documentation=mt,ht.documentation=bt,ee.addComponent(Ot),ee.addComponent(ht),Ot.toolboxItem=function(e){return{name:"GridContainer",component:Ot,ref:function(t){return e.create(t,Object(a.jsxs)(ie.b,{is:Ot,canvas:!0,children:[Object(a.jsx)(ie.b,{is:ht,canvas:!0,children:Object(a.jsx)(ot,{text:"Grid Item"})}),Object(a.jsx)(ie.b,{is:ht,canvas:!0,children:Object(a.jsx)(ot,{text:"Grid Item"})})]}))}}},Be(Ot),ht.toolboxItem=function(e){return{name:"GridItem",component:ht,ref:function(t){return e.create(t,Object(a.jsx)(ie.b,{is:ht,canvas:!0,children:Object(a.jsx)(ot,{text:"Grid Item"})}))}}},Be(ht);var gt=n(157),xt=n.n(gt),vt=n(158),yt=n.n(vt),Ct={md:"\n# PathContainer\n\n## Properties\n\n\n"},St=Object(N.a)((function(e){return{main:{padding:"0em"}}})),_t=function e(t){var n=t.path,r=t.children,o=t.customStyleName,c=Object(_.g)(),i=Re({additionalClasses:[St().main]}),s=i.refFn,l=i.enabled,u=i.componentClassName,p=c.location.pathname.includes(n),d=tt(e.baseStyle,De.PathContainer,o);return Object(a.jsxs)(K.a,{ref:s,className:u,style:d,children:[l&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{float:"right",height:"0em"},children:p?Object(a.jsx)(xt.a,{}):Object(a.jsx)(yt.a,{})}),n," : ",c.location.pathname]}),p?r:null]})};_t.styleProperties=[{property:"margin",type:we}];_t.craft={props:{path:"/tab1"},related:{settings:function(){var e=Object(ie.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(Fe,{config:[{type:ze,property:"customStyleName",componentName:n},{type:we,property:"path"}],properties:r,setProp:t})}}},_t.baseStyle={margin:"0em"},_t.documentation=Ct,_t.toolboxItem=function(e){return{name:"PathContainer",component:_t,ref:function(t){return e.create(t,Object(a.jsx)(ie.b,{is:_t,canvas:!0}))}}},Be(_t);var Nt=n(775),kt={md:"\n# Table\n\n## Properties\n\n"},wt=function(e){var t=e.items,n=e.columnNames,r=[],o={item:{},index:"0",column:{}};try{for(var c in t){var i=t[c],s=[];for(var l in o.item=i,n){var u=n[l];o.index=l,o.column=u;var p=u.name,d=i[u.property];switch(u.type){case"string":if("string"!==typeof d)throw new Error("Trying to use a non-string value as a string");s.push(Object(a.jsx)(me.a,{children:d},p));break;case"variableString":if(!d.data)throw new Error("No data function for a variableString");s.push(Object(a.jsx)(me.a,{children:d.data()},p));break;case"button":if(!d.onClickAction)throw new Error("No onClickAcion function for a button");s.push(Object(a.jsx)(me.a,{children:Object(a.jsx)(at,{text:d.text,variant:"contained",color:"primary",onClickAction:d.onClickAction,actionContext:i})},p))}}r.push(Object(a.jsx)(je.a,{children:s},c))}}catch(j){return Object(a.jsx)(Oe.a,{children:Object(a.jsxs)(me.a,{children:[Object(a.jsxs)("div",{children:["Table Data Error! ",j.message]}),Object(a.jsxs)("div",{children:["Column Index: ",o.index]}),Object(a.jsxs)("div",{children:["Column Type: ",o.column.type]}),Object(a.jsxs)("div",{children:["Item Data: ",JSON.stringify(o.item)]})]})})}return Object(a.jsx)(Oe.a,{children:r})},Dt=function(e){var t,n=e.columnNames,r=void 0===n?[]:n,o=e.itemSource,c=Re(),i=c.refFn,s=c.componentClassName,l=[],p=Object(u.a)(r);try{for(p.s();!(t=p.n()).done;){var d=t.value;l.push(Object(a.jsx)(me.a,{children:d.name},d.name))}}catch(b){p.e(b)}finally{p.f()}var j=J.b.dataSources[o],m=j?j():[];return Object(a.jsx)("div",{ref:i,className:s,children:Object(a.jsx)(be.a,{children:Object(a.jsxs)(fe.a,{size:"small",children:[Object(a.jsx)(Nt.a,{children:Object(a.jsx)(je.a,{children:l})}),Object(a.jsx)(wt,{items:m,columnNames:r})]})})})},It=function(e){var t=e.item,n=e.update;return Object(a.jsxs)("div",{style:{marginBottom:"1em"},children:[Object(a.jsx)(G.a,{fullWidth:!0,value:t.name,label:"Name",onChange:function(e){t.name=e.target.value,n()}}),Object(a.jsx)(G.a,{fullWidth:!0,value:t.property,label:"Property",onChange:function(e){t.property=e.target.value,n()}}),Object(a.jsx)(Se,{value:t.type||"",items:[{name:"String",value:"string"},{name:"Button",value:"button"},{name:"Variable String",value:"variableString"}],label:"Type",onChange:function(e){t.type=e.target.value,n()}})]})};Dt.craft={props:{columnNames:[{name:"Colum 1",property:"col1",type:"string"},{name:"Colum 2",property:"col2",type:"string"},{name:"Colum 3",property:"col3",type:"button"}],itemSource:"",updateVariable:!1},related:{settings:function(){var e=Object(ie.e)((function(e){return{props:e.data.props}})),t=e.actions.setProp,n=e.props;return Object(a.jsx)(Fe,{config:[{type:ke,property:"itemSource",itemsFn:function(){return Object.keys(J.b.dataSources)}},{type:he,property:"columnNames",component:function(e,n){return Object(a.jsx)(It,{item:e,update:function(){t((function(e){return e.updateVarible=!e.updateVarible}))}},n)},items:n.columnNames}],properties:n,setProp:t})}}},Dt.documentation=kt,Dt.toolboxItem=function(e){return{name:"Table",component:Dt,ref:function(t){return e.create(t,Object(a.jsx)(Dt,{}))}}},Be(Dt);var Pt={md:"\n# VariableText\n\n## Properties\n\n"},Gt=function e(t){var n,r=t.dataProperty,o=t.subProperty,c=t.customStyleName,i=Re(),s=i.refFn,l=i.componentClassName,u=tt(e.baseStyle,De.VariableText,c),p=J.b.data[r];return p&&o&&(p=p[o]),"object"===typeof p&&(p=void 0),Object(a.jsx)("span",{ref:s,className:l,style:u,children:null!==(n=p)&&void 0!==n?n:"##NO VALUE##"})};Gt.craft={props:{},rules:{canDrag:function(e){return!0}},related:{settings:function(){var e=Object(ie.e)((function(e){return{componentName:e.data.name,props:e.data.props}})),t=e.actions.setProp,n=e.componentName,r=e.props;return Object(a.jsx)(Fe,{config:[{type:ze,property:"customStyleName",componentName:n},{type:we,property:"dataProperty"},{type:we,property:"subProperty"}],properties:r,setProp:t})}}},Gt.baseStyle={margin:"0em"},Gt.styleProperties=[{property:"fontSize",type:we}],Gt.documentation=Pt,Gt.toolboxItem=function(e){return{name:"VariableText",component:Gt,ref:function(t){return e.create(t,Object(a.jsx)(Gt,{}))}}},Be(Gt);var zt={gameData:null,customComponents:[]};function Ft(){var e=U.editorQuery;if(e){console.debug("Saving game data");var t={};for(var n in Ue){var a=Ue[n];t[n]=a.baseStyle}var r=e.serialize();"{}"===r&&(r=null),zt.gameData={id:Math.random(),layout:r,baseStyles:t,customStyles:De,customComponents:zt.customComponents},localStorage.gameData=JSON.stringify(zt.gameData)}else console.error("store.editorQuery not set")}var Et=function(){return Object(r.useEffect)((function(){console.debug("Starting autosave");var e=setInterval((function(){Ft()}),2e3);return function(){console.debug("Stopping autosave"),clearInterval(e)}}),[]),null},Tt=Object(N.a)((function(e){return{gameArea:{background:"#eee"}}}));function At(){var e=Object(ie.d)().query,t=Tt();return Object(r.useEffect)((function(){return function(){Ft()}}),[]),U.editorQuery=e,Object(a.jsxs)(k.a,{container:!0,children:[Object(a.jsx)(k.a,{item:!0,xs:!0,className:t.gameArea,children:Object(a.jsx)(Z.b,{children:Object(a.jsx)(ie.c,{data:zt.gameData.layout,children:Object(a.jsx)(ie.b,{is:dt,padding:5,canvas:!0,children:Object(a.jsx)(ot,{text:"Start dragging components in (and delete this one)"})})})})}),Object(a.jsx)(k.a,{item:!0,xs:3,children:Object(a.jsxs)(Y.a,{className:void 0,children:[Object(a.jsx)(We,{}),Object(a.jsx)(He,{})]})})]})}function Rt(){return Object(a.jsx)("div",{children:Object(a.jsxs)(ie.a,{resolver:Ue,children:[Object(a.jsx)(Et,{}),Object(a.jsx)(At,{})]})})}function Ut(){var e=Object(_.g)(),t=Tt();return Object(r.useEffect)((function(){zt.gameData||(console.error(new Error("No gameData routing to /edit")),e.push("/edit"))}),[e]),Object(a.jsx)("div",{className:t.gameArea,children:Object(a.jsx)(ie.a,{resolver:Ue,enabled:!1,children:Object(a.jsx)(Z.b,{children:Object(a.jsx)(ie.c,{data:zt.gameData.layout})})})})}var Bt=n(782),Jt=n(783),Wt=n(159),Lt=n.n(Wt),Mt=function(){var e=Object(_.g)(),t=e.location.pathname,n=Object(r.useState)(!1),o=Object(x.a)(n,2),c=o[0],i=o[1];function s(t){e.push(t),i(!c)}return Object(r.useContext)(B),Object(a.jsxs)("div",{children:[Object(a.jsx)(ue.a,{onClick:function(){U.state.optionsDrawerOpen=!0,U.update()},children:Object(a.jsx)(Lt.a,{})}),Object(a.jsx)(ue.a,{onClick:function(){s("/edit")},variant:t.includes("/edit")?"contained":void 0,color:"primary",children:"Edit"}),Object(a.jsx)(ue.a,{onClick:function(){var e=U.state.localSettings.lastCodeFile;e&&(e="/".concat(e)),s("/code".concat(e))},variant:t.includes("/code")?"contained":void 0,color:"primary",children:"Code"}),Object(a.jsx)(ue.a,{onClick:function(){Ge()},children:"Styling"}),Object(a.jsx)(ue.a,{onClick:function(){Ft(),s("/play")},variant:t.includes("/play")?"contained":void 0,color:"primary",children:"Play"}),Object(a.jsx)(ue.a,{onClick:function(){s("/documentation")},variant:t.includes("/documentation")?"contained":void 0,color:"primary",children:"Documentation"})]})},Ht=n(168),Vt=n(776),qt=Object(Ht.a)({palette:{primary:{main:Vt.a[900]},secondary:{main:Vt.a[100]}}}),Qt=n(795),Kt=n(116),Yt=n.n(Kt),$t=n(166),Xt=n.n($t),Zt=n(167),en=n.n(Zt),tn=n(160),nn=n(777),an=n(778),rn=n(779),on=n(780),cn=n(781),sn=function(e){var t=e.onClose,n={gameData:localStorage.gameData,gameCode:localStorage.gameCode},o=Object(r.useState)(btoa(JSON.stringify(n))),c=Object(x.a)(o,2),i=c[0],s=c[1];return Object(a.jsxs)(nn.a,{open:!0,onClose:t,children:[Object(a.jsx)(an.a,{children:"Import or export game data"}),Object(a.jsxs)(rn.a,{children:[Object(a.jsx)(on.a,{children:"Copy and paste the existing data somewhere to save it. Or paste in data you have and import it."}),Object(a.jsx)(G.a,{fullWidth:!0,label:"Current Game Data",multiline:!0,rows:4,value:i,onChange:function(e){s(e.target.value)},variant:"filled"})]}),Object(a.jsx)(cn.a,{children:Object(a.jsx)(ue.a,{onClick:function(){var e=JSON.parse(atob(i));localStorage.gameData=e.gameData,localStorage.gameCode=e.gameCode,window.location.reload()},color:"primary",children:"Import"})})]})},ln=function(e){var t=e.onClose;return Object(a.jsxs)(nn.a,{open:!0,onClose:t,children:[Object(a.jsx)(an.a,{children:"Reset Game Configuration"}),Object(a.jsx)(rn.a,{children:Object(a.jsx)(on.a,{children:"Are you sure you want to reset the curret game data?"})}),Object(a.jsxs)(cn.a,{children:[Object(a.jsx)(ue.a,{onClick:t,color:"primary",variant:"contained",children:"Cancel"}),Object(a.jsx)(ue.a,{onClick:function(){delete localStorage.gameData,delete localStorage.gameCode,window.location.reload()},color:"primary",children:"Confirm"})]})]})},un=n(165),pn=n.n(un),dn=n(163),jn=n.n(dn),mn=n(162),bn=n.n(mn),fn=n(164),On=n.n(fn),hn=n(161),gn=n.n(hn);function xn(){var e=Object(r.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1];return function(){return a(!n)}}function vn(e){var t=e.component,n=e.components,r=e.update,o=null;return o="Checking"===t.status?Object(a.jsx)(bn.a,{}):t.ok?Object(a.jsx)(jn.a,{style:{color:"green"}}):Object(a.jsx)(On.a,{style:{color:"red"}}),Object(a.jsxs)(je.a,{children:[Object(a.jsx)(me.a,{children:Object(a.jsx)(ge.a,{onClick:function(){var e=n.indexOf(t);n.splice(e,1),r()},children:Object(a.jsx)(pn.a,{})})}),Object(a.jsx)(me.a,{children:t.url}),Object(a.jsx)(me.a,{children:o}),Object(a.jsx)(me.a,{children:t.status})]})}var yn,Cn=function(e){var t=e.onClose,n=xn(),o=Object(r.useState)(""),c=Object(x.a)(o,2),i=c[0],s=c[1];function u(e){return e.status="Checking",new Promise(function(){var t=Object(p.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gn.a.get(e.url);case 3:a=t.sent,console.log(a.status),200===a.status&&(e.status="Ok",e.ok=!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.status="Failed (".concat(t.t0.response.status,")"),e.ok=!1;case 12:n();case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}function d(){return(d=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=zt.customComponents.map((function(e){return u(e)})),n(),e.next=4,Promise.all(t);case 4:n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(nn.a,{open:!0,onClose:t,children:[Object(a.jsx)(an.a,{children:"Custom Components"}),Object(a.jsxs)(rn.a,{children:[Object(a.jsx)(on.a,{children:"Add custom components to your game."}),Object(a.jsx)(be.a,{children:Object(a.jsxs)(fe.a,{size:"small",children:[Object(a.jsx)(Nt.a,{children:Object(a.jsxs)(je.a,{children:[Object(a.jsx)(me.a,{}),Object(a.jsx)(me.a,{children:"URL"}),Object(a.jsx)(me.a,{}),Object(a.jsx)(me.a,{children:"Status"})]})}),Object(a.jsx)(Oe.a,{children:zt.customComponents.map((function(e){return Object(a.jsx)(vn,{component:e,components:zt.customComponents,update:n})}))})]})}),Object(a.jsx)("br",{}),Object(a.jsx)(G.a,{value:i,onChange:function(e){s(e.target.value)}}),Object(a.jsx)(ue.a,{onClick:function(){var e={url:i,status:"New"};zt.customComponents.push(e),u(e),s("")},variant:"contained",color:"primary",children:"Add Component"}),Object(a.jsx)(ue.a,{onClick:function(){return d.apply(this,arguments)},variant:"contained",color:"primary",children:"Check Components"})]}),Object(a.jsxs)(cn.a,{children:[Object(a.jsx)(ue.a,{onClick:function(){t()},color:"primary",children:"Done"}),Object(a.jsx)(ue.a,{onClick:function(){Ft(),window.location.reload()},color:"primary",variant:"contained",children:"Save And Reload"})]})]})},Sn=function(){var e=Object(r.useState)(!1),t=Object(x.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(x.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(!1),p=Object(x.a)(u,2),d=p[0],j=p[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(Qt.a,{open:U.state.optionsDrawerOpen,onClose:function(){U.state.optionsDrawerOpen=!1,U.update()},children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(D.a,{button:!0,onClick:function(){J.b.initializeGameData()},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Yt.a,{})}),Object(a.jsx)(P.a,{primary:"Initialize Game Data"})]}),Object(a.jsxs)(D.a,{button:!0,onClick:function(){l(!0)},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Yt.a,{})}),Object(a.jsx)(P.a,{primary:"Reset Game Configuration",secondary:"Reset all game configuration"})]}),Object(a.jsxs)(D.a,{button:!0,onClick:function(){o(!0)},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Xt.a,{})}),Object(a.jsx)(P.a,{primary:"Import / Export",secondary:"Import or export your game data"})]}),Object(a.jsxs)(D.a,{button:!0,onClick:function(){j(!0)},children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(en.a,{})}),Object(a.jsx)(P.a,{primary:"Custom Components",secondary:"Custom components for your game"})]}),Object(a.jsx)(z.a,{}),Object(a.jsx)(D.a,{onClick:function(){},children:Object(a.jsx)(P.a,{primary:"Idling Engine",secondary:"Version ".concat(tn.version)})})]})}),n&&Object(a.jsx)(sn,{onClose:function(){return o(!1)}}),s&&Object(a.jsx)(ln,{onClose:function(){return l(!1)}}),d&&Object(a.jsx)(Cn,{onClose:function(){return j(!1)}})]})},_n=n(57),Nn=(yn={},Object(_n.a)(yn,at.name,at),Object(_n.a)(yn,_t.name,_t),Object(_n.a)(yn,ht.name,ht),Object(_n.a)(yn,ot.name,ot),Object(_n.a)(yn,Gt.name,Gt),yn),kn=function(){var e=xn(),t=U.state.localSettings,n=t.styleDrawerComponentName,r=t.styleDrawerStyleId,o=function(t,n){U.state.localSettings.styleDrawerComponentName=t,U.state.localSettings.styleDrawerStyleId=n,e()},c=null;return n&&(c=De[n]),c&&c[r]||(r=""),Object(a.jsx)("div",{children:Object(a.jsx)(Qt.a,{open:U.state.localSettings.styleDrawerOpen,onClose:function(){U.state.localSettings.styleDrawerOpen=!1,U.state.localSettings.highlightComponents=U.state.localSettings.previousHighlightComponents,H(),U.update()},anchor:"right",BackdropProps:{invisible:!0},children:Object(a.jsxs)("div",{style:{padding:"1em"},children:[Object(a.jsx)(le.a,{variant:"h4",children:"Style Components"}),Object(a.jsx)(Se,{value:n,items:Object.keys(Nn),label:"Component",onChange:function(t){De[t.target.value]=De[t.target.value]||{},o(t.target.value,""),e()}}),c&&Object(a.jsxs)(se.a,{display:"flex",alignItems:"flex-end",children:[Object(a.jsx)(se.a,{flexGrow:1,children:Object(a.jsx)(Se,{value:r,items:Object.keys(c).map((function(e){return{value:e,name:c[e]._name}})),label:"Styles",onChange:function(e){o(n,"")}})}),Object(a.jsx)(se.a,{children:Object(a.jsx)(ue.a,{onClick:function(e){var t=Object(W.a)();c[t]={_name:"New Style ".concat(Object.keys(c).length+1)},o(n,t)},variant:"contained",children:"Add Style"})})]}),c&&r&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Fe,{config:[{property:"_name",type:we}].concat(Object(Ee.a)(Nn[n].styleProperties)),properties:c[r],setProp:function(e){var t=Object.assign({},c[r],{customId:Math.random()});e(t),c[r]=t,U.update()}}),Object(a.jsx)(ue.a,{onClick:function(e){var t=Object.keys(c),a=t.indexOf(r),i="";delete c[r],a>0?i=t[a-1]:t.length&&(i=t[1]),o(n,i)},variant:"contained",children:"Delete Style"})]})]})})})};function wn(){try{var e=localStorage.gameData;if(e)return(e=JSON.parse(e)).baseStyles&&function(e){for(var t in e){var n=Ue[t],a=e[t];n&&a&&(n.baseStyle=Object(f.a)(Object(f.a)({},n.baseStyle),a))}}(e.baseStyles),e.customStyles&&Object.assign(De,e.customStyles),zt.gameData=e,zt.customComponents=e.customComponents||[],e;console.warn("No game data loaded")}catch(t){console.error(t)}return zt.gameData={},null}localStorage.localSettings&&(U.state.localSettings=JSON.parse(localStorage.localSettings));var Dn=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={customComponentsLoaded:!1},e.update=function(){e.setState({})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t,n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.update=this.update,Object(J.c)(U.update),zt.gameData||wn(),Object(J.a)(),t=[],n={},a=Object(u.a)(zt.customComponents),e.prev=7,o=function(){var e=r.value;if(!e.url)return"continue";var a=new Promise((function(t){var a=document.createElement("script");a.type="text/javascript",a.src=e.url,a.onload=function(){t()},a.onerror=function(a){console.log(a),n[e.url]=a,t()},document.head.append(a)}));t.push(a)},a.s();case 10:if((r=a.n()).done){e.next=16;break}if("continue"!==o()){e.next=14;break}return e.abrupt("continue",14);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.next=26,Promise.all(t);case 26:console.log(n),this.setState({customComponentsLoaded:!0});case 28:case"end":return e.stop()}}),e,this,[[7,18,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.customComponentsLoaded?Object(a.jsxs)(Bt.a,{theme:qt,children:[Object(a.jsx)(Jt.a,{}),Object(a.jsx)(B.Provider,{value:{state:U.state,update:this.update,editorQuery:U.editorQuery},children:Object(a.jsx)(Z.a,{basename:"/idling-engine",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(Sn,{}),Object(a.jsx)(kn,{}),Object(a.jsx)(Mt,{}),Object(a.jsxs)(_.d,{children:[Object(a.jsx)(_.b,{path:"/edit",render:function(){return Object(a.jsx)(Rt,{})}}),Object(a.jsx)(_.b,{path:"/code",render:function(){return Object(a.jsx)(Q,{})}}),Object(a.jsx)(_.b,{path:"/play",render:function(){return Object(a.jsx)(Ut,{})}}),Object(a.jsx)(_.b,{path:"/documentation",render:function(){return Object(a.jsx)(ce,{})}}),Object(a.jsx)(_.b,{path:"/",children:Object(a.jsx)(_.a,{to:"/edit"})})]})]})})})]}):null}}]),n}(r.Component);n(715);i.a.render(Object(a.jsx)(Dn,{}),document.getElementById("root"))}},[[716,1,2]]]);
//# sourceMappingURL=main.c614fd6f.chunk.js.map